function pS(s,n){for(var a=0;a<n.length;a++){const r=n[a];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function K1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var lf={exports:{}},ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function mS(){if(sg)return ti;sg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return ti.Fragment=n,ti.jsx=a,ti.jsxs=a,ti}var ig;function gS(){return ig||(ig=1,lf.exports=mS()),lf.exports}var k=gS(),of={exports:{}},ni={},cf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function yS(){return lg||(lg=1,function(s){function n(V,te){var ce=V.length;V.push(te);e:for(;0<ce;){var ke=ce-1>>>1,E=V[ke];if(0<o(E,te))V[ke]=te,V[ce]=E,ce=ke;else break e}}function a(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var te=V[0],ce=V.pop();if(ce!==te){V[0]=ce;e:for(var ke=0,E=V.length,Z=E>>>1;ke<Z;){var se=2*(ke+1)-1,ne=V[se],de=se+1,De=V[de];if(0>o(ne,ce))de<E&&0>o(De,ne)?(V[ke]=De,V[de]=ce,ke=de):(V[ke]=ne,V[se]=ce,ke=se);else if(de<E&&0>o(De,ce))V[ke]=De,V[de]=ce,ke=de;else break e}}return te}function o(V,te){var ce=V.sortIndex-te.sortIndex;return ce!==0?ce:V.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,b=null,S=3,_=!1,C=!1,M=!1,U=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function I(V){for(var te=a(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=V)r(m),te.sortIndex=te.expirationTime,n(p,te);else break;te=a(m)}}function $(V){if(M=!1,I(V),!C)if(a(p)!==null)C=!0,D||(D=!0,X());else{var te=a(m);te!==null&&Ce($,te.startTime-V)}}var D=!1,T=-1,N=5,q=-1;function L(){return U?!0:!(s.unstable_now()-q<N)}function P(){if(U=!1,D){var V=s.unstable_now();q=V;var te=!0;try{e:{C=!1,M&&(M=!1,R(T),T=-1),_=!0;var ce=S;try{t:{for(I(V),b=a(p);b!==null&&!(b.expirationTime>V&&L());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,S=b.priorityLevel;var E=ke(b.expirationTime<=V);if(V=s.unstable_now(),typeof E=="function"){b.callback=E,I(V),te=!0;break t}b===a(p)&&r(p),I(V)}else r(p);b=a(p)}if(b!==null)te=!0;else{var Z=a(m);Z!==null&&Ce($,Z.startTime-V),te=!1}}break e}finally{b=null,S=ce,_=!1}te=void 0}}finally{te?X():D=!1}}}var X;if(typeof B=="function")X=function(){B(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,re=F.port2;F.port1.onmessage=P,X=function(){re.postMessage(null)}}else X=function(){A(P,0)};function Ce(V,te){T=A(function(){V(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(V){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var ce=S;S=te;try{return V()}finally{S=ce}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=S;S=V;try{return te()}finally{S=ce}},s.unstable_scheduleCallback=function(V,te,ce){var ke=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ke+ce:ke):ce=ke,V){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ce+E,V={id:y++,callback:te,priorityLevel:V,startTime:ce,expirationTime:E,sortIndex:-1},ce>ke?(V.sortIndex=ce,n(m,V),a(p)===null&&V===a(m)&&(M?(R(T),T=-1):M=!0,Ce($,ce-ke))):(V.sortIndex=E,n(p,V),C||_||(C=!0,D||(D=!0,X()))),V},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(V){var te=S;return function(){var ce=S;S=te;try{return V.apply(this,arguments)}finally{S=ce}}}}(uf)),uf}var og;function bS(){return og||(og=1,cf.exports=yS()),cf.exports}var ff={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function _S(){if(cg)return Te;cg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function U(E,Z,se){this.props=E,this.context=Z,this.refs=M,this.updater=se||_}U.prototype.isReactComponent={},U.prototype.setState=function(E,Z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Z,"setState")},U.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function A(){}A.prototype=U.prototype;function R(E,Z,se){this.props=E,this.context=Z,this.refs=M,this.updater=se||_}var B=R.prototype=new A;B.constructor=R,C(B,U.prototype),B.isPureReactComponent=!0;var I=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function T(E,Z,se,ne,de,De){return se=De.ref,{$$typeof:s,type:E,key:Z,ref:se!==void 0?se:null,props:De}}function N(E,Z){return T(E.type,Z,void 0,void 0,void 0,E.props)}function q(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function L(E){var Z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(se){return Z[se]})}var P=/\/+/g;function X(E,Z){return typeof E=="object"&&E!==null&&E.key!=null?L(""+E.key):Z.toString(36)}function F(){}function re(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(F,F):(E.status="pending",E.then(function(Z){E.status==="pending"&&(E.status="fulfilled",E.value=Z)},function(Z){E.status==="pending"&&(E.status="rejected",E.reason=Z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Ce(E,Z,se,ne,de){var De=typeof E;(De==="undefined"||De==="boolean")&&(E=null);var be=!1;if(E===null)be=!0;else switch(De){case"bigint":case"string":case"number":be=!0;break;case"object":switch(E.$$typeof){case s:case n:be=!0;break;case y:return be=E._init,Ce(be(E._payload),Z,se,ne,de)}}if(be)return de=de(E),be=ne===""?"."+X(E,0):ne,I(de)?(se="",be!=null&&(se=be.replace(P,"$&/")+"/"),Ce(de,Z,se,"",function(Rt){return Rt})):de!=null&&(q(de)&&(de=N(de,se+(de.key==null||E&&E.key===de.key?"":(""+de.key).replace(P,"$&/")+"/")+be)),Z.push(de)),1;be=0;var Ie=ne===""?".":ne+":";if(I(E))for(var je=0;je<E.length;je++)ne=E[je],De=Ie+X(ne,je),be+=Ce(ne,Z,se,De,de);else if(je=S(E),typeof je=="function")for(E=je.call(E),je=0;!(ne=E.next()).done;)ne=ne.value,De=Ie+X(ne,je++),be+=Ce(ne,Z,se,De,de);else if(De==="object"){if(typeof E.then=="function")return Ce(re(E),Z,se,ne,de);throw Z=String(E),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return be}function V(E,Z,se){if(E==null)return E;var ne=[],de=0;return Ce(E,ne,"","",function(De){return Z.call(se,De,de++)}),ne}function te(E){if(E._status===-1){var Z=E._result;Z=Z(),Z.then(function(se){(E._status===0||E._status===-1)&&(E._status=1,E._result=se)},function(se){(E._status===0||E._status===-1)&&(E._status=2,E._result=se)}),E._status===-1&&(E._status=0,E._result=Z)}if(E._status===1)return E._result.default;throw E._result}var ce=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ke(){}return Te.Children={map:V,forEach:function(E,Z,se){V(E,function(){Z.apply(this,arguments)},se)},count:function(E){var Z=0;return V(E,function(){Z++}),Z},toArray:function(E){return V(E,function(Z){return Z})||[]},only:function(E){if(!q(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Te.Component=U,Te.Fragment=a,Te.Profiler=o,Te.PureComponent=R,Te.StrictMode=r,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Te.__COMPILER_RUNTIME={__proto__:null,c:function(E){return $.H.useMemoCache(E)}},Te.cache=function(E){return function(){return E.apply(null,arguments)}},Te.cloneElement=function(E,Z,se){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ne=C({},E.props),de=E.key,De=void 0;if(Z!=null)for(be in Z.ref!==void 0&&(De=void 0),Z.key!==void 0&&(de=""+Z.key),Z)!D.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(ne[be]=Z[be]);var be=arguments.length-2;if(be===1)ne.children=se;else if(1<be){for(var Ie=Array(be),je=0;je<be;je++)Ie[je]=arguments[je+2];ne.children=Ie}return T(E.type,de,void 0,void 0,De,ne)},Te.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Te.createElement=function(E,Z,se){var ne,de={},De=null;if(Z!=null)for(ne in Z.key!==void 0&&(De=""+Z.key),Z)D.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(de[ne]=Z[ne]);var be=arguments.length-2;if(be===1)de.children=se;else if(1<be){for(var Ie=Array(be),je=0;je<be;je++)Ie[je]=arguments[je+2];de.children=Ie}if(E&&E.defaultProps)for(ne in be=E.defaultProps,be)de[ne]===void 0&&(de[ne]=be[ne]);return T(E,De,void 0,void 0,null,de)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(E){return{$$typeof:h,render:E}},Te.isValidElement=q,Te.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:te}},Te.memo=function(E,Z){return{$$typeof:m,type:E,compare:Z===void 0?null:Z}},Te.startTransition=function(E){var Z=$.T,se={};$.T=se;try{var ne=E(),de=$.S;de!==null&&de(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ke,ce)}catch(De){ce(De)}finally{$.T=Z}},Te.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Te.use=function(E){return $.H.use(E)},Te.useActionState=function(E,Z,se){return $.H.useActionState(E,Z,se)},Te.useCallback=function(E,Z){return $.H.useCallback(E,Z)},Te.useContext=function(E){return $.H.useContext(E)},Te.useDebugValue=function(){},Te.useDeferredValue=function(E,Z){return $.H.useDeferredValue(E,Z)},Te.useEffect=function(E,Z,se){var ne=$.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(E,Z)},Te.useId=function(){return $.H.useId()},Te.useImperativeHandle=function(E,Z,se){return $.H.useImperativeHandle(E,Z,se)},Te.useInsertionEffect=function(E,Z){return $.H.useInsertionEffect(E,Z)},Te.useLayoutEffect=function(E,Z){return $.H.useLayoutEffect(E,Z)},Te.useMemo=function(E,Z){return $.H.useMemo(E,Z)},Te.useOptimistic=function(E,Z){return $.H.useOptimistic(E,Z)},Te.useReducer=function(E,Z,se){return $.H.useReducer(E,Z,se)},Te.useRef=function(E){return $.H.useRef(E)},Te.useState=function(E){return $.H.useState(E)},Te.useSyncExternalStore=function(E,Z,se){return $.H.useSyncExternalStore(E,Z,se)},Te.useTransition=function(){return $.H.useTransition()},Te.version="19.1.0",Te}var ug;function Md(){return ug||(ug=1,ff.exports=_S()),ff.exports}var df={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function vS(){if(fg)return St;fg=1;var s=Md();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:m,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,St.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(p,m,null,y)},St.flushSync=function(p){var m=d.T,y=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=m,r.p=y,r.d.f()}},St.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},St.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},St.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:_}):y==="script"&&r.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},St.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},St.requestFormReset=function(p){r.d.r(p)},St.unstable_batchedUpdates=function(p,m){return p(m)},St.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},St.useFormStatus=function(){return d.H.useHostTransitionStatus()},St.version="19.1.0",St}var dg;function SS(){if(dg)return df.exports;dg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),df.exports=vS(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function CS(){if(hg)return ni;hg=1;var s=bS(),n=Md(),a=SS();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,l=t;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){i=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return h(u),e;if(f===l)return h(u),t;f=f.sibling}throw Error(r(188))}if(i.return!==l.return)i=u,l=f;else{for(var g=!1,v=u.child;v;){if(v===i){g=!0,i=u,l=f;break}if(v===l){g=!0,l=u,i=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===i){g=!0,i=f,l=u;break}if(v===l){g=!0,l=f,i=u;break}v=v.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case U:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case B:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var Ce=Array.isArray,V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ke=[],E=-1;function Z(e){return{current:e}}function se(e){0>E||(e.current=ke[E],ke[E]=null,E--)}function ne(e,t){E++,ke[E]=e.current,e.current=t}var de=Z(null),De=Z(null),be=Z(null),Ie=Z(null);function je(e,t){switch(ne(be,t),ne(De,e),ne(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=km(t),e=jm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(de),ne(de,e)}function Rt(){se(de),se(De),se(be)}function Ta(e){e.memoizedState!==null&&ne(Ie,e);var t=de.current,i=jm(t,e.type);t!==i&&(ne(De,e),ne(de,i))}function Ai(e){De.current===e&&(se(de),se(De)),Ie.current===e&&(se(Ie),Zs._currentValue=ce)}var Io=Object.prototype.hasOwnProperty,Vo=s.unstable_scheduleCallback,Qo=s.unstable_cancelCallback,I_=s.unstable_shouldYield,V_=s.unstable_requestPaint,pn=s.unstable_now,Q_=s.unstable_getCurrentPriorityLevel,hh=s.unstable_ImmediatePriority,ph=s.unstable_UserBlockingPriority,wi=s.unstable_NormalPriority,K_=s.unstable_LowPriority,mh=s.unstable_IdlePriority,Z_=s.log,J_=s.unstable_setDisableYieldValue,rs=null,zt=null;function In(e){if(typeof Z_=="function"&&J_(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(rs,e)}catch{}}var Lt=Math.clz32?Math.clz32:ev,F_=Math.log,W_=Math.LN2;function ev(e){return e>>>=0,e===0?32:31-(F_(e)/W_|0)|0}var Mi=256,Oi=4194304;function Ra(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Di(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~f,l!==0?u=Ra(l):(g&=v,g!==0?u=Ra(g):i||(i=v&~e,i!==0&&(u=Ra(i))))):(v=l&~f,v!==0?u=Ra(v):g!==0?u=Ra(g):i||(i=l&~e,i!==0&&(u=Ra(i)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:u}function ss(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(){var e=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),e}function yh(){var e=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),e}function Ko(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function is(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nv(e,t,i,l,u,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(i=g&~i;0<i;){var Q=31-Lt(i),J=1<<Q;v[Q]=0,x[Q]=-1;var Y=z[Q];if(Y!==null)for(z[Q]=null,Q=0;Q<Y.length;Q++){var G=Y[Q];G!==null&&(G.lane&=-536870913)}i&=~J}l!==0&&bh(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function bh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Lt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function _h(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Lt(i),u=1<<l;u&t|e[l]&t&&(e[l]|=t),i&=~u}}function Zo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vh(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Wm(e.type))}function av(e,t){var i=te.p;try{return te.p=e,t()}finally{te.p=i}}var Vn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Vn,Ot="__reactProps$"+Vn,er="__reactContainer$"+Vn,Fo="__reactEvents$"+Vn,rv="__reactListeners$"+Vn,sv="__reactHandles$"+Vn,Sh="__reactResources$"+Vn,ls="__reactMarker$"+Vn;function Wo(e){delete e[_t],delete e[Ot],delete e[Fo],delete e[rv],delete e[sv]}function tr(e){var t=e[_t];if(t)return t;for(var i=e.parentNode;i;){if(t=i[er]||i[_t]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Lm(e);e!==null;){if(i=e[_t])return i;e=Lm(e)}return t}e=i,i=e.parentNode}return null}function nr(e){if(e=e[_t]||e[er]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function os(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ar(e){var t=e[Sh];return t||(t=e[Sh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[ls]=!0}var Ch=new Set,xh={};function Ea(e,t){rr(e,t),rr(e+"Capture",t)}function rr(e,t){for(xh[e]=t,e=0;e<t.length;e++)Ch.add(t[e])}var iv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},Rh={};function lv(e){return Io.call(Rh,e)?!0:Io.call(Th,e)?!1:iv.test(e)?Rh[e]=!0:(Th[e]=!0,!1)}function Ni(e,t,i){if(lv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ki(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Rn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}var ec,Eh;function sr(e){if(ec===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||"",Eh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+e+Eh}var tc=!1;function nc(e,t){if(!e||tc)return"";tc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var Y=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){Y=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){Y=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&Y&&typeof G.stack=="string")return[G.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var x=g.split(`
`),z=v.split(`
`);for(u=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;if(l===x.length||u===z.length)for(l=x.length-1,u=z.length-1;1<=l&&0<=u&&x[l]!==z[u];)u--;for(;1<=l&&0<=u;l--,u--)if(x[l]!==z[u]){if(l!==1||u!==1)do if(l--,u--,0>u||x[l]!==z[u]){var Q=`
`+x[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=u);break}}}finally{tc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?sr(i):""}function ov(e){switch(e.tag){case 26:case 27:case 5:return sr(e.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return nc(e.type,!1);case 11:return nc(e.type.render,!1);case 1:return nc(e.type,!0);case 31:return sr("Activity");default:return""}}function Ah(e){try{var t="";do t+=ov(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cv(e){var t=wh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=cv(e))}function Mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=wh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uv=/[\n"\\]/g;function Zt(e){return e.replace(uv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ac(e,t,i,l,u,f,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?rc(e,g,Kt(t)):i!=null?rc(e,g,Kt(i)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Kt(v):e.removeAttribute("name")}function Oh(e,t,i,l,u,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;i=i!=null?""+Kt(i):"",t=t!=null?""+Kt(t):i,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function rc(e,t,i){t==="number"&&Bi(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ir(e,t,i,l){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Kt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Dh(e,t,i){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Kt(i):""}function Nh(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(r(92));if(Ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=Kt(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function lr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var fv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kh(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||fv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function jh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&i[u]!==l&&kh(e,u,l)}else for(var f in t)t.hasOwnProperty(f)&&kh(e,f,t[f])}function sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(e){return hv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ic=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,cr=null;function Bh(e){var t=nr(e);if(t&&(e=t.stateNode)){var i=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(ac(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var u=l[Ot]||null;if(!u)throw Error(r(90));ac(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&Mh(l)}break e;case"textarea":Dh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ir(e,!!i.multiple,t,!1)}}}var oc=!1;function Uh(e,t,i){if(oc)return e(t,i);oc=!0;try{var l=e(t);return l}finally{if(oc=!1,(or!==null||cr!==null)&&(Sl(),or&&(t=or,e=cr,cr=or=null,Bh(t),e)))for(t=0;t<e.length;t++)Bh(e[t])}}function cs(e,t){var i=e.stateNode;if(i===null)return null;var l=i[Ot]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(En)try{var us={};Object.defineProperty(us,"passive",{get:function(){cc=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{cc=!1}var Qn=null,uc=null,zi=null;function zh(){if(zi)return zi;var e,t=uc,i=t.length,l,u="value"in Qn?Qn.value:Qn.textContent,f=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(l=1;l<=g&&t[i-l]===u[f-l];l++);return zi=u.slice(e,1<l?1-l:void 0)}function Li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Lh(){return!1}function Dt(e){function t(i,l,u,f,g){this._reactName=i,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:Lh,this.isPropagationStopped=Lh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Dt(Aa),fs=y({},Aa,{view:0,detail:0}),pv=Dt(fs),fc,dc,ds,Hi=y({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ds&&(ds&&e.type==="mousemove"?(fc=e.screenX-ds.screenX,dc=e.screenY-ds.screenY):dc=fc=0,ds=e),fc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),$h=Dt(Hi),mv=y({},Hi,{dataTransfer:0}),gv=Dt(mv),yv=y({},fs,{relatedTarget:0}),hc=Dt(yv),bv=y({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),_v=Dt(bv),vv=y({},Aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sv=Dt(vv),Cv=y({},Aa,{data:0}),qh=Dt(Cv),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rv[e])?!!t[e]:!1}function pc(){return Ev}var Av=y({},fs,{key:function(e){if(e.key){var t=xv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wv=Dt(Av),Mv=y({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Dt(Mv),Ov=y({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Dv=Dt(Ov),Nv=y({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=Dt(Nv),jv=y({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=Dt(jv),Uv=y({},Aa,{newState:0,oldState:0}),zv=Dt(Uv),Lv=[9,13,27,32],mc=En&&"CompositionEvent"in window,hs=null;En&&"documentMode"in document&&(hs=document.documentMode);var $v=En&&"TextEvent"in window&&!hs,Ph=En&&(!mc||hs&&8<hs&&11>=hs),Yh=" ",Gh=!1;function Xh(e,t){switch(e){case"keyup":return Lv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function qv(e,t){switch(e){case"compositionend":return Ih(t);case"keypress":return t.which!==32?null:(Gh=!0,Yh);case"textInput":return e=t.data,e===Yh&&Gh?null:e;default:return null}}function Hv(e,t){if(ur)return e==="compositionend"||!mc&&Xh(e,t)?(e=zh(),zi=uc=Qn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ph&&t.locale!=="ko"?null:t.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pv[e.type]:t==="textarea"}function Qh(e,t,i,l){or?cr?cr.push(l):cr=[l]:or=l,t=Al(t,"onChange"),0<t.length&&(i=new qi("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ps=null,ms=null;function Yv(e){wm(e,0)}function Pi(e){var t=os(e);if(Mh(t))return e}function Kh(e,t){if(e==="change")return t}var Zh=!1;if(En){var gc;if(En){var yc="oninput"in document;if(!yc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),yc=typeof Jh.oninput=="function"}gc=yc}else gc=!1;Zh=gc&&(!document.documentMode||9<document.documentMode)}function Fh(){ps&&(ps.detachEvent("onpropertychange",Wh),ms=ps=null)}function Wh(e){if(e.propertyName==="value"&&Pi(ms)){var t=[];Qh(t,ms,e,lc(e)),Uh(Yv,t)}}function Gv(e,t,i){e==="focusin"?(Fh(),ps=t,ms=i,ps.attachEvent("onpropertychange",Wh)):e==="focusout"&&Fh()}function Xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(ms)}function Iv(e,t){if(e==="click")return Pi(t)}function Vv(e,t){if(e==="input"||e==="change")return Pi(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Qv;function gs(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var u=i[l];if(!Io.call(t,u)||!$t(e[u],t[u]))return!1}return!0}function e0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t0(e,t){var i=e0(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=e0(i)}}function n0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bi(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Bi(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kv=En&&"documentMode"in document&&11>=document.documentMode,fr=null,_c=null,ys=null,vc=!1;function r0(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;vc||fr==null||fr!==Bi(l)||(l=fr,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ys&&gs(ys,l)||(ys=l,l=Al(_c,"onSelect"),0<l.length&&(t=new qi("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=fr)))}function wa(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var dr={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Sc={},s0={};En&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Ma(e){if(Sc[e])return Sc[e];if(!dr[e])return e;var t=dr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in s0)return Sc[e]=t[i];return e}var i0=Ma("animationend"),l0=Ma("animationiteration"),o0=Ma("animationstart"),Zv=Ma("transitionrun"),Jv=Ma("transitionstart"),Fv=Ma("transitioncancel"),c0=Ma("transitionend"),u0=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function on(e,t){u0.set(e,t),Ea(t,[e])}var f0=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var i=f0.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Ah(t)},f0.set(e,t),t)}return{value:e,source:t,stack:Ah(t)}}var Ft=[],hr=0,xc=0;function Yi(){for(var e=hr,t=xc=hr=0;t<e;){var i=Ft[t];Ft[t++]=null;var l=Ft[t];Ft[t++]=null;var u=Ft[t];Ft[t++]=null;var f=Ft[t];if(Ft[t++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&d0(i,u,f)}}function Gi(e,t,i,l){Ft[hr++]=e,Ft[hr++]=t,Ft[hr++]=i,Ft[hr++]=l,xc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tc(e,t,i,l){return Gi(e,t,i,l),Xi(e)}function pr(e,t){return Gi(e,null,null,t),Xi(e)}function d0(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var u=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-Lt(i),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=i|536870912),f):null}function Xi(e){if(50<Ps)throw Ps=0,Ou=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mr={};function Wv(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,i,l){return new Wv(e,t,i,l)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var i=e.alternate;return i===null?(i=qt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function h0(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ii(e,t,i,l,u,f){var g=0;if(l=e,typeof e=="function")Rc(e)&&(g=1);else if(typeof e=="string")g=tS(e,i,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=qt(31,i,t,u),e.elementType=q,e.lanes=f,e;case C:return Oa(i.children,u,f,t);case M:g=8,u|=24;break;case U:return e=qt(12,i,t,u|2),e.elementType=U,e.lanes=f,e;case $:return e=qt(13,i,t,u),e.elementType=$,e.lanes=f,e;case D:return e=qt(19,i,t,u),e.elementType=D,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case B:g=10;break e;case R:g=9;break e;case I:g=11;break e;case T:g=14;break e;case N:g=16,l=null;break e}g=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=qt(g,i,t,u),t.elementType=e,t.type=l,t.lanes=f,t}function Oa(e,t,i,l){return e=qt(7,e,l,t),e.lanes=i,e}function Ec(e,t,i){return e=qt(6,e,null,t),e.lanes=i,e}function Ac(e,t,i){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gr=[],yr=0,Vi=null,Qi=0,Wt=[],en=0,Da=null,wn=1,Mn="";function Na(e,t){gr[yr++]=Qi,gr[yr++]=Vi,Vi=e,Qi=t}function p0(e,t,i){Wt[en++]=wn,Wt[en++]=Mn,Wt[en++]=Da,Da=e;var l=wn;e=Mn;var u=32-Lt(l)-1;l&=~(1<<u),i+=1;var f=32-Lt(t)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,wn=1<<32-Lt(t)+u|i<<u|l,Mn=f+e}else wn=1<<f|i<<u|l,Mn=e}function wc(e){e.return!==null&&(Na(e,1),p0(e,1,0))}function Mc(e){for(;e===Vi;)Vi=gr[--yr],gr[yr]=null,Qi=gr[--yr],gr[yr]=null;for(;e===Da;)Da=Wt[--en],Wt[en]=null,Mn=Wt[--en],Wt[en]=null,wn=Wt[--en],Wt[en]=null}var Et=null,Qe=null,ze=!1,ka=null,mn=!1,Oc=Error(r(519));function ja(e){var t=Error(r(418,""));throw vs(Jt(t,e)),Oc}function m0(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[_t]=e,t[Ot]=l,i){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(i=0;i<Gs.length;i++)Me(Gs[i],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),Oh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ji(t);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),Nh(t,l.value,l.defaultValue,l.children),ji(t)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||Nm(t.textContent,i)?(l.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),l.onScroll!=null&&Me("scroll",t),l.onScrollEnd!=null&&Me("scrollend",t),l.onClick!=null&&(t.onclick=wl),t=!0):t=!1,t||ja(e)}function g0(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:Et=Et.return}}function bs(e){if(e!==Et)return!1;if(!ze)return g0(e),ze=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Iu(e.type,e.memoizedProps)),i=!i),i&&Qe&&ja(e),g0(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Qe=un(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,ua(e.type)?(e=Zu,Zu=null,Qe=e):Qe=t):Qe=Et?un(e.stateNode.nextSibling):null;return!0}function _s(){Qe=Et=null,ze=!1}function y0(){var e=ka;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),ka=null),e}function vs(e){ka===null?ka=[e]:ka.push(e)}var Dc=Z(null),Ba=null,On=null;function Kn(e,t,i){ne(Dc,t._currentValue),t._currentValue=i}function Dn(e){e._currentValue=Dc.current,se(Dc)}function Nc(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function kc(e,t,i,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var x=0;x<t.length;x++)if(v.context===t[x]){f.lanes|=i,v=f.alternate,v!==null&&(v.lanes|=i),Nc(f.return,i,e),l||(g=null);break e}f=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Nc(g,i,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Ss(e,t,i,l){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=u.type;$t(u.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(u===Ie.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Zs):e=[Zs])}u=u.return}e!==null&&kc(t,e,i,l),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){Ba=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return b0(Ba,e)}function Zi(e,t){return Ba===null&&Ua(e),b0(e,t)}function b0(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},On===null){if(e===null)throw Error(r(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return i}var e2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},t2=s.unstable_scheduleCallback,n2=s.unstable_NormalPriority,rt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new e2,data:new Map,refCount:0}}function Cs(e){e.refCount--,e.refCount===0&&t2(n2,function(){e.controller.abort()})}var xs=null,Bc=0,br=0,_r=null;function a2(e,t){if(xs===null){var i=xs=[];Bc=0,br=zu(),_r={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Bc++,t.then(_0,_0),t}function _0(){if(--Bc===0&&xs!==null){_r!==null&&(_r.status="fulfilled");var e=xs;xs=null,br=0,_r=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r2(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),l}var v0=V.S;V.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&a2(e,t),v0!==null&&v0(e,t)};var za=Z(null);function Uc(){var e=za.current;return e!==null?e:Ge.pooledCache}function Ji(e,t){t===null?ne(za,za.current):ne(za,t.pool)}function S0(){var e=Uc();return e===null?null:{parent:rt._currentValue,pool:e}}var Ts=Error(r(460)),C0=Error(r(474)),Fi=Error(r(542)),zc={then:function(){}};function x0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wi(){}function T0(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Wi,Wi),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,E0(e),e;default:if(typeof t.status=="string")t.then(Wi,Wi);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,E0(e),e}throw Rs=t,Ts}}var Rs=null;function R0(){if(Rs===null)throw Error(r(459));var e=Rs;return Rs=null,e}function E0(e){if(e===Ts||e===Fi)throw Error(r(483))}var Zn=!1;function Lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Xi(e),d0(e,null,i),t}return Gi(e,l,t,i),Xi(e)}function Es(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,_h(e,i)}}function qc(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?u=f=t:f=f.next=t}else u=f=t;i={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Hc=!1;function As(){if(Hc){var e=_r;if(e!==null)throw e}}function ws(e,t,i,l){Hc=!1;var u=e.updateQueue;Zn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var x=v,z=x.next;x.next=null,g===null?f=z:g.next=z,g=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,v=Q.lastBaseUpdate,v!==g&&(v===null?Q.firstBaseUpdate=z:v.next=z,Q.lastBaseUpdate=x))}if(f!==null){var J=u.baseState;g=0,Q=z=x=null,v=f;do{var Y=v.lane&-536870913,G=Y!==v.lane;if(G?(Be&Y)===Y:(l&Y)===Y){Y!==0&&Y===br&&(Hc=!0),Q!==null&&(Q=Q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ge=e,he=v;Y=t;var Pe=i;switch(he.tag){case 1:if(ge=he.payload,typeof ge=="function"){J=ge.call(Pe,J,Y);break e}J=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=he.payload,Y=typeof ge=="function"?ge.call(Pe,J,Y):ge,Y==null)break e;J=y({},J,Y);break e;case 2:Zn=!0}}Y=v.callback,Y!==null&&(e.flags|=64,G&&(e.flags|=8192),G=u.callbacks,G===null?u.callbacks=[Y]:G.push(Y))}else G={lane:Y,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Q===null?(z=Q=G,x=J):Q=Q.next=G,g|=Y;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;G=v,v=G.next,G.next=null,u.lastBaseUpdate=G,u.shared.pending=null}}while(!0);Q===null&&(x=J),u.baseState=x,u.firstBaseUpdate=z,u.lastBaseUpdate=Q,f===null&&(u.shared.lanes=0),ia|=g,e.lanes=g,e.memoizedState=J}}function A0(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function w0(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)A0(i[e],t)}var vr=Z(null),el=Z(0);function M0(e,t){e=Ln,ne(el,e),ne(vr,t),Ln=e|t.baseLanes}function Pc(){ne(el,Ln),ne(vr,vr.current)}function Yc(){Ln=el.current,se(vr),se(el)}var Wn=0,Re=null,qe=null,Fe=null,tl=!1,Sr=!1,La=!1,nl=0,Ms=0,Cr=null,s2=0;function Ze(){throw Error(r(321))}function Gc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!$t(e[i],t[i]))return!1;return!0}function Xc(e,t,i,l,u,f){return Wn=f,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?dp:hp,La=!1,f=i(l,u),La=!1,Sr&&(f=D0(t,i,l,u)),O0(e),f}function O0(e){V.H=ol;var t=qe!==null&&qe.next!==null;if(Wn=0,Fe=qe=Re=null,tl=!1,Ms=0,Cr=null,t)throw Error(r(300));e===null||ct||(e=e.dependencies,e!==null&&Ki(e)&&(ct=!0))}function D0(e,t,i,l){Re=e;var u=0;do{if(Sr&&(Cr=null),Ms=0,Sr=!1,25<=u)throw Error(r(301));if(u+=1,Fe=qe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}V.H=d2,f=t(i,l)}while(Sr);return f}function i2(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?Os(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Re.flags|=1024),t}function Ic(){var e=nl!==0;return nl=0,e}function Vc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Qc(e){if(tl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tl=!1}Wn=0,Fe=qe=Re=null,Sr=!1,Ms=nl=0,Cr=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Re.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function We(){if(qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Fe===null?Re.memoizedState:Fe.next;if(t!==null)Fe=t,qe=e;else{if(e===null)throw Re.alternate===null?Error(r(467)):Error(r(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Fe===null?Re.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(e){var t=Ms;return Ms+=1,Cr===null&&(Cr=[]),e=T0(Cr,e,t),t=Re,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?dp:hp),e}function al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Os(e);if(e.$$typeof===B)return vt(e)}throw Error(r(438,String(e)))}function Zc(e){var t=null,i=Re.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Kc(),Re.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=L;return t.index++,i}function Nn(e,t){return typeof t=="function"?t(e):t}function rl(e){var t=We();return Jc(t,qe,e)}function Jc(e,t,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}t.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var v=g=null,x=null,z=t,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Be&J)===J:(Wn&J)===J){var Y=z.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===br&&(Q=!0);else if((Wn&Y)===Y){z=z.next,Y===br&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(v=x=J,g=f):x=x.next=J,Re.lanes|=Y,ia|=Y;J=z.action,La&&i(f,J),f=z.hasEagerState?z.eagerState:i(f,J)}else Y={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(v=x=Y,g=f):x=x.next=Y,Re.lanes|=J,ia|=J;z=z.next}while(z!==null&&z!==t);if(x===null?g=f:x.next=v,!$t(f,e.memoizedState)&&(ct=!0,Q&&(i=_r,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=x,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Fc(e){var t=We(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,u=i.pending,f=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);$t(f,t.memoizedState)||(ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,l]}function N0(e,t,i){var l=Re,u=We(),f=ze;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=t();var g=!$t((qe||u).memoizedState,i);g&&(u.memoizedState=i,ct=!0),u=u.queue;var v=B0.bind(null,l,u,e);if(Ds(2048,8,v,[e]),u.getSnapshot!==t||g||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,xr(9,sl(),j0.bind(null,l,u,i,t),null),Ge===null)throw Error(r(349));f||(Wn&124)!==0||k0(l,t,i)}return i}function k0(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Re.updateQueue,t===null?(t=Kc(),Re.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function j0(e,t,i,l){t.value=i,t.getSnapshot=l,U0(t)&&z0(e)}function B0(e,t,i){return i(function(){U0(t)&&z0(e)})}function U0(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!$t(e,i)}catch{return!0}}function z0(e){var t=pr(e,2);t!==null&&Xt(t,e,2)}function Wc(e){var t=Nt();if(typeof e=="function"){var i=e;if(e=i(),La){In(!0);try{i()}finally{In(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function L0(e,t,i,l){return e.baseState=i,Jc(e,qe,typeof l=="function"?l:Nn)}function l2(e,t,i,l,u){if(ll(e))throw Error(r(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};V.T!==null?i(!0):f.isTransition=!1,l(f),i=t.pending,i===null?(f.next=t.pending=f,$0(t,f)):(f.next=i.next,t.pending=i.next=f)}}function $0(e,t){var i=t.action,l=t.payload,u=e.state;if(t.isTransition){var f=V.T,g={};V.T=g;try{var v=i(u,l),x=V.S;x!==null&&x(g,v),q0(e,t,v)}catch(z){eu(e,t,z)}finally{V.T=f}}else try{f=i(u,l),q0(e,t,f)}catch(z){eu(e,t,z)}}function q0(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){H0(e,t,l)},function(l){return eu(e,t,l)}):H0(e,t,i)}function H0(e,t,i){t.status="fulfilled",t.value=i,P0(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,$0(e,i)))}function eu(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,P0(t),t=t.next;while(t!==l)}e.action=null}function P0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Y0(e,t){return t}function G0(e,t){if(ze){var i=Ge.formState;if(i!==null){e:{var l=Re;if(ze){if(Qe){t:{for(var u=Qe,f=mn;u.nodeType!==8;){if(!f){u=null;break t}if(u=un(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Qe=un(u.nextSibling),l=u.data==="F!";break e}}ja(l)}l=!1}l&&(t=i[0])}}return i=Nt(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:t},i.queue=l,i=cp.bind(null,Re,l),l.dispatch=i,l=Wc(!1),f=su.bind(null,Re,!1,l.queue),l=Nt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,i=l2.bind(null,Re,u,f,i),u.dispatch=i,l.memoizedState=e,[t,i,!1]}function X0(e){var t=We();return I0(t,qe,e)}function I0(e,t,i){if(t=Jc(e,t,Y0)[0],e=rl(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Os(t)}catch(g){throw g===Ts?Fi:g}else l=t;t=We();var u=t.queue,f=u.dispatch;return i!==t.memoizedState&&(Re.flags|=2048,xr(9,sl(),o2.bind(null,u,i),null)),[l,f,e]}function o2(e,t){e.action=t}function V0(e){var t=We(),i=qe;if(i!==null)return I0(t,i,e);We(),t=t.memoizedState,i=We();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function xr(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=Re.updateQueue,t===null&&(t=Kc(),Re.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function sl(){return{destroy:void 0,resource:void 0}}function Q0(){return We().memoizedState}function il(e,t,i,l){var u=Nt();l=l===void 0?null:l,Re.flags|=e,u.memoizedState=xr(1|t,sl(),i,l)}function Ds(e,t,i,l){var u=We();l=l===void 0?null:l;var f=u.memoizedState.inst;qe!==null&&l!==null&&Gc(l,qe.memoizedState.deps)?u.memoizedState=xr(t,f,i,l):(Re.flags|=e,u.memoizedState=xr(1|t,f,i,l))}function K0(e,t){il(8390656,8,e,t)}function Z0(e,t){Ds(2048,8,e,t)}function J0(e,t){return Ds(4,2,e,t)}function F0(e,t){return Ds(4,4,e,t)}function W0(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,i){i=i!=null?i.concat([e]):null,Ds(4,4,W0.bind(null,t,e),i)}function tu(){}function tp(e,t){var i=We();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&Gc(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function np(e,t){var i=We();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&Gc(t,l[1]))return l[0];if(l=e(),La){In(!0);try{e()}finally{In(!1)}}return i.memoizedState=[l,t],l}function nu(e,t,i){return i===void 0||(Wn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=sm(),Re.lanes|=e,ia|=e,i)}function ap(e,t,i,l){return $t(i,t)?i:vr.current!==null?(e=nu(e,i,l),$t(e,t)||(ct=!0),e):(Wn&42)===0?(ct=!0,e.memoizedState=i):(e=sm(),Re.lanes|=e,ia|=e,t)}function rp(e,t,i,l,u){var f=te.p;te.p=f!==0&&8>f?f:8;var g=V.T,v={};V.T=v,su(e,!1,t,i);try{var x=u(),z=V.S;if(z!==null&&z(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=r2(x,l);Ns(e,t,Q,Gt(e))}else Ns(e,t,l,Gt(e))}catch(J){Ns(e,t,{then:function(){},status:"rejected",reason:J},Gt())}finally{te.p=f,V.T=g}}function c2(){}function au(e,t,i,l){if(e.tag!==5)throw Error(r(476));var u=sp(e).queue;rp(e,u,t,ce,i===null?c2:function(){return ip(e),i(l)})}function sp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:ce},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ip(e){var t=sp(e).next.queue;Ns(e,t,{},Gt())}function ru(){return vt(Zs)}function lp(){return We().memoizedState}function op(){return We().memoizedState}function u2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Gt();e=Jn(i);var l=Fn(t,e,i);l!==null&&(Xt(l,t,i),Es(l,t,i)),t={cache:jc()},e.payload=t;return}t=t.return}}function f2(e,t,i){var l=Gt();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ll(e)?up(t,i):(i=Tc(e,t,i,l),i!==null&&(Xt(i,e,l),fp(i,t,l)))}function cp(e,t,i){var l=Gt();Ns(e,t,i,l)}function Ns(e,t,i,l){var u={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ll(e))up(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,v=f(g,i);if(u.hasEagerState=!0,u.eagerState=v,$t(v,g))return Gi(e,t,u,0),Ge===null&&Yi(),!1}catch{}finally{}if(i=Tc(e,t,u,l),i!==null)return Xt(i,e,l),fp(i,t,l),!0}return!1}function su(e,t,i,l){if(l={lane:2,revertLane:zu(),action:l,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(t)throw Error(r(479))}else t=Tc(e,i,l,2),t!==null&&Xt(t,e,2)}function ll(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function up(e,t){Sr=tl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function fp(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,_h(e,i)}}var ol={readContext:vt,use:al,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},dp={readContext:vt,use:al,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:K0,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,il(4194308,4,W0.bind(null,t,e),i)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){il(4,2,e,t)},useMemo:function(e,t){var i=Nt();t=t===void 0?null:t;var l=e();if(La){In(!0);try{e()}finally{In(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=Nt();if(i!==void 0){var u=i(t);if(La){In(!0);try{i(t)}finally{In(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=f2.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Wc(e);var t=e.queue,i=cp.bind(null,Re,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:tu,useDeferredValue:function(e,t){var i=Nt();return nu(i,e,t)},useTransition:function(){var e=Wc(!1);return e=rp.bind(null,Re,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=Re,u=Nt();if(ze){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ge===null)throw Error(r(349));(Be&124)!==0||k0(l,t,i)}u.memoizedState=i;var f={value:i,getSnapshot:t};return u.queue=f,K0(B0.bind(null,l,f,e),[e]),l.flags|=2048,xr(9,sl(),j0.bind(null,l,f,i,t),null),i},useId:function(){var e=Nt(),t=Ge.identifierPrefix;if(ze){var i=Mn,l=wn;i=(l&~(1<<32-Lt(l)-1)).toString(32)+i,t="«"+t+"R"+i,i=nl++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=s2++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ru,useFormState:G0,useActionState:G0,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=su.bind(null,Re,!0,i),i.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return Nt().memoizedState=u2.bind(null,Re)}},hp={readContext:vt,use:al,useCallback:tp,useContext:vt,useEffect:Z0,useImperativeHandle:ep,useInsertionEffect:J0,useLayoutEffect:F0,useMemo:np,useReducer:rl,useRef:Q0,useState:function(){return rl(Nn)},useDebugValue:tu,useDeferredValue:function(e,t){var i=We();return ap(i,qe.memoizedState,e,t)},useTransition:function(){var e=rl(Nn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:N0,useId:lp,useHostTransitionStatus:ru,useFormState:X0,useActionState:X0,useOptimistic:function(e,t){var i=We();return L0(i,qe,e,t)},useMemoCache:Zc,useCacheRefresh:op},d2={readContext:vt,use:al,useCallback:tp,useContext:vt,useEffect:Z0,useImperativeHandle:ep,useInsertionEffect:J0,useLayoutEffect:F0,useMemo:np,useReducer:Fc,useRef:Q0,useState:function(){return Fc(Nn)},useDebugValue:tu,useDeferredValue:function(e,t){var i=We();return qe===null?nu(i,e,t):ap(i,qe.memoizedState,e,t)},useTransition:function(){var e=Fc(Nn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:N0,useId:lp,useHostTransitionStatus:ru,useFormState:V0,useActionState:V0,useOptimistic:function(e,t){var i=We();return qe!==null?L0(i,qe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:op},Tr=null,ks=0;function cl(e){var t=ks;return ks+=1,Tr===null&&(Tr=[]),T0(Tr,e,t)}function js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ul(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pp(e){var t=e._init;return t(e._payload)}function mp(e){function t(O,w){if(e){var j=O.deletions;j===null?(O.deletions=[w],O.flags|=16):j.push(w)}}function i(O,w){if(!e)return null;for(;w!==null;)t(O,w),w=w.sibling;return null}function l(O){for(var w=new Map;O!==null;)O.key!==null?w.set(O.key,O):w.set(O.index,O),O=O.sibling;return w}function u(O,w){return O=An(O,w),O.index=0,O.sibling=null,O}function f(O,w,j){return O.index=j,e?(j=O.alternate,j!==null?(j=j.index,j<w?(O.flags|=67108866,w):j):(O.flags|=67108866,w)):(O.flags|=1048576,w)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,w,j,K){return w===null||w.tag!==6?(w=Ec(j,O.mode,K),w.return=O,w):(w=u(w,j),w.return=O,w)}function x(O,w,j,K){var le=j.type;return le===C?Q(O,w,j.props.children,K,j.key):w!==null&&(w.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===N&&pp(le)===w.type)?(w=u(w,j.props),js(w,j),w.return=O,w):(w=Ii(j.type,j.key,j.props,null,O.mode,K),js(w,j),w.return=O,w)}function z(O,w,j,K){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=Ac(j,O.mode,K),w.return=O,w):(w=u(w,j.children||[]),w.return=O,w)}function Q(O,w,j,K,le){return w===null||w.tag!==7?(w=Oa(j,O.mode,K,le),w.return=O,w):(w=u(w,j),w.return=O,w)}function J(O,w,j){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Ec(""+w,O.mode,j),w.return=O,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return j=Ii(w.type,w.key,w.props,null,O.mode,j),js(j,w),j.return=O,j;case _:return w=Ac(w,O.mode,j),w.return=O,w;case N:var K=w._init;return w=K(w._payload),J(O,w,j)}if(Ce(w)||X(w))return w=Oa(w,O.mode,j,null),w.return=O,w;if(typeof w.then=="function")return J(O,cl(w),j);if(w.$$typeof===B)return J(O,Zi(O,w),j);ul(O,w)}return null}function Y(O,w,j,K){var le=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return le!==null?null:v(O,w,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===le?x(O,w,j,K):null;case _:return j.key===le?z(O,w,j,K):null;case N:return le=j._init,j=le(j._payload),Y(O,w,j,K)}if(Ce(j)||X(j))return le!==null?null:Q(O,w,j,K,null);if(typeof j.then=="function")return Y(O,w,cl(j),K);if(j.$$typeof===B)return Y(O,w,Zi(O,j),K);ul(O,j)}return null}function G(O,w,j,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return O=O.get(j)||null,v(w,O,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return O=O.get(K.key===null?j:K.key)||null,x(w,O,K,le);case _:return O=O.get(K.key===null?j:K.key)||null,z(w,O,K,le);case N:var Ee=K._init;return K=Ee(K._payload),G(O,w,j,K,le)}if(Ce(K)||X(K))return O=O.get(j)||null,Q(w,O,K,le,null);if(typeof K.then=="function")return G(O,w,j,cl(K),le);if(K.$$typeof===B)return G(O,w,j,Zi(w,K),le);ul(w,K)}return null}function ge(O,w,j,K){for(var le=null,Ee=null,ue=w,pe=w=0,ft=null;ue!==null&&pe<j.length;pe++){ue.index>pe?(ft=ue,ue=null):ft=ue.sibling;var Ue=Y(O,ue,j[pe],K);if(Ue===null){ue===null&&(ue=ft);break}e&&ue&&Ue.alternate===null&&t(O,ue),w=f(Ue,w,pe),Ee===null?le=Ue:Ee.sibling=Ue,Ee=Ue,ue=ft}if(pe===j.length)return i(O,ue),ze&&Na(O,pe),le;if(ue===null){for(;pe<j.length;pe++)ue=J(O,j[pe],K),ue!==null&&(w=f(ue,w,pe),Ee===null?le=ue:Ee.sibling=ue,Ee=ue);return ze&&Na(O,pe),le}for(ue=l(ue);pe<j.length;pe++)ft=G(ue,O,pe,j[pe],K),ft!==null&&(e&&ft.alternate!==null&&ue.delete(ft.key===null?pe:ft.key),w=f(ft,w,pe),Ee===null?le=ft:Ee.sibling=ft,Ee=ft);return e&&ue.forEach(function(ma){return t(O,ma)}),ze&&Na(O,pe),le}function he(O,w,j,K){if(j==null)throw Error(r(151));for(var le=null,Ee=null,ue=w,pe=w=0,ft=null,Ue=j.next();ue!==null&&!Ue.done;pe++,Ue=j.next()){ue.index>pe?(ft=ue,ue=null):ft=ue.sibling;var ma=Y(O,ue,Ue.value,K);if(ma===null){ue===null&&(ue=ft);break}e&&ue&&ma.alternate===null&&t(O,ue),w=f(ma,w,pe),Ee===null?le=ma:Ee.sibling=ma,Ee=ma,ue=ft}if(Ue.done)return i(O,ue),ze&&Na(O,pe),le;if(ue===null){for(;!Ue.done;pe++,Ue=j.next())Ue=J(O,Ue.value,K),Ue!==null&&(w=f(Ue,w,pe),Ee===null?le=Ue:Ee.sibling=Ue,Ee=Ue);return ze&&Na(O,pe),le}for(ue=l(ue);!Ue.done;pe++,Ue=j.next())Ue=G(ue,O,pe,Ue.value,K),Ue!==null&&(e&&Ue.alternate!==null&&ue.delete(Ue.key===null?pe:Ue.key),w=f(Ue,w,pe),Ee===null?le=Ue:Ee.sibling=Ue,Ee=Ue);return e&&ue.forEach(function(hS){return t(O,hS)}),ze&&Na(O,pe),le}function Pe(O,w,j,K){if(typeof j=="object"&&j!==null&&j.type===C&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var le=j.key;w!==null;){if(w.key===le){if(le=j.type,le===C){if(w.tag===7){i(O,w.sibling),K=u(w,j.props.children),K.return=O,O=K;break e}}else if(w.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===N&&pp(le)===w.type){i(O,w.sibling),K=u(w,j.props),js(K,j),K.return=O,O=K;break e}i(O,w);break}else t(O,w);w=w.sibling}j.type===C?(K=Oa(j.props.children,O.mode,K,j.key),K.return=O,O=K):(K=Ii(j.type,j.key,j.props,null,O.mode,K),js(K,j),K.return=O,O=K)}return g(O);case _:e:{for(le=j.key;w!==null;){if(w.key===le)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){i(O,w.sibling),K=u(w,j.children||[]),K.return=O,O=K;break e}else{i(O,w);break}else t(O,w);w=w.sibling}K=Ac(j,O.mode,K),K.return=O,O=K}return g(O);case N:return le=j._init,j=le(j._payload),Pe(O,w,j,K)}if(Ce(j))return ge(O,w,j,K);if(X(j)){if(le=X(j),typeof le!="function")throw Error(r(150));return j=le.call(j),he(O,w,j,K)}if(typeof j.then=="function")return Pe(O,w,cl(j),K);if(j.$$typeof===B)return Pe(O,w,Zi(O,j),K);ul(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,w!==null&&w.tag===6?(i(O,w.sibling),K=u(w,j),K.return=O,O=K):(i(O,w),K=Ec(j,O.mode,K),K.return=O,O=K),g(O)):i(O,w)}return function(O,w,j,K){try{ks=0;var le=Pe(O,w,j,K);return Tr=null,le}catch(ue){if(ue===Ts||ue===Fi)throw ue;var Ee=qt(29,ue,null,O.mode);return Ee.lanes=K,Ee.return=O,Ee}finally{}}}var Rr=mp(!0),gp=mp(!1),tn=Z(null),gn=null;function ea(e){var t=e.alternate;ne(st,st.current&1),ne(tn,e),gn===null&&(t===null||vr.current!==null||t.memoizedState!==null)&&(gn=e)}function yp(e){if(e.tag===22){if(ne(st,st.current),ne(tn,e),gn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(gn=e)}}else ta()}function ta(){ne(st,st.current),ne(tn,tn.current)}function kn(e){se(tn),gn===e&&(gn=null),se(st)}var st=Z(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Ku(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function iu(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var lu={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Gt(),u=Jn(l);u.payload=t,i!=null&&(u.callback=i),t=Fn(e,u,l),t!==null&&(Xt(t,e,l),Es(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Gt(),u=Jn(l);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Fn(e,u,l),t!==null&&(Xt(t,e,l),Es(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Gt(),l=Jn(i);l.tag=2,t!=null&&(l.callback=t),t=Fn(e,l,i),t!==null&&(Xt(t,e,i),Es(t,e,i))}};function bp(e,t,i,l,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):t.prototype&&t.prototype.isPureReactComponent?!gs(i,l)||!gs(u,f):!0}function _p(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function $a(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vp(e){dl(e)}function Sp(e){console.error(e)}function Cp(e){dl(e)}function hl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function xp(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ou(e,t,i){return i=Jn(i),i.tag=3,i.payload={element:null},i.callback=function(){hl(e,t)},i}function Tp(e){return e=Jn(e),e.tag=3,e}function Rp(e,t,i,l){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){xp(t,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){xp(t,i,l),typeof u!="function"&&(la===null?la=new Set([this]):la.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function h2(e,t,i,l,u){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&Ss(t,i,u,!0),i=tn.current,i!==null){switch(i.tag){case 13:return gn===null?Nu():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=u,l===zc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),ju(e,l,u)),!1;case 22:return i.flags|=65536,l===zc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),ju(e,l,u)),!1}throw Error(r(435,i.tag))}return ju(e,l,u),Nu(),!1}if(ze)return t=tn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Oc&&(e=Error(r(422),{cause:l}),vs(Jt(e,i)))):(l!==Oc&&(t=Error(r(423),{cause:l}),vs(Jt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Jt(l,i),u=ou(e.stateNode,l,u),qc(e,u),Ke!==4&&(Ke=2)),!1;var f=Error(r(520),{cause:l});if(f=Jt(f,i),Hs===null?Hs=[f]:Hs.push(f),Ke!==4&&(Ke=2),t===null)return!0;l=Jt(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=ou(i.stateNode,l,e),qc(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(la===null||!la.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Tp(u),Rp(u,e,i,l),qc(i,u),!1}i=i.return}while(i!==null);return!1}var Ep=Error(r(461)),ct=!1;function ht(e,t,i,l){t.child=e===null?gp(t,null,i,l):Rr(t,e.child,i,l)}function Ap(e,t,i,l,u){i=i.render;var f=t.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return Ua(t),l=Xc(e,t,i,g,f,u),v=Ic(),e!==null&&!ct?(Vc(e,t,u),jn(e,t,u)):(ze&&v&&wc(t),t.flags|=1,ht(e,t,l,u),t.child)}function wp(e,t,i,l,u){if(e===null){var f=i.type;return typeof f=="function"&&!Rc(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,Mp(e,t,f,l,u)):(e=Ii(i.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!gu(e,u)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:gs,i(g,l)&&e.ref===t.ref)return jn(e,t,u)}return t.flags|=1,e=An(f,l),e.ref=t.ref,e.return=t,t.child=e}function Mp(e,t,i,l,u){if(e!==null){var f=e.memoizedProps;if(gs(f,l)&&e.ref===t.ref)if(ct=!1,t.pendingProps=l=f,gu(e,u))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,jn(e,t,u)}return cu(e,t,i,l,u)}function Op(e,t,i){var l=t.pendingProps,u=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~l}else t.childLanes=0,t.child=null;return Dp(e,t,l,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ji(t,f!==null?f.cachePool:null),f!==null?M0(t,f):Pc(),yp(t);else return t.lanes=t.childLanes=536870912,Dp(e,t,f!==null?f.baseLanes|i:i,i)}else f!==null?(Ji(t,f.cachePool),M0(t,f),ta(),t.memoizedState=null):(e!==null&&Ji(t,null),Pc(),ta());return ht(e,t,u,i),t.child}function Dp(e,t,i,l){var u=Uc();return u=u===null?null:{parent:rt._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Ji(t,null),Pc(),yp(t),e!==null&&Ss(e,t,l,!0),null}function pl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function cu(e,t,i,l,u){return Ua(t),i=Xc(e,t,i,l,void 0,u),l=Ic(),e!==null&&!ct?(Vc(e,t,u),jn(e,t,u)):(ze&&l&&wc(t),t.flags|=1,ht(e,t,i,u),t.child)}function Np(e,t,i,l,u,f){return Ua(t),t.updateQueue=null,i=D0(t,l,i,u),O0(e),l=Ic(),e!==null&&!ct?(Vc(e,t,f),jn(e,t,f)):(ze&&l&&wc(t),t.flags|=1,ht(e,t,i,f),t.child)}function kp(e,t,i,l,u){if(Ua(t),t.stateNode===null){var f=mr,g=i.contextType;typeof g=="object"&&g!==null&&(f=vt(g)),f=new i(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},Lc(t),g=i.contextType,f.context=typeof g=="object"&&g!==null?vt(g):mr,f.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(iu(t,i,g,l),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&lu.enqueueReplaceState(f,f.state,null),ws(t,l,f,u),As(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,x=$a(i,v);f.props=x;var z=f.context,Q=i.contextType;g=mr,typeof Q=="object"&&Q!==null&&(g=vt(Q));var J=i.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||z!==g)&&_p(t,f,l,g),Zn=!1;var Y=t.memoizedState;f.state=Y,ws(t,l,f,u),As(),z=t.memoizedState,v||Y!==z||Zn?(typeof J=="function"&&(iu(t,i,J,l),z=t.memoizedState),(x=Zn||bp(t,i,x,l,Y,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=z),f.props=l,f.state=z,f.context=g,l=x):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,$c(e,t),g=t.memoizedProps,Q=$a(i,g),f.props=Q,J=t.pendingProps,Y=f.context,z=i.contextType,x=mr,typeof z=="object"&&z!==null&&(x=vt(z)),v=i.getDerivedStateFromProps,(z=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||Y!==x)&&_p(t,f,l,x),Zn=!1,Y=t.memoizedState,f.state=Y,ws(t,l,f,u),As();var G=t.memoizedState;g!==J||Y!==G||Zn||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof v=="function"&&(iu(t,i,v,l),G=t.memoizedState),(Q=Zn||bp(t,i,Q,l,Y,G,x)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=G),f.props=l,f.state=G,f.context=x,l=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,pl(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=Rr(t,e.child,null,u),t.child=Rr(t,null,i,u)):ht(e,t,i,u),t.memoizedState=f.state,e=t.child):e=jn(e,t,u),e}function jp(e,t,i,l){return _s(),t.flags|=256,ht(e,t,i,l),t.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fu(e){return{baseLanes:e,cachePool:S0()}}function du(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=nn),e}function Bp(e,t,i){var l=t.pendingProps,u=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(u?ea(t):ta(),ze){var v=Qe,x;if(x=v){e:{for(x=v,v=mn;x.nodeType!==8;){if(!v){v=null;break e}if(x=un(x.nextSibling),x===null){v=null;break e}}v=x}v!==null?(t.memoizedState={dehydrated:v,treeContext:Da!==null?{id:wn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},x=qt(18,null,null,0),x.stateNode=v,x.return=t,t.child=x,Et=t,Qe=null,x=!0):x=!1}x||ja(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Ku(v)?t.lanes=32:t.lanes=536870912,null;kn(t)}return v=l.children,l=l.fallback,u?(ta(),u=t.mode,v=ml({mode:"hidden",children:v},u),l=Oa(l,u,i,null),v.return=t,l.return=t,v.sibling=l,t.child=v,u=t.child,u.memoizedState=fu(i),u.childLanes=du(e,g,i),t.memoizedState=uu,l):(ea(t),hu(t,v))}if(x=e.memoizedState,x!==null&&(v=x.dehydrated,v!==null)){if(f)t.flags&256?(ea(t),t.flags&=-257,t=pu(e,t,i)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),u=l.fallback,v=t.mode,l=ml({mode:"visible",children:l.children},v),u=Oa(u,v,i,null),u.flags|=2,l.return=t,u.return=t,l.sibling=u,t.child=l,Rr(t,e.child,null,i),l=t.child,l.memoizedState=fu(i),l.childLanes=du(e,g,i),t.memoizedState=uu,t=u);else if(ea(t),Ku(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,vs({value:l,source:null,stack:null}),t=pu(e,t,i)}else if(ct||Ss(e,t,i,!1),g=(i&e.childLanes)!==0,ct||g){if(g=Ge,g!==null&&(l=i&-i,l=(l&42)!==0?1:Zo(l),l=(l&(g.suspendedLanes|i))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,pr(e,l),Xt(g,e,l),Ep;v.data==="$?"||Nu(),t=pu(e,t,i)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Qe=un(v.nextSibling),Et=t,ze=!0,ka=null,mn=!1,e!==null&&(Wt[en++]=wn,Wt[en++]=Mn,Wt[en++]=Da,wn=e.id,Mn=e.overflow,Da=t),t=hu(t,l.children),t.flags|=4096);return t}return u?(ta(),u=l.fallback,v=t.mode,x=e.child,z=x.sibling,l=An(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,z!==null?u=An(z,u):(u=Oa(u,v,i,null),u.flags|=2),u.return=t,l.return=t,l.sibling=u,t.child=l,l=u,u=t.child,v=e.child.memoizedState,v===null?v=fu(i):(x=v.cachePool,x!==null?(z=rt._currentValue,x=x.parent!==z?{parent:z,pool:z}:x):x=S0(),v={baseLanes:v.baseLanes|i,cachePool:x}),u.memoizedState=v,u.childLanes=du(e,g,i),t.memoizedState=uu,l):(ea(t),i=e.child,e=i.sibling,i=An(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function hu(e,t){return t=ml({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ml(e,t){return e=qt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function pu(e,t,i){return Rr(t,e.child,null,i),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Up(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Nc(e.return,t,i)}function mu(e,t,i,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=u)}function zp(e,t,i){var l=t.pendingProps,u=l.revealOrder,f=l.tail;if(ht(e,t,l.children,i),l=st.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,i,t);else if(e.tag===19)Up(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ne(st,l),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&fl(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),mu(t,!1,u,i,f);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&fl(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}mu(t,!0,i,null,f);break;case"together":mu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ss(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=An(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=An(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ki(e)))}function p2(e,t,i){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),Kn(t,rt,e.memoizedState.cache),_s();break;case 27:case 5:Ta(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Bp(e,t,i):(ea(t),e=jn(e,t,i),e!==null?e.sibling:null);ea(t);break;case 19:var u=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(Ss(e,t,i,!1),l=(i&t.childLanes)!==0),u){if(l)return zp(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ne(st,st.current),l)break;return null;case 22:case 23:return t.lanes=0,Op(e,t,i);case 24:Kn(t,rt,e.memoizedState.cache)}return jn(e,t,i)}function Lp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!gu(e,i)&&(t.flags&128)===0)return ct=!1,p2(e,t,i);ct=(e.flags&131072)!==0}else ct=!1,ze&&(t.flags&1048576)!==0&&p0(t,Qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,u=l._init;if(l=u(l._payload),t.type=l,typeof l=="function")Rc(l)?(e=$a(l,e),t.tag=1,t=kp(null,t,l,e,i)):(t.tag=0,t=cu(null,t,l,e,i));else{if(l!=null){if(u=l.$$typeof,u===I){t.tag=11,t=Ap(null,t,l,e,i);break e}else if(u===T){t.tag=14,t=wp(null,t,l,e,i);break e}}throw t=re(l)||l,Error(r(306,t,""))}}return t;case 0:return cu(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,u=$a(l,t.pendingProps),kp(e,t,l,u,i);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var f=t.memoizedState;u=f.element,$c(e,t),ws(t,l,null,i);var g=t.memoizedState;if(l=g.cache,Kn(t,rt,l),l!==f.cache&&kc(t,[rt],i,!0),As(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=jp(e,t,l,i);break e}else if(l!==u){u=Jt(Error(r(424)),t),vs(u),t=jp(e,t,l,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=un(e.firstChild),Et=t,ze=!0,ka=null,mn=!0,i=gp(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(_s(),l===u){t=jn(e,t,i);break e}ht(e,t,l,i)}t=t.child}return t;case 26:return pl(e,t),e===null?(i=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=i:ze||(i=t.type,e=t.pendingProps,l=Ml(be.current).createElement(i),l[_t]=t,l[Ot]=e,mt(l,i,e),ot(l),t.stateNode=l):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ta(t),e===null&&ze&&(l=t.stateNode=$m(t.type,t.pendingProps,be.current),Et=t,mn=!0,u=Qe,ua(t.type)?(Zu=u,Qe=un(l.firstChild)):Qe=u),ht(e,t,t.pendingProps.children,i),pl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((u=l=Qe)&&(l=P2(l,t.type,t.pendingProps,mn),l!==null?(t.stateNode=l,Et=t,Qe=un(l.firstChild),mn=!1,u=!0):u=!1),u||ja(t)),Ta(t),u=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Iu(u,f)?l=null:g!==null&&Iu(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Xc(e,t,i2,null,null,i),Zs._currentValue=u),pl(e,t),ht(e,t,l,i),t.child;case 6:return e===null&&ze&&((e=i=Qe)&&(i=Y2(i,t.pendingProps,mn),i!==null?(t.stateNode=i,Et=t,Qe=null,e=!0):e=!1),e||ja(t)),null;case 13:return Bp(e,t,i);case 4:return je(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Rr(t,null,l,i):ht(e,t,l,i),t.child;case 11:return Ap(e,t,t.type,t.pendingProps,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Kn(t,t.type,l.value),ht(e,t,l.children,i),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Ua(t),u=vt(u),l=l(u),t.flags|=1,ht(e,t,l,i),t.child;case 14:return wp(e,t,t.type,t.pendingProps,i);case 15:return Mp(e,t,t.type,t.pendingProps,i);case 19:return zp(e,t,i);case 31:return l=t.pendingProps,i=t.mode,l={mode:l.mode,children:l.children},e===null?(i=ml(l,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=An(e.child,l),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return Op(e,t,i);case 24:return Ua(t),l=vt(rt),e===null?(u=Uc(),u===null&&(u=Ge,f=jc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),t.memoizedState={parent:l,cache:u},Lc(t),Kn(t,rt,u)):((e.lanes&i)!==0&&($c(e,t),ws(t,null,null,i),As()),u=e.memoizedState,f=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Kn(t,rt,l)):(l=f.cache,Kn(t,rt,l),l!==u.cache&&kc(t,[rt],i,!0))),ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Bn(e){e.flags|=4}function $p(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vm(t)){if(t=tn.current,t!==null&&((Be&4194048)===Be?gn!==null:(Be&62914560)!==Be&&(Be&536870912)===0||t!==gn))throw Rs=zc,C0;e.flags|=8192}}function gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yh():536870912,e.lanes|=t,Mr|=t)}function Bs(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function m2(e,t,i){var l=t.pendingProps;switch(Mc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Dn(rt),Rt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(bs(t)?Bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,y0())),Ve(t),null;case 26:return i=t.memoizedState,e===null?(Bn(t),i!==null?(Ve(t),$p(t,i)):(Ve(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Bn(t),Ve(t),$p(t,i)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==l&&Bn(t),Ve(t),t.flags&=-16777217),null;case 27:Ai(t),i=be.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Bn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=de.current,bs(t)?m0(t):(e=$m(u,l,i),t.stateNode=e,Bn(t))}return Ve(t),null;case 5:if(Ai(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Bn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(e=de.current,bs(t))m0(t);else{switch(u=Ml(be.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(i,{is:l.is}):u.createElement(i)}}e[_t]=t,e[Ot]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(mt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Bn(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Bn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=be.current,bs(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,u=Et,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[_t]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Nm(e.nodeValue,i)),e||ja(t)}else e=Ml(e).createTextNode(l),e[_t]=t,t.stateNode=e}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=bs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[_t]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),u=!1}else u=y0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(kn(t),t):(kn(t),null)}if(kn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),gl(t,t.updateQueue),Ve(t),null;case 4:return Rt(),e===null&&Hu(t.stateNode.containerInfo),Ve(t),null;case 10:return Dn(t.type),Ve(t),null;case 19:if(se(st),u=t.memoizedState,u===null)return Ve(t),null;if(l=(t.flags&128)!==0,f=u.rendering,f===null)if(l)Bs(u,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=fl(e),f!==null){for(t.flags|=128,Bs(u,!1),e=f.updateQueue,t.updateQueue=e,gl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)h0(i,e),i=i.sibling;return ne(st,st.current&1|2),t.child}e=e.sibling}u.tail!==null&&pn()>_l&&(t.flags|=128,l=!0,Bs(u,!1),t.lanes=4194304)}else{if(!l)if(e=fl(f),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,gl(t,e),Bs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!ze)return Ve(t),null}else 2*pn()-u.renderingStartTime>_l&&i!==536870912&&(t.flags|=128,l=!0,Bs(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=pn(),t.sibling=null,e=st.current,ne(st,l?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return kn(t),Yc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),i=t.updateQueue,i!==null&&gl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&se(za),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Dn(rt),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function g2(e,t){switch(Mc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(rt),Rt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ai(t),null;case 13:if(kn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(st),null;case 4:return Rt(),null;case 10:return Dn(t.type),null;case 22:case 23:return kn(t),Yc(),e!==null&&se(za),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(rt),null;case 25:return null;default:return null}}function qp(e,t){switch(Mc(t),t.tag){case 3:Dn(rt),Rt();break;case 26:case 27:case 5:Ai(t);break;case 4:Rt();break;case 13:kn(t);break;case 19:se(st);break;case 10:Dn(t.type);break;case 22:case 23:kn(t),Yc(),e!==null&&se(za);break;case 24:Dn(rt)}}function Us(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var u=l.next;i=u;do{if((i.tag&e)===e){l=void 0;var f=i.create,g=i.inst;l=f(),g.destroy=l}i=i.next}while(i!==u)}}catch(v){Ye(t,t.return,v)}}function na(e,t,i){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=t;var x=i,z=v;try{z()}catch(Q){Ye(u,x,Q)}}}l=l.next}while(l!==f)}}catch(Q){Ye(t,t.return,Q)}}function Hp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{w0(t,i)}catch(l){Ye(e,e.return,l)}}}function Pp(e,t,i){i.props=$a(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Ye(e,t,l)}}function zs(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(u){Ye(e,t,u)}}function yn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(u){Ye(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ye(e,t,u)}else i.current=null}function Yp(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(u){Ye(e,e.return,u)}}function yu(e,t,i){try{var l=e.stateNode;z2(l,e.type,i,t),l[Ot]=t}catch(u){Ye(e,e.return,u)}}function Gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=wl));else if(l!==4&&(l===27&&ua(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(_u(e,t,i),e=e.sibling;e!==null;)_u(e,t,i),e=e.sibling}function yl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&ua(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(yl(e,t,i),e=e.sibling;e!==null;)yl(e,t,i),e=e.sibling}function Xp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);mt(t,l,i),t[_t]=e,t[Ot]=i}catch(f){Ye(e,e.return,f)}}var Un=!1,Je=!1,vu=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,ut=null;function y2(e,t){if(e=e.containerInfo,Gu=Bl,e=a0(e),bc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,v=-1,x=-1,z=0,Q=0,J=e,Y=null;t:for(;;){for(var G;J!==i||u!==0&&J.nodeType!==3||(v=g+u),J!==f||l!==0&&J.nodeType!==3||(x=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(G=J.firstChild)!==null;)Y=J,J=G;for(;;){if(J===e)break t;if(Y===i&&++z===u&&(v=g),Y===f&&++Q===l&&(x=g),(G=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=G}i=v===-1||x===-1?null:{start:v,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xu={focusedElem:e,selectionRange:i},Bl=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,u=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var ge=$a(i.type,u,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(ge,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){Ye(i,i.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Qu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function Vp(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:aa(e,i),l&4&&Us(5,i);break;case 1:if(aa(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){Ye(i,i.return,g)}else{var u=$a(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ye(i,i.return,g)}}l&64&&Hp(i),l&512&&zs(i,i.return);break;case 3:if(aa(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{w0(e,t)}catch(g){Ye(i,i.return,g)}}break;case 27:t===null&&l&4&&Xp(i);case 26:case 5:aa(e,i),t===null&&l&4&&Yp(i),l&512&&zs(i,i.return);break;case 12:aa(e,i);break;case 13:aa(e,i),l&4&&Zp(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=E2.bind(null,i),G2(e,i))));break;case 22:if(l=i.memoizedState!==null||Un,!l){t=t!==null&&t.memoizedState!==null||Je,u=Un;var f=Je;Un=l,(Je=t)&&!f?ra(e,i,(i.subtreeFlags&8772)!==0):aa(e,i),Un=u,Je=f}break;case 30:break;default:aa(e,i)}}function Qp(e){var t=e.alternate;t!==null&&(e.alternate=null,Qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,kt=!1;function zn(e,t,i){for(i=i.child;i!==null;)Kp(e,t,i),i=i.sibling}function Kp(e,t,i){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(rs,i)}catch{}switch(i.tag){case 26:Je||yn(i,t),zn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Je||yn(i,t);var l=Xe,u=kt;ua(i.type)&&(Xe=i.stateNode,kt=!1),zn(e,t,i),Is(i.stateNode),Xe=l,kt=u;break;case 5:Je||yn(i,t);case 6:if(l=Xe,u=kt,Xe=null,zn(e,t,i),Xe=l,kt=u,Xe!==null)if(kt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(i.stateNode)}catch(f){Ye(i,t,f)}else try{Xe.removeChild(i.stateNode)}catch(f){Ye(i,t,f)}break;case 18:Xe!==null&&(kt?(e=Xe,zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ei(e)):zm(Xe,i.stateNode));break;case 4:l=Xe,u=kt,Xe=i.stateNode.containerInfo,kt=!0,zn(e,t,i),Xe=l,kt=u;break;case 0:case 11:case 14:case 15:Je||na(2,i,t),Je||na(4,i,t),zn(e,t,i);break;case 1:Je||(yn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Pp(i,t,l)),zn(e,t,i);break;case 21:zn(e,t,i);break;case 22:Je=(l=Je)||i.memoizedState!==null,zn(e,t,i),Je=l;break;default:zn(e,t,i)}}function Zp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(i){Ye(t,t.return,i)}}function b2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ip),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ip),t;default:throw Error(r(435,e.tag))}}function Su(e,t){var i=b2(e);t.forEach(function(l){var u=A2.bind(null,e,l);i.has(l)||(i.add(l),l.then(u,u))})}function Ht(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var u=i[l],f=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(ua(v.type)){Xe=v.stateNode,kt=!1;break e}break;case 5:Xe=v.stateNode,kt=!1;break e;case 3:case 4:Xe=v.stateNode.containerInfo,kt=!0;break e}v=v.return}if(Xe===null)throw Error(r(160));Kp(f,g,u),Xe=null,kt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Jp(t,e),t=t.sibling}var cn=null;function Jp(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Pt(e),l&4&&(na(3,e,e.return),Us(3,e),na(5,e,e.return));break;case 1:Ht(t,e),Pt(e),l&512&&(Je||i===null||yn(i,i.return)),l&64&&Un&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var u=cn;if(Ht(t,e),Pt(e),l&512&&(Je||i===null||yn(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[ls]||f[_t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),mt(f,l,i),f[_t]=e,ot(f),l=f;break e;case"link":var g=Xm("link","href",u).get(l+(i.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(v,1);break t}}f=u.createElement(l),mt(f,l,i),u.head.appendChild(f);break;case"meta":if(g=Xm("meta","content",u).get(l+(i.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(v,1);break t}}f=u.createElement(l),mt(f,l,i),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[_t]=e,ot(f),l=f}e.stateNode=l}else Im(u,e.type,e.stateNode);else e.stateNode=Gm(u,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?Im(u,e.type,e.stateNode):Gm(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ht(t,e),Pt(e),l&512&&(Je||i===null||yn(i,i.return)),i!==null&&l&4&&yu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ht(t,e),Pt(e),l&512&&(Je||i===null||yn(i,i.return)),e.flags&32){u=e.stateNode;try{lr(u,"")}catch(G){Ye(e,e.return,G)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,yu(e,u,i!==null?i.memoizedProps:u)),l&1024&&(vu=!0);break;case 6:if(Ht(t,e),Pt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(G){Ye(e,e.return,G)}}break;case 3:if(Nl=null,u=cn,cn=Ol(t.containerInfo),Ht(t,e),cn=u,Pt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(G){Ye(e,e.return,G)}vu&&(vu=!1,Fp(e));break;case 4:l=cn,cn=Ol(e.stateNode.containerInfo),Ht(t,e),Pt(e),cn=l;break;case 12:Ht(t,e),Pt(e);break;case 13:Ht(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Au=pn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Su(e,l)));break;case 22:u=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,z=Un,Q=Je;if(Un=z||u,Je=Q||x,Ht(t,e),Je=Q,Un=z,Pt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||x||Un||Je||qa(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){x=i=t;try{if(f=x.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=x.stateNode;var J=x.memoizedProps.style,Y=J!=null&&J.hasOwnProperty("display")?J.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(G){Ye(x,x.return,G)}}}else if(t.tag===6){if(i===null){x=t;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(G){Ye(x,x.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Su(e,i))));break;case 19:Ht(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Su(e,l)));break;case 30:break;case 21:break;default:Ht(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(Gp(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,f=bu(e);yl(e,f,u);break;case 5:var g=i.stateNode;i.flags&32&&(lr(g,""),i.flags&=-33);var v=bu(e);yl(e,v,g);break;case 3:case 4:var x=i.stateNode.containerInfo,z=bu(e);_u(e,z,x);break;default:throw Error(r(161))}}catch(Q){Ye(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vp(e,t.alternate,t),t=t.sibling}function qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),qa(t);break;case 1:yn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Pp(t,t.return,i),qa(t);break;case 27:Is(t.stateNode);case 26:case 5:yn(t,t.return),qa(t);break;case 22:t.memoizedState===null&&qa(t);break;case 30:qa(t);break;default:qa(t)}e=e.sibling}}function ra(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:ra(u,f,i),Us(4,f);break;case 1:if(ra(u,f,i),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=f,u=l.updateQueue,u!==null){var v=l.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)A0(x[u],v)}catch(z){Ye(l,l.return,z)}}i&&g&64&&Hp(f),zs(f,f.return);break;case 27:Xp(f);case 26:case 5:ra(u,f,i),i&&l===null&&g&4&&Yp(f),zs(f,f.return);break;case 12:ra(u,f,i);break;case 13:ra(u,f,i),i&&g&4&&Zp(u,f);break;case 22:f.memoizedState===null&&ra(u,f,i),zs(f,f.return);break;case 30:break;default:ra(u,f,i)}t=t.sibling}}function Cu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Cs(i))}function xu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cs(e))}function bn(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wp(e,t,i,l),t=t.sibling}function Wp(e,t,i,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:bn(e,t,i,l),u&2048&&Us(9,t);break;case 1:bn(e,t,i,l);break;case 3:bn(e,t,i,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cs(e)));break;case 12:if(u&2048){bn(e,t,i,l),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ye(t,t.return,x)}}else bn(e,t,i,l);break;case 13:bn(e,t,i,l);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?bn(e,t,i,l):Ls(e,t):f._visibility&2?bn(e,t,i,l):(f._visibility|=2,Er(e,t,i,l,(t.subtreeFlags&10256)!==0)),u&2048&&Cu(g,t);break;case 24:bn(e,t,i,l),u&2048&&xu(t.alternate,t);break;default:bn(e,t,i,l)}}function Er(e,t,i,l,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,g=t,v=i,x=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Er(f,g,v,x,u),Us(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Er(f,g,v,x,u):Ls(f,g):(Q._visibility|=2,Er(f,g,v,x,u)),u&&z&2048&&Cu(g.alternate,g);break;case 24:Er(f,g,v,x,u),u&&z&2048&&xu(g.alternate,g);break;default:Er(f,g,v,x,u)}t=t.sibling}}function Ls(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,u=l.flags;switch(l.tag){case 22:Ls(i,l),u&2048&&Cu(l.alternate,l);break;case 24:Ls(i,l),u&2048&&xu(l.alternate,l);break;default:Ls(i,l)}t=t.sibling}}var $s=8192;function Ar(e){if(e.subtreeFlags&$s)for(e=e.child;e!==null;)em(e),e=e.sibling}function em(e){switch(e.tag){case 26:Ar(e),e.flags&$s&&e.memoizedState!==null&&aS(cn,e.memoizedState,e.memoizedProps);break;case 5:Ar(e);break;case 3:case 4:var t=cn;cn=Ol(e.stateNode.containerInfo),Ar(e),cn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$s,$s=16777216,Ar(e),$s=t):Ar(e));break;default:Ar(e)}}function tm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];ut=l,am(l,e)}tm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nm(e),e=e.sibling}function nm(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&na(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bl(e)):qs(e);break;default:qs(e)}}function bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];ut=l,am(l,e)}tm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),bl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,bl(t));break;default:bl(t)}e=e.sibling}}function am(e,t){for(;ut!==null;){var i=ut;switch(i.tag){case 0:case 11:case 15:na(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cs(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ut=l;else e:for(i=e;ut!==null;){l=ut;var u=l.sibling,f=l.return;if(Qp(l),l===i){ut=null;break e}if(u!==null){u.return=f,ut=u;break e}ut=f}}}var _2={getCacheForType:function(e){var t=vt(rt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},v2=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ge=null,we=null,Be=0,$e=0,Yt=null,sa=!1,wr=!1,Tu=!1,Ln=0,Ke=0,ia=0,Ha=0,Ru=0,nn=0,Mr=0,Hs=null,jt=null,Eu=!1,Au=0,_l=1/0,vl=null,la=null,pt=0,oa=null,Or=null,Dr=0,wu=0,Mu=null,rm=null,Ps=0,Ou=null;function Gt(){if((Le&2)!==0&&Be!==0)return Be&-Be;if(V.T!==null){var e=br;return e!==0?e:zu()}return vh()}function sm(){nn===0&&(nn=(Be&536870912)===0||ze?gh():536870912);var e=tn.current;return e!==null&&(e.flags|=32),nn}function Xt(e,t,i){(e===Ge&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(Nr(e,0),ca(e,Be,nn,!1)),is(e,i),((Le&2)===0||e!==Ge)&&(e===Ge&&((Le&2)===0&&(Ha|=i),Ke===4&&ca(e,Be,nn,!1)),_n(e))}function im(e,t,i){if((Le&6)!==0)throw Error(r(327));var l=!i&&(t&124)===0&&(t&e.expiredLanes)===0||ss(e,t),u=l?x2(e,t):ku(e,t,!0),f=l;do{if(u===0){wr&&!l&&ca(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!S2(i)){u=ku(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;u=Hs;var x=v.current.memoizedState.isDehydrated;if(x&&(Nr(v,g).flags|=256),g=ku(v,g,!1),g!==2){if(Tu&&!x){v.errorRecoveryDisabledLanes|=f,Ha|=f,u=4;break e}f=jt,jt=u,f!==null&&(jt===null?jt=f:jt.push.apply(jt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Nr(e,0),ca(e,t,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ca(l,t,nn,!sa);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Au+300-pn(),10<u)){if(ca(l,t,nn,!sa),Di(l,0,!0)!==0)break e;l.timeoutHandle=Bm(lm.bind(null,l,i,jt,vl,Eu,t,nn,Ha,Mr,sa,f,2,-0,0),u);break e}lm(l,i,jt,vl,Eu,t,nn,Ha,Mr,sa,f,0,-0,0)}}break}while(!0);_n(e)}function lm(e,t,i,l,u,f,g,v,x,z,Q,J,Y,G){if(e.timeoutHandle=-1,J=t.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ks={stylesheets:null,count:0,unsuspend:nS},em(t),J=rS(),J!==null)){e.cancelPendingCommit=J(pm.bind(null,e,t,f,i,l,u,g,v,x,Q,1,Y,G)),ca(e,f,g,!z);return}pm(e,t,f,i,l,u,g,v,x)}function S2(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var u=i[l],f=u.getSnapshot;u=u.value;try{if(!$t(f(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t,i,l){t&=~Ru,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var f=31-Lt(u),g=1<<f;l[f]=-1,u&=~g}i!==0&&bh(e,i,t)}function Sl(){return(Le&6)===0?(Ys(0),!1):!0}function Du(){if(we!==null){if($e===0)var e=we.return;else e=we,On=Ba=null,Qc(e),Tr=null,ks=0,e=we;for(;e!==null;)qp(e.alternate,e),e=e.return;we=null}}function Nr(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,$2(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Du(),Ge=e,we=i=An(e.current,null),Be=t,$e=0,Yt=null,sa=!1,wr=ss(e,t),Tu=!1,Mr=nn=Ru=Ha=ia=Ke=0,jt=Hs=null,Eu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Lt(l),f=1<<u;t|=e[u],l&=~f}return Ln=t,Yi(),i}function om(e,t){Re=null,V.H=ol,t===Ts||t===Fi?(t=R0(),$e=3):t===C0?(t=R0(),$e=4):$e=t===Ep?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,we===null&&(Ke=1,hl(e,Jt(t,e.current)))}function cm(){var e=V.H;return V.H=ol,e===null?ol:e}function um(){var e=V.A;return V.A=_2,e}function Nu(){Ke=4,sa||(Be&4194048)!==Be&&tn.current!==null||(wr=!0),(ia&134217727)===0&&(Ha&134217727)===0||Ge===null||ca(Ge,Be,nn,!1)}function ku(e,t,i){var l=Le;Le|=2;var u=cm(),f=um();(Ge!==e||Be!==t)&&(vl=null,Nr(e,t)),t=!1;var g=Ke;e:do try{if($e!==0&&we!==null){var v=we,x=Yt;switch($e){case 8:Du(),g=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(t=!0);var z=$e;if($e=0,Yt=null,kr(e,v,x,z),i&&wr){g=0;break e}break;default:z=$e,$e=0,Yt=null,kr(e,v,x,z)}}C2(),g=Ke;break}catch(Q){om(e,Q)}while(!0);return t&&e.shellSuspendCounter++,On=Ba=null,Le=l,V.H=u,V.A=f,we===null&&(Ge=null,Be=0,Yi()),g}function C2(){for(;we!==null;)fm(we)}function x2(e,t){var i=Le;Le|=2;var l=cm(),u=um();Ge!==e||Be!==t?(vl=null,_l=pn()+500,Nr(e,t)):wr=ss(e,t);e:do try{if($e!==0&&we!==null){t=we;var f=Yt;t:switch($e){case 1:$e=0,Yt=null,kr(e,t,f,1);break;case 2:case 9:if(x0(f)){$e=0,Yt=null,dm(t);break}t=function(){$e!==2&&$e!==9||Ge!==e||($e=7),_n(e)},f.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:x0(f)?($e=0,Yt=null,dm(t)):($e=0,Yt=null,kr(e,t,f,7));break;case 5:var g=null;switch(we.tag){case 26:g=we.memoizedState;case 5:case 27:var v=we;if(!g||Vm(g)){$e=0,Yt=null;var x=v.sibling;if(x!==null)we=x;else{var z=v.return;z!==null?(we=z,Cl(z)):we=null}break t}}$e=0,Yt=null,kr(e,t,f,5);break;case 6:$e=0,Yt=null,kr(e,t,f,6);break;case 8:Du(),Ke=6;break e;default:throw Error(r(462))}}T2();break}catch(Q){om(e,Q)}while(!0);return On=Ba=null,V.H=l,V.A=u,Le=i,we!==null?0:(Ge=null,Be=0,Yi(),Ke)}function T2(){for(;we!==null&&!I_();)fm(we)}function fm(e){var t=Lp(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?Cl(e):we=t}function dm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Np(i,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=Np(i,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:Qc(t);default:qp(i,t),t=we=h0(t,Ln),t=Lp(i,t,Ln)}e.memoizedProps=e.pendingProps,t===null?Cl(e):we=t}function kr(e,t,i,l){On=Ba=null,Qc(t),Tr=null,ks=0;var u=t.return;try{if(h2(e,u,t,i,Be)){Ke=1,hl(e,Jt(i,e.current)),we=null;return}}catch(f){if(u!==null)throw we=u,f;Ke=1,hl(e,Jt(i,e.current)),we=null;return}t.flags&32768?(ze||l===1?e=!0:wr||(Be&536870912)!==0?e=!1:(sa=e=!0,(l===2||l===9||l===3||l===6)&&(l=tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hm(t,e)):Cl(t)}function Cl(e){var t=e;do{if((t.flags&32768)!==0){hm(t,sa);return}e=t.return;var i=m2(t.alternate,t,Ln);if(i!==null){we=i;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ke===0&&(Ke=5)}function hm(e,t){do{var i=g2(e.alternate,e);if(i!==null){i.flags&=32767,we=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=i}while(e!==null);Ke=6,we=null}function pm(e,t,i,l,u,f,g,v,x){e.cancelPendingCommit=null;do xl();while(pt!==0);if((Le&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(f=t.lanes|t.childLanes,f|=xc,nv(e,i,f,g,v,x),e===Ge&&(we=Ge=null,Be=0),Or=t,oa=e,Dr=i,wu=f,Mu=u,rm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w2(wi,function(){return _m(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,u=te.p,te.p=2,g=Le,Le|=4;try{y2(e,t,i)}finally{Le=g,te.p=u,V.T=l}}pt=1,mm(),gm(),ym()}}function mm(){if(pt===1){pt=0;var e=oa,t=Or,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=V.T,V.T=null;var l=te.p;te.p=2;var u=Le;Le|=4;try{Jp(t,e);var f=Xu,g=a0(e.containerInfo),v=f.focusedElem,x=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&n0(v.ownerDocument.documentElement,v)){if(x!==null&&bc(v)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(Q,v.value.length);else{var J=v.ownerDocument||document,Y=J&&J.defaultView||window;if(Y.getSelection){var G=Y.getSelection(),ge=v.textContent.length,he=Math.min(x.start,ge),Pe=x.end===void 0?he:Math.min(x.end,ge);!G.extend&&he>Pe&&(g=Pe,Pe=he,he=g);var O=t0(v,he),w=t0(v,Pe);if(O&&w&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==w.node||G.focusOffset!==w.offset)){var j=J.createRange();j.setStart(O.node,O.offset),G.removeAllRanges(),he>Pe?(G.addRange(j),G.extend(w.node,w.offset)):(j.setEnd(w.node,w.offset),G.addRange(j))}}}}for(J=[],G=v;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<J.length;v++){var K=J[v];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Bl=!!Gu,Xu=Gu=null}finally{Le=u,te.p=l,V.T=i}}e.current=t,pt=2}}function gm(){if(pt===2){pt=0;var e=oa,t=Or,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=V.T,V.T=null;var l=te.p;te.p=2;var u=Le;Le|=4;try{Vp(e,t.alternate,t)}finally{Le=u,te.p=l,V.T=i}}pt=3}}function ym(){if(pt===4||pt===3){pt=0,V_();var e=oa,t=Or,i=Dr,l=rm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Or=oa=null,bm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(la=null),Jo(i),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(rs,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=V.T,u=te.p,te.p=2,V.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var v=l[g];f(v.value,{componentStack:v.stack})}}finally{V.T=t,te.p=u}}(Dr&3)!==0&&xl(),_n(e),u=e.pendingLanes,(i&4194090)!==0&&(u&42)!==0?e===Ou?Ps++:(Ps=0,Ou=e):Ps=0,Ys(0)}}function bm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cs(t)))}function xl(e){return mm(),gm(),ym(),_m()}function _m(){if(pt!==5)return!1;var e=oa,t=wu;wu=0;var i=Jo(Dr),l=V.T,u=te.p;try{te.p=32>i?32:i,V.T=null,i=Mu,Mu=null;var f=oa,g=Dr;if(pt=0,Or=oa=null,Dr=0,(Le&6)!==0)throw Error(r(331));var v=Le;if(Le|=4,nm(f.current),Wp(f,f.current,g,i),Le=v,Ys(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(rs,f)}catch{}return!0}finally{te.p=u,V.T=l,bm(e,t)}}function vm(e,t,i){t=Jt(i,t),t=ou(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(is(e,2),_n(e))}function Ye(e,t,i){if(e.tag===3)vm(e,e,i);else for(;t!==null;){if(t.tag===3){vm(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){e=Jt(i,e),i=Tp(2),l=Fn(t,i,2),l!==null&&(Rp(i,l,t,e),is(l,2),_n(l));break}}t=t.return}}function ju(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new v2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(i)||(Tu=!0,u.add(i),e=R2.bind(null,e,t,i),t.then(e,e))}function R2(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ge===e&&(Be&i)===i&&(Ke===4||Ke===3&&(Be&62914560)===Be&&300>pn()-Au?(Le&2)===0&&Nr(e,0):Ru|=i,Mr===Be&&(Mr=0)),_n(e)}function Sm(e,t){t===0&&(t=yh()),e=pr(e,t),e!==null&&(is(e,t),_n(e))}function E2(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Sm(e,i)}function A2(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Sm(e,i)}function w2(e,t){return Vo(e,t)}var Tl=null,jr=null,Bu=!1,Rl=!1,Uu=!1,Pa=0;function _n(e){e!==jr&&e.next===null&&(jr===null?Tl=jr=e:jr=jr.next=e),Rl=!0,Bu||(Bu=!0,O2())}function Ys(e,t){if(!Uu&&Rl){Uu=!0;do for(var i=!1,l=Tl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,v=l.pingedLanes;f=(1<<31-Lt(42|e)+1)-1,f&=u&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Rm(l,f))}else f=Be,f=Di(l,l===Ge?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ss(l,f)||(i=!0,Rm(l,f));l=l.next}while(i);Uu=!1}}function M2(){Cm()}function Cm(){Rl=Bu=!1;var e=0;Pa!==0&&(L2()&&(e=Pa),Pa=0);for(var t=pn(),i=null,l=Tl;l!==null;){var u=l.next,f=xm(l,t);f===0?(l.next=null,i===null?Tl=u:i.next=u,u===null&&(jr=i)):(i=l,(e!==0||(f&3)!==0)&&(Rl=!0)),l=u}Ys(e)}function xm(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Lt(f),v=1<<g,x=u[g];x===-1?((v&i)===0||(v&l)!==0)&&(u[g]=tv(v,t)):x<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ge,i=Be,i=Di(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qo(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ss(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&Qo(l),Jo(i)){case 2:case 8:i=ph;break;case 32:i=wi;break;case 268435456:i=mh;break;default:i=wi}return l=Tm.bind(null,e),i=Vo(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&Qo(l),e.callbackPriority=2,e.callbackNode=null,2}function Tm(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(xl()&&e.callbackNode!==i)return null;var l=Be;return l=Di(e,e===Ge?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(im(e,l,t),xm(e,pn()),e.callbackNode!=null&&e.callbackNode===i?Tm.bind(null,e):null)}function Rm(e,t){if(xl())return null;im(e,t,!0)}function O2(){q2(function(){(Le&6)!==0?Vo(hh,M2):Cm()})}function zu(){return Pa===0&&(Pa=gh()),Pa}function Em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ui(""+e)}function Am(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function D2(e,t,i,l,u){if(t==="submit"&&i&&i.stateNode===u){var f=Em((u[Ot]||null).action),g=l.submitter;g&&(t=(t=g[Ot]||null)?Em(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var v=new qi("action","action",null,l,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var x=g?Am(u,g):new FormData(u);au(i,{pending:!0,data:x,method:u.method,action:f},null,x)}}else typeof f=="function"&&(v.preventDefault(),x=g?Am(u,g):new FormData(u),au(i,{pending:!0,data:x,method:u.method,action:f},f,x))},currentTarget:u}]})}}for(var Lu=0;Lu<Cc.length;Lu++){var $u=Cc[Lu],N2=$u.toLowerCase(),k2=$u[0].toUpperCase()+$u.slice(1);on(N2,"on"+k2)}on(i0,"onAnimationEnd"),on(l0,"onAnimationIteration"),on(o0,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Zv,"onTransitionRun"),on(Jv,"onTransitionStart"),on(Fv,"onTransitionCancel"),on(c0,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gs));function wm(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],u=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var g=l.length-1;0<=g;g--){var v=l[g],x=v.instance,z=v.currentTarget;if(v=v.listener,x!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=z;try{f(u)}catch(Q){dl(Q)}u.currentTarget=null,f=x}else for(g=0;g<l.length;g++){if(v=l[g],x=v.instance,z=v.currentTarget,v=v.listener,x!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=z;try{f(u)}catch(Q){dl(Q)}u.currentTarget=null,f=x}}}}function Me(e,t){var i=t[Fo];i===void 0&&(i=t[Fo]=new Set);var l=e+"__bubble";i.has(l)||(Mm(t,e,2,!1),i.add(l))}function qu(e,t,i){var l=0;t&&(l|=4),Mm(i,e,l,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[El]){e[El]=!0,Ch.forEach(function(i){i!=="selectionchange"&&(j2.has(i)||qu(i,!1,e),qu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,qu("selectionchange",!1,t))}}function Mm(e,t,i,l){switch(Wm(t)){case 2:var u=lS;break;case 8:u=oS;break;default:u=tf}i=u.bind(null,t,i,e),u=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Pu(e,t,i,l,u){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===u)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;v!==null;){if(g=tr(v),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=f=g;continue e}v=v.parentNode}}l=l.return}Uh(function(){var z=f,Q=lc(i),J=[];e:{var Y=u0.get(e);if(Y!==void 0){var G=qi,ge=e;switch(e){case"keypress":if(Li(i)===0)break e;case"keydown":case"keyup":G=wv;break;case"focusin":ge="focus",G=hc;break;case"focusout":ge="blur",G=hc;break;case"beforeblur":case"afterblur":G=hc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Dv;break;case i0:case l0:case o0:G=_v;break;case c0:G=kv;break;case"scroll":case"scrollend":G=pv;break;case"wheel":G=Bv;break;case"copy":case"cut":case"paste":G=Sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hh;break;case"toggle":case"beforetoggle":G=zv}var he=(t&4)!==0,Pe=!he&&(e==="scroll"||e==="scrollend"),O=he?Y!==null?Y+"Capture":null:Y;he=[];for(var w=z,j;w!==null;){var K=w;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||O===null||(K=cs(w,O),K!=null&&he.push(Xs(w,K,j))),Pe)break;w=w.return}0<he.length&&(Y=new G(Y,ge,null,i,Q),J.push({event:Y,listeners:he}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",Y&&i!==ic&&(ge=i.relatedTarget||i.fromElement)&&(tr(ge)||ge[er]))break e;if((G||Y)&&(Y=Q.window===Q?Q:(Y=Q.ownerDocument)?Y.defaultView||Y.parentWindow:window,G?(ge=i.relatedTarget||i.toElement,G=z,ge=ge?tr(ge):null,ge!==null&&(Pe=c(ge),he=ge.tag,ge!==Pe||he!==5&&he!==27&&he!==6)&&(ge=null)):(G=null,ge=z),G!==ge)){if(he=$h,K="onMouseLeave",O="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(he=Hh,K="onPointerLeave",O="onPointerEnter",w="pointer"),Pe=G==null?Y:os(G),j=ge==null?Y:os(ge),Y=new he(K,w+"leave",G,i,Q),Y.target=Pe,Y.relatedTarget=j,K=null,tr(Q)===z&&(he=new he(O,w+"enter",ge,i,Q),he.target=j,he.relatedTarget=Pe,K=he),Pe=K,G&&ge)t:{for(he=G,O=ge,w=0,j=he;j;j=Br(j))w++;for(j=0,K=O;K;K=Br(K))j++;for(;0<w-j;)he=Br(he),w--;for(;0<j-w;)O=Br(O),j--;for(;w--;){if(he===O||O!==null&&he===O.alternate)break t;he=Br(he),O=Br(O)}he=null}else he=null;G!==null&&Om(J,Y,G,he,!1),ge!==null&&Pe!==null&&Om(J,Pe,ge,he,!0)}}e:{if(Y=z?os(z):window,G=Y.nodeName&&Y.nodeName.toLowerCase(),G==="select"||G==="input"&&Y.type==="file")var le=Kh;else if(Vh(Y))if(Zh)le=Vv;else{le=Xv;var Ee=Gv}else G=Y.nodeName,!G||G.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?z&&sc(z.elementType)&&(le=Kh):le=Iv;if(le&&(le=le(e,z))){Qh(J,le,i,Q);break e}Ee&&Ee(e,Y,z),e==="focusout"&&z&&Y.type==="number"&&z.memoizedProps.value!=null&&rc(Y,"number",Y.value)}switch(Ee=z?os(z):window,e){case"focusin":(Vh(Ee)||Ee.contentEditable==="true")&&(fr=Ee,_c=z,ys=null);break;case"focusout":ys=_c=fr=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,r0(J,i,Q);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":r0(J,i,Q)}var ue;if(mc)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ur?Xh(e,i)&&(pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pe="onCompositionStart");pe&&(Ph&&i.locale!=="ko"&&(ur||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ur&&(ue=zh()):(Qn=Q,uc="value"in Qn?Qn.value:Qn.textContent,ur=!0)),Ee=Al(z,pe),0<Ee.length&&(pe=new qh(pe,e,null,i,Q),J.push({event:pe,listeners:Ee}),ue?pe.data=ue:(ue=Ih(i),ue!==null&&(pe.data=ue)))),(ue=$v?qv(e,i):Hv(e,i))&&(pe=Al(z,"onBeforeInput"),0<pe.length&&(Ee=new qh("onBeforeInput","beforeinput",null,i,Q),J.push({event:Ee,listeners:pe}),Ee.data=ue)),D2(J,e,z,i,Q)}wm(J,t)})}function Xs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Al(e,t){for(var i=t+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=cs(e,i),u!=null&&l.unshift(Xs(e,u,f)),u=cs(e,t),u!=null&&l.push(Xs(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Om(e,t,i,l,u){for(var f=t._reactName,g=[];i!==null&&i!==l;){var v=i,x=v.alternate,z=v.stateNode;if(v=v.tag,x!==null&&x===l)break;v!==5&&v!==26&&v!==27||z===null||(x=z,u?(z=cs(i,f),z!=null&&g.unshift(Xs(i,z,x))):u||(z=cs(i,f),z!=null&&g.push(Xs(i,z,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var B2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function Dm(e){return(typeof e=="string"?e:""+e).replace(B2,`
`).replace(U2,"")}function Nm(e,t){return t=Dm(t),Dm(e)===t}function wl(){}function He(e,t,i,l,u,f){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||lr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&lr(e,""+l);break;case"className":ki(e,"class",l);break;case"tabIndex":ki(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(e,i,l);break;case"style":jh(e,l,f);break;case"data":if(t!=="object"){ki(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ui(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&He(e,t,"name",u.name,u,null),He(e,t,"formEncType",u.formEncType,u,null),He(e,t,"formMethod",u.formMethod,u,null),He(e,t,"formTarget",u.formTarget,u,null)):(He(e,t,"encType",u.encType,u,null),He(e,t,"method",u.method,u,null),He(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ui(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=wl);break;case"onScroll":l!=null&&Me("scroll",e);break;case"onScrollEnd":l!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Ui(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Ni(e,"popover",l);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ni(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=dv.get(i)||i,Ni(e,i,l))}}function Yu(e,t,i,l,u,f){switch(i){case"style":jh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?lr(e,l):(typeof l=="number"||typeof l=="bigint")&&lr(e,""+l);break;case"onScroll":l!=null&&Me("scroll",e);break;case"onScrollEnd":l!=null&&Me("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),f=e[Ot]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,u);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Ni(e,i,l)}}}function mt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var l=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,f,g,i,null)}}u&&He(e,t,"srcSet",i.srcSet,i,null),l&&He(e,t,"src",i.src,i,null);return;case"input":Me("invalid",e);var v=f=g=u=null,x=null,z=null;for(l in i)if(i.hasOwnProperty(l)){var Q=i[l];if(Q!=null)switch(l){case"name":u=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":v=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,t));break;default:He(e,t,l,Q,i,null)}}Oh(e,f,v,x,z,g,u,!1),ji(e);return;case"select":Me("invalid",e),l=g=f=null;for(u in i)if(i.hasOwnProperty(u)&&(v=i[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:He(e,t,u,v,i,null)}t=f,i=g,e.multiple=!!l,t!=null?ir(e,!!l,t,!1):i!=null&&ir(e,!!l,i,!0);return;case"textarea":Me("invalid",e),f=u=l=null;for(g in i)if(i.hasOwnProperty(g)&&(v=i[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:He(e,t,g,v,i,null)}Nh(e,l,u,f),ji(e);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(l=i[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:He(e,t,x,l,i,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(l=0;l<Gs.length;l++)Me(Gs[l],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(l=i[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,z,l,i,null)}return;default:if(sc(t)){for(Q in i)i.hasOwnProperty(Q)&&(l=i[Q],l!==void 0&&Yu(e,t,Q,l,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(l=i[v],l!=null&&He(e,t,v,l,i,null))}function z2(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,v=null,x=null,z=null,Q=null;for(G in i){var J=i[G];if(i.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(G)||He(e,t,G,null,l,J)}}for(var Y in l){var G=l[Y];if(J=i[Y],l.hasOwnProperty(Y)&&(G!=null||J!=null))switch(Y){case"type":f=G;break;case"name":u=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":g=G;break;case"defaultValue":v=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:G!==J&&He(e,t,Y,G,l,J)}}ac(e,g,v,x,z,Q,f,u);return;case"select":G=g=v=Y=null;for(f in i)if(x=i[f],i.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(f)||He(e,t,f,null,l,x)}for(u in l)if(f=l[u],x=i[u],l.hasOwnProperty(u)&&(f!=null||x!=null))switch(u){case"value":Y=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==x&&He(e,t,u,f,l,x)}t=v,i=g,l=G,Y!=null?ir(e,!!i,Y,!1):!!l!=!!i&&(t!=null?ir(e,!!i,t,!0):ir(e,!!i,i?[]:"",!1));return;case"textarea":G=Y=null;for(v in i)if(u=i[v],i.hasOwnProperty(v)&&u!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:He(e,t,v,null,l,u)}for(g in l)if(u=l[g],f=i[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":Y=u;break;case"defaultValue":G=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&He(e,t,g,u,l,f)}Dh(e,Y,G);return;case"option":for(var ge in i)if(Y=i[ge],i.hasOwnProperty(ge)&&Y!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:He(e,t,ge,null,l,Y)}for(x in l)if(Y=l[x],G=i[x],l.hasOwnProperty(x)&&Y!==G&&(Y!=null||G!=null))switch(x){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:He(e,t,x,Y,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in i)Y=i[he],i.hasOwnProperty(he)&&Y!=null&&!l.hasOwnProperty(he)&&He(e,t,he,null,l,Y);for(z in l)if(Y=l[z],G=i[z],l.hasOwnProperty(z)&&Y!==G&&(Y!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,t));break;default:He(e,t,z,Y,l,G)}return;default:if(sc(t)){for(var Pe in i)Y=i[Pe],i.hasOwnProperty(Pe)&&Y!==void 0&&!l.hasOwnProperty(Pe)&&Yu(e,t,Pe,void 0,l,Y);for(Q in l)Y=l[Q],G=i[Q],!l.hasOwnProperty(Q)||Y===G||Y===void 0&&G===void 0||Yu(e,t,Q,Y,l,G);return}}for(var O in i)Y=i[O],i.hasOwnProperty(O)&&Y!=null&&!l.hasOwnProperty(O)&&He(e,t,O,null,l,Y);for(J in l)Y=l[J],G=i[J],!l.hasOwnProperty(J)||Y===G||Y==null&&G==null||He(e,t,J,Y,l,G)}var Gu=null,Xu=null;function Ml(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vu=null;function L2(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(H2)}:Bm;function H2(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function zm(e,t){var i=t,l=0,u=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var g=e.ownerDocument;if(i&1&&Is(g.documentElement),i&2&&Is(g.body),i&4)for(i=g.head,Is(i),g=i.firstChild;g;){var v=g.nextSibling,x=g.nodeName;g[ls]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=v}}if(u===0){e.removeChild(f),ei(t);return}u--}else i==="$"||i==="$?"||i==="$!"?u++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);ei(t)}function Qu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Qu(i),Wo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function P2(e,t,i,l){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ls])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function Y2(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=un(e.nextSibling),e===null))return null;return e}function Ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function G2(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Zu=null;function Lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function $m(e,t,i){switch(t=Ml(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Is(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wo(e)}var an=new Map,qm=new Set;function Ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=te.d;te.d={f:X2,r:I2,D:V2,C:Q2,L:K2,m:Z2,X:F2,S:J2,M:W2};function X2(){var e=$n.f(),t=Sl();return e||t}function I2(e){var t=nr(e);t!==null&&t.tag===5&&t.type==="form"?ip(t):$n.r(e)}var Ur=typeof document>"u"?null:document;function Hm(e,t,i){var l=Ur;if(l&&typeof t=="string"&&t){var u=Zt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),qm.has(u)||(qm.add(u),e={rel:e,crossOrigin:i,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),mt(t,"link",e),ot(t),l.head.appendChild(t)))}}function V2(e){$n.D(e),Hm("dns-prefetch",e,null)}function Q2(e,t){$n.C(e,t),Hm("preconnect",e,t)}function K2(e,t,i){$n.L(e,t,i);var l=Ur;if(l&&e&&t){var u='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Zt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Zt(i.imageSizes)+'"]')):u+='[href="'+Zt(e)+'"]';var f=u;switch(t){case"style":f=zr(e);break;case"script":f=Lr(e)}an.has(f)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),an.set(f,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Vs(f))||t==="script"&&l.querySelector(Qs(f))||(t=l.createElement("link"),mt(t,"link",e),ot(t),l.head.appendChild(t)))}}function Z2(e,t){$n.m(e,t);var i=Ur;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Zt(l)+'"][href="'+Zt(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lr(e)}if(!an.has(f)&&(e=y({rel:"modulepreload",href:e},t),an.set(f,e),i.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Qs(f)))return}l=i.createElement("link"),mt(l,"link",e),ot(l),i.head.appendChild(l)}}}function J2(e,t,i){$n.S(e,t,i);var l=Ur;if(l&&e){var u=ar(l).hoistableStyles,f=zr(e);t=t||"default";var g=u.get(f);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(Vs(f)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=an.get(f))&&Ju(e,i);var x=g=l.createElement("link");ot(x),mt(x,"link",e),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Dl(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(f,g)}}}function F2(e,t){$n.X(e,t);var i=Ur;if(i&&e){var l=ar(i).hoistableScripts,u=Lr(e),f=l.get(u);f||(f=i.querySelector(Qs(u)),f||(e=y({src:e,async:!0},t),(t=an.get(u))&&Fu(e,t),f=i.createElement("script"),ot(f),mt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function W2(e,t){$n.M(e,t);var i=Ur;if(i&&e){var l=ar(i).hoistableScripts,u=Lr(e),f=l.get(u);f||(f=i.querySelector(Qs(u)),f||(e=y({src:e,async:!0,type:"module"},t),(t=an.get(u))&&Fu(e,t),f=i.createElement("script"),ot(f),mt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Pm(e,t,i,l){var u=(u=be.current)?Ol(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=zr(i.href),i=ar(u).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=zr(i.href);var f=ar(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(Vs(e)))&&!f._p&&(g.instance=f,g.state.loading=5),an.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},an.set(e,i),f||eS(u,e,i,g.state))),t&&l===null)throw Error(r(528,""));return g}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Lr(i),i=ar(u).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function zr(e){return'href="'+Zt(e)+'"'}function Vs(e){return'link[rel="stylesheet"]['+e+"]"}function Ym(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function eS(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),mt(t,"link",i),ot(t),e.head.appendChild(t))}function Lr(e){return'[src="'+Zt(e)+'"]'}function Qs(e){return"script[async]"+e}function Gm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Zt(i.href)+'"]');if(l)return t.instance=l,ot(l),l;var u=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),mt(l,"style",u),Dl(l,i.precedence,e),t.instance=l;case"stylesheet":u=zr(i.href);var f=e.querySelector(Vs(u));if(f)return t.state.loading|=4,t.instance=f,ot(f),f;l=Ym(i),(u=an.get(u))&&Ju(l,u),f=(e.ownerDocument||e).createElement("link"),ot(f);var g=f;return g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),mt(f,"link",l),t.state.loading|=4,Dl(f,i.precedence,e),t.instance=f;case"script":return f=Lr(i.src),(u=e.querySelector(Qs(f)))?(t.instance=u,ot(u),u):(l=i,(u=an.get(f))&&(l=y({},i),Fu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),ot(u),mt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Dl(l,i.precedence,e));return t.instance}function Dl(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===t)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nl=null;function Xm(e,t,i){if(Nl===null){var l=new Map,u=Nl=new Map;u.set(i,l)}else u=Nl,l=u.get(i),l||(l=new Map,u.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var f=i[u];if(!(f[ls]||f[_t]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var v=l.get(g);v?v.push(f):l.set(g,[f])}}return l}function Im(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function tS(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ks=null;function nS(){}function aS(e,t,i){if(Ks===null)throw Error(r(475));var l=Ks;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=zr(i.href),f=e.querySelector(Vs(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=kl.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=f,ot(f);return}f=e.ownerDocument||e,i=Ym(i),(u=an.get(u))&&Ju(i,u),f=f.createElement("link"),ot(f);var g=f;g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),mt(f,"link",i),t.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=kl.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function rS(){if(Ks===null)throw Error(r(475));var e=Ks;return e.stylesheets&&e.count===0&&Wu(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function kl(){if(this.count--,this.count===0){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jl=null;function Wu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jl=new Map,t.forEach(sS,e),jl=null,kl.call(e))}function sS(e,t){if(!(t.state.loading&4)){var i=jl.get(e);if(i)var l=i.get(null);else{i=new Map,jl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}u=t.instance,g=u.getAttribute("data-precedence"),f=i.get(g)||l,f===l&&i.set(null,u),i.set(g,u),this.count++,l=kl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Zs={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function iS(e,t,i,l,u,f,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.hiddenUpdates=Ko(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Qm(e,t,i,l,u,f,g,v,x,z,Q,J){return e=new iS(e,t,i,g,v,x,z,J),t=1,f===!0&&(t|=24),f=qt(3,null,null,t),e.current=f,f.stateNode=e,t=jc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:t},Lc(f),e}function Km(e){return e?(e=mr,e):mr}function Zm(e,t,i,l,u,f){u=Km(u),l.context===null?l.context=u:l.pendingContext=u,l=Jn(t),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=Fn(e,l,t),i!==null&&(Xt(i,e,t),Es(i,e,t))}function Jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ef(e,t){Jm(e,t),(e=e.alternate)&&Jm(e,t)}function Fm(e){if(e.tag===13){var t=pr(e,67108864);t!==null&&Xt(t,e,67108864),ef(e,67108864)}}var Bl=!0;function lS(e,t,i,l){var u=V.T;V.T=null;var f=te.p;try{te.p=2,tf(e,t,i,l)}finally{te.p=f,V.T=u}}function oS(e,t,i,l){var u=V.T;V.T=null;var f=te.p;try{te.p=8,tf(e,t,i,l)}finally{te.p=f,V.T=u}}function tf(e,t,i,l){if(Bl){var u=nf(l);if(u===null)Pu(e,t,l,Ul,i),eg(e,l);else if(uS(u,e,t,i,l))l.stopPropagation();else if(eg(e,l),t&4&&-1<cS.indexOf(e)){for(;u!==null;){var f=nr(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ra(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var x=1<<31-Lt(g);v.entanglements[1]|=x,g&=~x}_n(f),(Le&6)===0&&(_l=pn()+500,Ys(0))}}break;case 13:v=pr(f,2),v!==null&&Xt(v,f,2),Sl(),ef(f,2)}if(f=nf(l),f===null&&Pu(e,t,l,Ul,i),f===u)break;u=f}u!==null&&l.stopPropagation()}else Pu(e,t,l,null,i)}}function nf(e){return e=lc(e),af(e)}var Ul=null;function af(e){if(Ul=null,e=tr(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ul=e,null}function Wm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Q_()){case hh:return 2;case ph:return 8;case wi:case K_:return 32;case mh:return 268435456;default:return 32}default:return 32}}var rf=!1,fa=null,da=null,ha=null,Js=new Map,Fs=new Map,pa=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eg(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Ws(e,t,i,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},t!==null&&(t=nr(t),t!==null&&Fm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function uS(e,t,i,l,u){switch(t){case"focusin":return fa=Ws(fa,e,t,i,l,u),!0;case"dragenter":return da=Ws(da,e,t,i,l,u),!0;case"mouseover":return ha=Ws(ha,e,t,i,l,u),!0;case"pointerover":var f=u.pointerId;return Js.set(f,Ws(Js.get(f)||null,e,t,i,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Fs.set(f,Ws(Fs.get(f)||null,e,t,i,l,u)),!0}return!1}function tg(e){var t=tr(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,av(e.priority,function(){if(i.tag===13){var l=Gt();l=Zo(l);var u=pr(i,l);u!==null&&Xt(u,i,l),ef(i,l)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=nf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ic=l,i.target.dispatchEvent(l),ic=null}else return t=nr(i),t!==null&&Fm(t),e.blockedOn=i,!1;t.shift()}return!0}function ng(e,t,i){zl(e)&&i.delete(t)}function fS(){rf=!1,fa!==null&&zl(fa)&&(fa=null),da!==null&&zl(da)&&(da=null),ha!==null&&zl(ha)&&(ha=null),Js.forEach(ng),Fs.forEach(ng)}function Ll(e,t){e.blockedOn===t&&(e.blockedOn=null,rf||(rf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fS)))}var $l=null;function ag(e){$l!==e&&($l=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(af(l||i)===null)continue;break}var f=nr(i);f!==null&&(e.splice(t,3),t-=3,au(f,{pending:!0,data:u,method:i.method,action:l},l,u))}}))}function ei(e){function t(x){return Ll(x,e)}fa!==null&&Ll(fa,e),da!==null&&Ll(da,e),ha!==null&&Ll(ha,e),Js.forEach(t),Fs.forEach(t);for(var i=0;i<pa.length;i++){var l=pa[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<pa.length&&(i=pa[0],i.blockedOn===null);)tg(i),i.blockedOn===null&&pa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var u=i[l],f=i[l+1],g=u[Ot]||null;if(typeof f=="function")g||ag(i);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Ot]||null)v=g.formAction;else if(af(u)!==null)continue}else v=g.action;typeof v=="function"?i[l+1]=v:(i.splice(l,3),l-=3),ag(i)}}}function sf(e){this._internalRoot=e}ql.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,l=Gt();Zm(i,l,e,t,null,null)},ql.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zm(e.current,2,null,e,null,null),Sl(),t[er]=null}};function ql(e){this._internalRoot=e}ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=vh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<pa.length&&t!==0&&t<pa[i].priority;i++);pa.splice(i,0,e),i===0&&tg(e)}};var rg=n.version;if(rg!=="19.1.0")throw Error(r(527,rg,"19.1.0"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{rs=Hl.inject(dS),zt=Hl}catch{}}return ni.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,l="",u=vp,f=Sp,g=Cp,v=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Qm(e,1,!1,null,null,i,l,u,f,g,v,null),e[er]=t.current,Hu(e),new sf(t)},ni.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var l=!1,u="",f=vp,g=Sp,v=Cp,x=null,z=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(z=i.formState)),t=Qm(e,1,!0,t,i??null,l,u,f,g,v,x,z),t.context=Km(null),i=t.current,l=Gt(),l=Zo(l),u=Jn(l),u.callback=null,Fn(i,u,l),i=l,t.current.lanes=i,is(t,i),_n(t),e[er]=t.current,Hu(e),new ql(t)},ni.version="19.1.0",ni}var pg;function xS(){if(pg)return of.exports;pg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),of.exports=CS(),of.exports}var TS=xS(),ie=Md();const Sa=k.jsx("path",{d:"M3,111.67,247.67,418.4c4,5.06,12.6,5.06,16.65,0L509,111.64a15.21,15.21,0,0,0,2.2-13.9,14.2,14.2,0,0,0-1-2.32,10.66,10.66,0,0,0-9.39-5.62H11.14a10.64,10.64,0,0,0-9.38,5.62,13.93,13.93,0,0,0-1,2.27A15.26,15.26,0,0,0,3,111.67Z"}),RS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentcolor",stroke:"currentcolor",className:"h-full w-full",children:k.jsx("g",{transform:"translate(64, 64) scale(0.75, 0.75)",children:Sa})}),ES=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentcolor",stroke:"currentcolor",className:"h-full w-full",children:k.jsx("g",{transform:"translate(64, 64) scale(0.75, 0.75) rotate(180,256, 256)",children:Sa})}),AS=()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentcolor",stroke:"currentcolor",className:"h-full w-full",children:[k.jsx("g",{transform:"translate(195, 100) scale(0.6, 0.6)",children:Sa}),k.jsx("g",{transform:"translate(5, 100) scale(0.6, 0.6) rotate(180, 256, 256)",children:Sa})]}),wS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentcolor",stroke:"currentcolor",className:"h-full w-full",children:k.jsxs("g",{transform:"translate(64, 64) scale(0.75, 0.75)",children:[k.jsx("g",{transform:"translate(105, 247) scale(0.6, 0.6)",children:Sa}),k.jsx("rect",{x:"102",y:"236",width:"312",height:"40"}),k.jsx("g",{transform:"translate(105, -44) scale(0.6, 0.6) rotate(180, 256, 256)",children:Sa})]})}),MS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentcolor",stroke:"currentcolor",className:"h-full w-full",children:k.jsxs("g",{transform:"translate(64, 64) scale(0.75, 0.75)",children:[k.jsx("g",{transform:"translate(105, 247) scale(0.6, 0.6) rotate(180, 256, 256)",children:Sa}),k.jsx("rect",{x:"102",y:"236",width:"312",height:"40"}),k.jsx("g",{transform:"translate(105, -44) scale(0.6, 0.6)",children:Sa})]})}),ve={OdGore:0,OdDole:1,Slobodna:2,Najava:3,Rucna:4,Dirigovana:5,OdSredine:6,OdGoreIDole:7,Obavezna:8,Maksimalna:9,Yamb:10},W={Jedinice:0,Dvojke:1,Trojke:2,Cetvorke:3,Petice:4,Sestice:5,Suma1:6,Maksimum:7,Minimum:8,Suma2:9,Kenta:10,Triling:11,Ful:12,Kare:13,Yamb:14,Suma3:15},OS={0:"Jedinice",1:"Dvojke",2:"Trojke",3:"Cetvorke",4:"Petice",5:"Sestice",6:"Suma1",7:"Maksimum",8:"Minimum",9:"Suma2",10:"Kenta",11:"Triling",12:"Ful",13:"Kare",14:"Yamb",15:"Suma3"},DS={0:"OdGore",1:"OdDole",2:"Slobodna",3:"Najava",4:"Rucna",5:"Dirigovana",6:"OdSredine",7:"OdGoreIDole"},NS={Jedinice:W.Jedinice,Dvojke:W.Dvojke,Trojke:W.Trojke,Cetvorke:W.Cetvorke,Petice:W.Petice,Sestice:W.Sestice,Suma1:W.Suma1,Maksimum:W.Maksimum,Minimum:W.Minimum,Suma2:W.Suma2,Kenta:W.Kenta,Triling:W.Triling,Ful:W.Ful,Kare:W.Kare,Yamb:W.Yamb},kS={OdGore:ve.OdGore,OdDole:ve.OdDole,Slobodna:ve.Slobodna,Najava:ve.Najava,Rucna:ve.Rucna,Dirigovana:ve.Dirigovana,OdSredine:ve.OdSredine,OdGoreIDole:ve.OdGoreIDole},_o=[k.jsx(RS,{}),k.jsx(ES,{}),k.jsx(AS,{}),k.jsx("div",{className:"text-[2.1rem]",children:"N"}),k.jsx("div",{className:"text-[2.1rem]",children:"R"}),k.jsx("div",{className:"text-[2.1rem]",children:"D"}),k.jsx(wS,{}),k.jsx(MS,{}),k.jsx("div",{className:"text-[2.1rem]",children:"O"}),k.jsx("div",{className:"text-[2.1rem]",children:"M"})],vo=[k.jsx("div",{className:"text-[1.9rem]",children:"1"}),k.jsx("div",{className:"text-[1.9rem]",children:"2"}),k.jsx("div",{className:"text-[1.9rem]",children:"3"}),k.jsx("div",{className:"text-[1.9rem]",children:"4"}),k.jsx("div",{className:"text-[1.9rem]",children:"5"}),k.jsx("div",{className:"text-[1.9rem]",children:"6"}),k.jsx("div",{className:"text-[2.1rem]",children:"Σ"}),k.jsx("div",{className:"text-[1.4rem]",children:"MAX."}),k.jsx("div",{className:"text-[1.4rem]",children:"MIN."}),k.jsx("div",{className:"text-[2.1rem]",children:"Σ"}),k.jsx("div",{className:"text-[1.2rem]",children:"KENTA"}),k.jsx("div",{className:"text-[1.0rem]",children:"TRILING"}),k.jsx("div",{children:"FUL"}),k.jsx("div",{className:"text-[1.35rem]",children:"KARE"}),k.jsx("div",{className:"text-[1.35rem]",children:"YAMB"}),k.jsx("div",{className:"text-[2.1rem]",children:"Σ"})],mg=()=>{const s=Array.from({length:16},()=>[]);s[W.Jedinice][ve.OdGore]={value:void 0,isAvailable:!0},s[W.Yamb][ve.OdDole]={value:void 0,isAvailable:!0},s[W.Minimum][ve.OdSredine]={value:void 0,isAvailable:!0},s[W.Maksimum][ve.OdSredine]={value:void 0,isAvailable:!0},s[W.Jedinice][ve.OdGoreIDole]={value:void 0,isAvailable:!0},s[W.Yamb][ve.OdGoreIDole]={value:void 0,isAvailable:!0};for(let n=0;n<15;n++)n===W.Suma1||n===W.Suma2||(s[n][ve.Slobodna]={value:void 0,isAvailable:!0},s[n][ve.Najava]={value:void 0,isAvailable:!0},s[n][ve.Rucna]={value:void 0,isAvailable:!0},s[n][ve.Dirigovana]={value:void 0,isAvailable:!0});return s};class jS{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(n){this.flush(),this._parts.push(n)}append(n){this._pieces.push(n)}flush(){if(this._pieces.length>0){const n=new Uint8Array(this._pieces);this._parts.push(n),this._pieces=[]}}toArrayBuffer(){const n=[];for(const a of this._parts)n.push(a);return BS(n).buffer}}function BS(s){let n=0;for(const o of s)n+=o.byteLength;const a=new Uint8Array(n);let r=0;for(const o of s){const c=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);a.set(c,r),r+=o.byteLength}return a}function Z1(s){return new US(s).unpack()}function J1(s){const n=new zS,a=n.pack(s);return a instanceof Promise?a.then(()=>n.getBuffer()):n.getBuffer()}class US{constructor(n){this.index=0,this.dataBuffer=n,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const n=this.unpack_uint8();if(n<128)return n;if((n^224)<32)return(n^224)-32;let a;if((a=n^160)<=15)return this.unpack_raw(a);if((a=n^176)<=15)return this.unpack_string(a);if((a=n^144)<=15)return this.unpack_array(a);if((a=n^128)<=15)return this.unpack_map(a);switch(n){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return a=this.unpack_uint16(),this.unpack_string(a);case 217:return a=this.unpack_uint32(),this.unpack_string(a);case 218:return a=this.unpack_uint16(),this.unpack_raw(a);case 219:return a=this.unpack_uint32(),this.unpack_raw(a);case 220:return a=this.unpack_uint16(),this.unpack_array(a);case 221:return a=this.unpack_uint32(),this.unpack_array(a);case 222:return a=this.unpack_uint16(),this.unpack_map(a);case 223:return a=this.unpack_uint32(),this.unpack_map(a)}}unpack_uint8(){const n=this.dataView[this.index]&255;return this.index++,n}unpack_uint16(){const n=this.read(2),a=(n[0]&255)*256+(n[1]&255);return this.index+=2,a}unpack_uint32(){const n=this.read(4),a=((n[0]*256+n[1])*256+n[2])*256+n[3];return this.index+=4,a}unpack_uint64(){const n=this.read(8),a=((((((n[0]*256+n[1])*256+n[2])*256+n[3])*256+n[4])*256+n[5])*256+n[6])*256+n[7];return this.index+=8,a}unpack_int8(){const n=this.unpack_uint8();return n<128?n:n-256}unpack_int16(){const n=this.unpack_uint16();return n<32768?n:n-65536}unpack_int32(){const n=this.unpack_uint32();return n<2**31?n:n-2**32}unpack_int64(){const n=this.unpack_uint64();return n<2**63?n:n-2**64}unpack_raw(n){if(this.length<this.index+n)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${n} ${this.length}`);const a=this.dataBuffer.slice(this.index,this.index+n);return this.index+=n,a}unpack_string(n){const a=this.read(n);let r=0,o="",c,d;for(;r<n;)c=a[r],c<160?(d=c,r++):(c^192)<32?(d=(c&31)<<6|a[r+1]&63,r+=2):(c^224)<16?(d=(c&15)<<12|(a[r+1]&63)<<6|a[r+2]&63,r+=3):(d=(c&7)<<18|(a[r+1]&63)<<12|(a[r+2]&63)<<6|a[r+3]&63,r+=4),o+=String.fromCodePoint(d);return this.index+=n,o}unpack_array(n){const a=new Array(n);for(let r=0;r<n;r++)a[r]=this.unpack();return a}unpack_map(n){const a={};for(let r=0;r<n;r++){const o=this.unpack();a[o]=this.unpack()}return a}unpack_float(){const n=this.unpack_uint32(),a=n>>31,r=(n>>23&255)-127,o=n&8388607|8388608;return(a===0?1:-1)*o*2**(r-23)}unpack_double(){const n=this.unpack_uint32(),a=this.unpack_uint32(),r=n>>31,o=(n>>20&2047)-1023,d=(n&1048575|1048576)*2**(o-20)+a*2**(o-52);return(r===0?1:-1)*d}read(n){const a=this.index;if(a+n<=this.length)return this.dataView.subarray(a,a+n);throw new Error("BinaryPackFailure: read index out of range")}}class zS{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(n){if(typeof n=="string")this.pack_string(n);else if(typeof n=="number")Math.floor(n)===n?this.pack_integer(n):this.pack_double(n);else if(typeof n=="boolean")n===!0?this._bufferBuilder.append(195):n===!1&&this._bufferBuilder.append(194);else if(n===void 0)this._bufferBuilder.append(192);else if(typeof n=="object")if(n===null)this._bufferBuilder.append(192);else{const a=n.constructor;if(n instanceof Array){const r=this.pack_array(n);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(n instanceof ArrayBuffer)this.pack_bin(new Uint8Array(n));else if("BYTES_PER_ELEMENT"in n){const r=n;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(n instanceof Date)this.pack_string(n.toString());else{if(n instanceof Blob)return n.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(a==Object||a.toString().startsWith("class")){const r=this.pack_object(n);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${a.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof n}" not yet supported`);this._bufferBuilder.flush()}pack_bin(n){const a=n.length;if(a<=15)this.pack_uint8(160+a);else if(a<=65535)this._bufferBuilder.append(218),this.pack_uint16(a);else if(a<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(a);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_string(n){const a=this._textEncoder.encode(n),r=a.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(a)}pack_array(n){const a=n.length;if(a<=15)this.pack_uint8(144+a);else if(a<=65535)this._bufferBuilder.append(220),this.pack_uint16(a);else if(a<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(a);else throw new Error("Invalid length");const r=o=>{if(o<a){const c=this.pack(n[o]);return c instanceof Promise?c.then(()=>r(o+1)):r(o+1)}};return r(0)}pack_integer(n){if(n>=-32&&n<=127)this._bufferBuilder.append(n&255);else if(n>=0&&n<=255)this._bufferBuilder.append(204),this.pack_uint8(n);else if(n>=-128&&n<=127)this._bufferBuilder.append(208),this.pack_int8(n);else if(n>=0&&n<=65535)this._bufferBuilder.append(205),this.pack_uint16(n);else if(n>=-32768&&n<=32767)this._bufferBuilder.append(209),this.pack_int16(n);else if(n>=0&&n<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(n);else if(n>=-2147483648&&n<=2147483647)this._bufferBuilder.append(210),this.pack_int32(n);else if(n>=-9223372036854776e3&&n<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(n);else if(n>=0&&n<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(n);else throw new Error("Invalid integer")}pack_double(n){let a=0;n<0&&(a=1,n=-n);const r=Math.floor(Math.log(n)/Math.LN2),o=n/2**r-1,c=Math.floor(o*2**52),d=2**32,h=a<<31|r+1023<<20|c/d&1048575,p=c%d;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(p)}pack_object(n){const a=Object.keys(n),r=a.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const o=c=>{if(c<a.length){const d=a[c];if(n.hasOwnProperty(d)){this.pack(d);const h=this.pack(n[d]);if(h instanceof Promise)return h.then(()=>o(c+1))}return o(c+1)}};return o(0)}pack_uint8(n){this._bufferBuilder.append(n)}pack_uint16(n){this._bufferBuilder.append(n>>8),this._bufferBuilder.append(n&255)}pack_uint32(n){const a=n&4294967295;this._bufferBuilder.append((a&4278190080)>>>24),this._bufferBuilder.append((a&16711680)>>>16),this._bufferBuilder.append((a&65280)>>>8),this._bufferBuilder.append(a&255)}pack_uint64(n){const a=n/4294967296,r=n%2**32;this._bufferBuilder.append((a&4278190080)>>>24),this._bufferBuilder.append((a&16711680)>>>16),this._bufferBuilder.append((a&65280)>>>8),this._bufferBuilder.append(a&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(n){this._bufferBuilder.append(n&255)}pack_int16(n){this._bufferBuilder.append((n&65280)>>8),this._bufferBuilder.append(n&255)}pack_int32(n){this._bufferBuilder.append(n>>>24&255),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int64(n){const a=Math.floor(n/4294967296),r=n%2**32;this._bufferBuilder.append((a&4278190080)>>>24),this._bufferBuilder.append((a&16711680)>>>16),this._bufferBuilder.append((a&65280)>>>8),this._bufferBuilder.append(a&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new jS,this._textEncoder=new TextEncoder}}let F1=!0,W1=!0;function ii(s,n,a){const r=s.match(n);return r&&r.length>=a&&parseFloat(r[a],10)}function Ka(s,n,a){if(!s.RTCPeerConnection)return;const r=s.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(d,h){if(d!==n)return o.apply(this,arguments);const p=m=>{const y=a(m);y&&(h.handleEvent?h.handleEvent(y):h(y))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(h,p),o.apply(this,[d,p])};const c=r.removeEventListener;r.removeEventListener=function(d,h){if(d!==n||!this._eventMap||!this._eventMap[n])return c.apply(this,arguments);if(!this._eventMap[n].has(h))return c.apply(this,arguments);const p=this._eventMap[n].get(h);return this._eventMap[n].delete(h),this._eventMap[n].size===0&&delete this._eventMap[n],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[d,p])},Object.defineProperty(r,"on"+n,{get(){return this["_on"+n]},set(d){this["_on"+n]&&(this.removeEventListener(n,this["_on"+n]),delete this["_on"+n]),d&&this.addEventListener(n,this["_on"+n]=d)},enumerable:!0,configurable:!0})}function LS(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(F1=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function $S(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(W1=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function ey(){if(typeof window=="object"){if(F1)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Od(s,n){W1&&console.warn(s+" is deprecated, please use "+n+" instead.")}function qS(s){const n={browser:null,version:null};if(typeof s>"u"||!s.navigator||!s.navigator.userAgent)return n.browser="Not a browser.",n;const{navigator:a}=s;if(a.userAgentData&&a.userAgentData.brands){const r=a.userAgentData.brands.find(o=>o.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(a.mozGetUserMedia)n.browser="firefox",n.version=parseInt(ii(a.userAgent,/Firefox\/(\d+)\./,1));else if(a.webkitGetUserMedia||s.isSecureContext===!1&&s.webkitRTCPeerConnection)n.browser="chrome",n.version=parseInt(ii(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(s.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./))n.browser="safari",n.version=parseInt(ii(a.userAgent,/AppleWebKit\/(\d+)\./,1)),n.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype,n._safariVersion=ii(a.userAgent,/Version\/(\d+(\.?\d+))/,1);else return n.browser="Not a supported browser.",n;return n}function gg(s){return Object.prototype.toString.call(s)==="[object Object]"}function ty(s){return gg(s)?Object.keys(s).reduce(function(n,a){const r=gg(s[a]),o=r?ty(s[a]):s[a],c=r&&!Object.keys(o).length;return o===void 0||c?n:Object.assign(n,{[a]:o})},{}):s}function rd(s,n,a){!n||a.has(n.id)||(a.set(n.id,n),Object.keys(n).forEach(r=>{r.endsWith("Id")?rd(s,s.get(n[r]),a):r.endsWith("Ids")&&n[r].forEach(o=>{rd(s,s.get(o),a)})}))}function yg(s,n,a){const r=a?"outbound-rtp":"inbound-rtp",o=new Map;if(n===null)return o;const c=[];return s.forEach(d=>{d.type==="track"&&d.trackIdentifier===n.id&&c.push(d)}),c.forEach(d=>{s.forEach(h=>{h.type===r&&h.trackId===d.id&&rd(s,h,o)})}),o}const bg=ey;function ny(s,n){const a=s&&s.navigator;if(!a.mediaDevices)return;const r=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const p={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const y=typeof h[m]=="object"?h[m]:{ideal:h[m]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const b=function(S,_){return S?S+_.charAt(0).toUpperCase()+_.slice(1):_==="deviceId"?"sourceId":_};if(y.ideal!==void 0){p.optional=p.optional||[];let S={};typeof y.ideal=="number"?(S[b("min",m)]=y.ideal,p.optional.push(S),S={},S[b("max",m)]=y.ideal,p.optional.push(S)):(S[b("",m)]=y.ideal,p.optional.push(S))}y.exact!==void 0&&typeof y.exact!="number"?(p.mandatory=p.mandatory||{},p.mandatory[b("",m)]=y.exact):["min","max"].forEach(S=>{y[S]!==void 0&&(p.mandatory=p.mandatory||{},p.mandatory[b(S,m)]=y[S])})}),h.advanced&&(p.optional=(p.optional||[]).concat(h.advanced)),p},o=function(h,p){if(n.version>=61)return p(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(y,b,S){b in y&&!(S in y)&&(y[S]=y[b],delete y[b])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=r(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const y=n.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(a.mediaDevices.getSupportedConstraints&&a.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete h.video.facingMode;let b;if(m.exact==="environment"||m.ideal==="environment"?b=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(b=["front"]),b)return a.mediaDevices.enumerateDevices().then(S=>{S=S.filter(C=>C.kind==="videoinput");let _=S.find(C=>b.some(M=>C.label.toLowerCase().includes(M)));return!_&&S.length&&b.includes("back")&&(_=S[S.length-1]),_&&(h.video.deviceId=m.exact?{exact:_.deviceId}:{ideal:_.deviceId}),h.video=r(h.video),bg("chrome: "+JSON.stringify(h)),p(h)})}h.video=r(h.video)}return bg("chrome: "+JSON.stringify(h)),p(h)},c=function(h){return n.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},d=function(h,p,m){o(h,y=>{a.webkitGetUserMedia(y,p,b=>{m&&m(c(b))})})};if(a.getUserMedia=d.bind(a),a.mediaDevices.getUserMedia){const h=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(p){return o(p,m=>h(m).then(y=>{if(m.audio&&!y.getAudioTracks().length||m.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(b=>{b.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function ay(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function ry(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(a){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=a)},enumerable:!0,configurable:!0});const n=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",o=>{let c;s.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(h=>h.track&&h.track.id===o.track.id):c={track:o.track};const d=new Event("track");d.track=o.track,d.receiver=c,d.transceiver={receiver:c},d.streams=[r.stream],this.dispatchEvent(d)}),r.stream.getTracks().forEach(o=>{let c;s.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(h=>h.track&&h.track.id===o.id):c={track:o};const d=new Event("track");d.track=o,d.receiver=c,d.transceiver={receiver:c},d.streams=[r.stream],this.dispatchEvent(d)})},this.addEventListener("addstream",this._ontrackpoly)),n.apply(this,arguments)}}else Ka(s,"track",n=>(n.transceiver||Object.defineProperty(n,"transceiver",{value:{receiver:n.receiver}}),n))}function sy(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const n=function(o,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=o.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:o}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const o=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(h,p){let m=o.apply(this,arguments);return m||(m=n(this,h),this._senders.push(m)),m};const c=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(h){c.apply(this,arguments);const p=this._senders.indexOf(h);p!==-1&&this._senders.splice(p,1)}}const a=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],a.apply(this,[c]),c.getTracks().forEach(d=>{this._senders.push(n(this,d))})};const r=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],r.apply(this,[c]),c.getTracks().forEach(d=>{const h=this._senders.find(p=>p.track===d);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof s=="object"&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const n=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function iy(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const a=s.RTCPeerConnection.prototype.getSenders;a&&(s.RTCPeerConnection.prototype.getSenders=function(){const c=a.apply(this,[]);return c.forEach(d=>d._pc=this),c});const r=s.RTCPeerConnection.prototype.addTrack;r&&(s.RTCPeerConnection.prototype.addTrack=function(){const c=r.apply(this,arguments);return c._pc=this,c}),s.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(d=>yg(d,c.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const a=s.RTCPeerConnection.prototype.getReceivers;a&&(s.RTCPeerConnection.prototype.getReceivers=function(){const o=a.apply(this,[]);return o.forEach(c=>c._pc=this),o}),Ka(s,"track",r=>(r.receiver._pc=r.srcElement,r)),s.RTCRtpReceiver.prototype.getStats=function(){const o=this;return this._pc.getStats().then(c=>yg(c,o.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype&&"getStats"in s.RTCRtpReceiver.prototype))return;const n=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const r=arguments[0];let o,c,d;return this.getSenders().forEach(h=>{h.track===r&&(o?d=!0:o=h)}),this.getReceivers().forEach(h=>(h.track===r&&(c?d=!0:c=h),h.track===r)),d||o&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):o?o.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return n.apply(this,arguments)}}function ly(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(d=>this._shimmedLocalStreams[d][0])};const n=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(d,h){if(!h)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const p=n.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(p)===-1&&this._shimmedLocalStreams[h.id].push(p):this._shimmedLocalStreams[h.id]=[h,p],p};const a=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(d){this._shimmedLocalStreams=this._shimmedLocalStreams||{},d.getTracks().forEach(m=>{if(this.getSenders().find(b=>b.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();a.apply(this,arguments);const p=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[d.id]=[d].concat(p)};const r=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[d.id],r.apply(this,arguments)};const o=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},d&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const p=this._shimmedLocalStreams[h].indexOf(d);p!==-1&&this._shimmedLocalStreams[h].splice(p,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),o.apply(this,arguments)}}function oy(s,n){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&n.version>=65)return ly(s);const a=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const y=a.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(b=>this._reverseStreams[b.id])};const r=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(b=>{if(this.getSenders().find(_=>_.track===b))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const b=new s.MediaStream(y.getTracks());this._streams[y.id]=b,this._reverseStreams[b.id]=y,y=b}r.apply(this,[y])};const o=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},s.RTCPeerConnection.prototype.addTrack=function(y,b){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(M=>M===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(M=>M.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[b.id];if(C)C.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const M=new s.MediaStream([y]);this._streams[b.id]=M,this._reverseStreams[M.id]=b,this.addStream(M)}return this.getSenders().find(M=>M.track===y)};function c(m,y){let b=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const _=m._reverseStreams[S],C=m._streams[_.id];b=b.replace(new RegExp(C.id,"g"),_.id)}),new RTCSessionDescription({type:y.type,sdp:b})}function d(m,y){let b=y.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const _=m._reverseStreams[S],C=m._streams[_.id];b=b.replace(new RegExp(_.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:b})}["createOffer","createAnswer"].forEach(function(m){const y=s.RTCPeerConnection.prototype[m],b={[m](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[C=>{const M=c(this,C);S[0].apply(null,[M])},C=>{S[1]&&S[1].apply(null,C)},arguments[2]]):y.apply(this,arguments).then(C=>c(this,C))}};s.RTCPeerConnection.prototype[m]=b[m]});const h=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=d(this,arguments[0]),h.apply(this,arguments))};const p=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const m=p.get.apply(this);return m.type===""?m:c(this,m)}}),s.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(_=>{this._streams[_].getTracks().find(M=>y.track===M)&&(S=this._streams[_])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function sd(s,n){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const r=s.RTCPeerConnection.prototype[a],o={[a](){return arguments[0]=new(a==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};s.RTCPeerConnection.prototype[a]=o[a]})}function cy(s,n){Ka(s,"negotiationneeded",a=>{const r=a.target;if(!((n.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return a})}const _g=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:cy,shimAddTrackRemoveTrack:oy,shimAddTrackRemoveTrackWithNative:ly,shimGetSendersWithDtmf:sy,shimGetUserMedia:ny,shimMediaStream:ay,shimOnTrack:ry,shimPeerConnection:sd,shimSenderReceiverGetStats:iy},Symbol.toStringTag,{value:"Module"}));function uy(s,n){const a=s&&s.navigator,r=s&&s.MediaStreamTrack;if(a.getUserMedia=function(o,c,d){Od("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(o).then(c,d)},!(n.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){const o=function(d,h,p){h in d&&!(p in d)&&(d[p]=d[h],delete d[h])},c=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(d){return typeof d=="object"&&typeof d.audio=="object"&&(d=JSON.parse(JSON.stringify(d)),o(d.audio,"autoGainControl","mozAutoGainControl"),o(d.audio,"noiseSuppression","mozNoiseSuppression")),c(d)},r&&r.prototype.getSettings){const d=r.prototype.getSettings;r.prototype.getSettings=function(){const h=d.apply(this,arguments);return o(h,"mozAutoGainControl","autoGainControl"),o(h,"mozNoiseSuppression","noiseSuppression"),h}}if(r&&r.prototype.applyConstraints){const d=r.prototype.applyConstraints;r.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),o(h,"autoGainControl","mozAutoGainControl"),o(h,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[h])}}}}function HS(s,n){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const o=new DOMException("getDisplayMedia without video constraints is undefined");return o.name="NotFoundError",o.code=8,Promise.reject(o)}return r.video===!0?r.video={mediaSource:n}:r.video.mediaSource=n,s.navigator.mediaDevices.getUserMedia(r)})}function fy(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function id(s,n){if(typeof s!="object"||!(s.RTCPeerConnection||s.mozRTCPeerConnection))return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const c=s.RTCPeerConnection.prototype[o],d={[o](){return arguments[0]=new(o==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};s.RTCPeerConnection.prototype[o]=d[o]});const a={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[c,d,h]=arguments;return r.apply(this,[c||null]).then(p=>{if(n.version<53&&!d)try{p.forEach(m=>{m.type=a[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;p.forEach((y,b)=>{p.set(b,Object.assign({},y,{type:a[y.type]||y.type}))})}return p}).then(d,h)}}function dy(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const n=s.RTCPeerConnection.prototype.getSenders;n&&(s.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(c=>c._pc=this),o});const a=s.RTCPeerConnection.prototype.addTrack;a&&(s.RTCPeerConnection.prototype.addTrack=function(){const o=a.apply(this,arguments);return o._pc=this,o}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function hy(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const n=s.RTCPeerConnection.prototype.getReceivers;n&&(s.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r}),Ka(s,"track",a=>(a.receiver._pc=a.srcElement,a)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function py(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(a){Od("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&a.getTracks().includes(r.track)&&this.removeTrack(r)})})}function my(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function gy(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const n=s.RTCPeerConnection.prototype.addTransceiver;n&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const o=r.length>0;o&&r.forEach(d=>{if("rid"in d&&!/^[a-z0-9]{0,16}$/i.test(d.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in d&&!(parseFloat(d.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in d&&!(parseFloat(d.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=n.apply(this,arguments);if(o){const{sender:d}=c,h=d.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=r,d.sendEncodings=r,this.setParametersPromises.push(d.setParameters(h).then(()=>{delete d.sendEncodings}).catch(()=>{delete d.sendEncodings})))}return c})}function yy(s){if(!(typeof s=="object"&&s.RTCRtpSender))return;const n=s.RTCRtpSender.prototype.getParameters;n&&(s.RTCRtpSender.prototype.getParameters=function(){const r=n.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function by(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const n=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}function _y(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const n=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}const vg=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:gy,shimCreateAnswer:_y,shimCreateOffer:by,shimGetDisplayMedia:HS,shimGetParameters:yy,shimGetUserMedia:uy,shimOnTrack:fy,shimPeerConnection:id,shimRTCDataChannel:my,shimReceiverGetStats:hy,shimRemoveStream:py,shimSenderGetStats:dy},Symbol.toStringTag,{value:"Module"}));function vy(s){if(!(typeof s!="object"||!s.RTCPeerConnection)){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const n=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(o=>n.call(this,o,r)),r.getVideoTracks().forEach(o=>n.call(this,o,r))},s.RTCPeerConnection.prototype.addTrack=function(r,...o){return o&&o.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),n.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(a){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(a);if(r===-1)return;this._localStreams.splice(r,1);const o=a.getTracks();this.getSenders().forEach(c=>{o.includes(c.track)&&this.removeTrack(c)})})}}function Sy(s){if(!(typeof s!="object"||!s.RTCPeerConnection)&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(a){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);const c=new Event("addstream");c.stream=o,this.dispatchEvent(c)})})}});const n=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(o){o.streams.forEach(c=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(c)>=0)return;r._remoteStreams.push(c);const d=new Event("addstream");d.stream=c,r.dispatchEvent(d)})}),n.apply(r,arguments)}}}function Cy(s){if(typeof s!="object"||!s.RTCPeerConnection)return;const n=s.RTCPeerConnection.prototype,a=n.createOffer,r=n.createAnswer,o=n.setLocalDescription,c=n.setRemoteDescription,d=n.addIceCandidate;n.createOffer=function(m,y){const b=arguments.length>=2?arguments[2]:arguments[0],S=a.apply(this,[b]);return y?(S.then(m,y),Promise.resolve()):S},n.createAnswer=function(m,y){const b=arguments.length>=2?arguments[2]:arguments[0],S=r.apply(this,[b]);return y?(S.then(m,y),Promise.resolve()):S};let h=function(p,m,y){const b=o.apply(this,[p]);return y?(b.then(m,y),Promise.resolve()):b};n.setLocalDescription=h,h=function(p,m,y){const b=c.apply(this,[p]);return y?(b.then(m,y),Promise.resolve()):b},n.setRemoteDescription=h,h=function(p,m,y){const b=d.apply(this,[p]);return y?(b.then(m,y),Promise.resolve()):b},n.addIceCandidate=h}function xy(s){const n=s&&s.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){const a=n.mediaDevices,r=a.getUserMedia.bind(a);n.mediaDevices.getUserMedia=o=>r(Ty(o))}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=(function(r,o,c){n.mediaDevices.getUserMedia(r).then(o,c)}).bind(n))}function Ty(s){return s&&s.video!==void 0?Object.assign({},s,{video:ty(s.video)}):s}function Ry(s){if(!s.RTCPeerConnection)return;const n=s.RTCPeerConnection;s.RTCPeerConnection=function(r,o){if(r&&r.iceServers){const c=[];for(let d=0;d<r.iceServers.length;d++){let h=r.iceServers[d];h.urls===void 0&&h.url?(Od("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,c.push(h)):c.push(r.iceServers[d])}r.iceServers=c}return new n(r,o)},s.RTCPeerConnection.prototype=n.prototype,"generateCertificate"in n&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get(){return n.generateCertificate}})}function Ey(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ay(s){const n=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const o=this.getTransceivers().find(d=>d.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveAudio===!0&&!o&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const c=this.getTransceivers().find(d=>d.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):r.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return n.apply(this,arguments)}}function wy(s){typeof s!="object"||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}const Sg=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:wy,shimCallbacksAPI:Cy,shimConstraints:Ty,shimCreateOfferLegacy:Ay,shimGetUserMedia:xy,shimLocalStreamsAPI:vy,shimRTCIceServerUrls:Ry,shimRemoteStreamsAPI:Sy,shimTrackEventTransceiver:Ey},Symbol.toStringTag,{value:"Module"}));var hf={exports:{}},Cg;function PS(){return Cg||(Cg=1,function(s){const n={};n.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},n.localCName=n.generateIdentifier(),n.splitLines=function(a){return a.trim().split(`
`).map(r=>r.trim())},n.splitSections=function(a){return a.split(`
m=`).map((o,c)=>(c>0?"m="+o:o).trim()+`\r
`)},n.getDescription=function(a){const r=n.splitSections(a);return r&&r[0]},n.getMediaSections=function(a){const r=n.splitSections(a);return r.shift(),r},n.matchPrefix=function(a,r){return n.splitLines(a).filter(o=>o.indexOf(r)===0)},n.parseCandidate=function(a){let r;a.indexOf("a=candidate:")===0?r=a.substring(12).split(" "):r=a.substring(10).split(" ");const o={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let c=8;c<r.length;c+=2)switch(r[c]){case"raddr":o.relatedAddress=r[c+1];break;case"rport":o.relatedPort=parseInt(r[c+1],10);break;case"tcptype":o.tcpType=r[c+1];break;case"ufrag":o.ufrag=r[c+1],o.usernameFragment=r[c+1];break;default:o[r[c]]===void 0&&(o[r[c]]=r[c+1]);break}return o},n.writeCandidate=function(a){const r=[];r.push(a.foundation);const o=a.component;o==="rtp"?r.push(1):o==="rtcp"?r.push(2):r.push(o),r.push(a.protocol.toUpperCase()),r.push(a.priority),r.push(a.address||a.ip),r.push(a.port);const c=a.type;return r.push("typ"),r.push(c),c!=="host"&&a.relatedAddress&&a.relatedPort&&(r.push("raddr"),r.push(a.relatedAddress),r.push("rport"),r.push(a.relatedPort)),a.tcpType&&a.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(r.push("ufrag"),r.push(a.usernameFragment||a.ufrag)),"candidate:"+r.join(" ")},n.parseIceOptions=function(a){return a.substring(14).split(" ")},n.parseRtpMap=function(a){let r=a.substring(9).split(" ");const o={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),o.name=r[0],o.clockRate=parseInt(r[1],10),o.channels=r.length===3?parseInt(r[2],10):1,o.numChannels=o.channels,o},n.writeRtpMap=function(a){let r=a.payloadType;a.preferredPayloadType!==void 0&&(r=a.preferredPayloadType);const o=a.channels||a.numChannels||1;return"a=rtpmap:"+r+" "+a.name+"/"+a.clockRate+(o!==1?"/"+o:"")+`\r
`},n.parseExtmap=function(a){const r=a.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},n.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&a.direction!=="sendrecv"?"/"+a.direction:"")+" "+a.uri+(a.attributes?" "+a.attributes:"")+`\r
`},n.parseFmtp=function(a){const r={};let o;const c=a.substring(a.indexOf(" ")+1).split(";");for(let d=0;d<c.length;d++)o=c[d].trim().split("="),r[o[0].trim()]=o[1];return r},n.writeFmtp=function(a){let r="",o=a.payloadType;if(a.preferredPayloadType!==void 0&&(o=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){const c=[];Object.keys(a.parameters).forEach(d=>{a.parameters[d]!==void 0?c.push(d+"="+a.parameters[d]):c.push(d)}),r+="a=fmtp:"+o+" "+c.join(";")+`\r
`}return r},n.parseRtcpFb=function(a){const r=a.substring(a.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},n.writeRtcpFb=function(a){let r="",o=a.payloadType;return a.preferredPayloadType!==void 0&&(o=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(c=>{r+="a=rtcp-fb:"+o+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),r},n.parseSsrcMedia=function(a){const r=a.indexOf(" "),o={ssrc:parseInt(a.substring(7,r),10)},c=a.indexOf(":",r);return c>-1?(o.attribute=a.substring(r+1,c),o.value=a.substring(c+1)):o.attribute=a.substring(r+1),o},n.parseSsrcGroup=function(a){const r=a.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(o=>parseInt(o,10))}},n.getMid=function(a){const r=n.matchPrefix(a,"a=mid:")[0];if(r)return r.substring(6)},n.parseFingerprint=function(a){const r=a.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},n.getDtlsParameters=function(a,r){return{role:"auto",fingerprints:n.matchPrefix(a+r,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(a,r){let o="a=setup:"+r+`\r
`;return a.fingerprints.forEach(c=>{o+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),o},n.parseCryptoLine=function(a){const r=a.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},n.writeCryptoLine=function(a){return"a=crypto:"+a.tag+" "+a.cryptoSuite+" "+(typeof a.keyParams=="object"?n.writeCryptoKeyParams(a.keyParams):a.keyParams)+(a.sessionParams?" "+a.sessionParams.join(" "):"")+`\r
`},n.parseCryptoKeyParams=function(a){if(a.indexOf("inline:")!==0)return null;const r=a.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},n.writeCryptoKeyParams=function(a){return a.keyMethod+":"+a.keySalt+(a.lifeTime?"|"+a.lifeTime:"")+(a.mkiValue&&a.mkiLength?"|"+a.mkiValue+":"+a.mkiLength:"")},n.getCryptoParameters=function(a,r){return n.matchPrefix(a+r,"a=crypto:").map(n.parseCryptoLine)},n.getIceParameters=function(a,r){const o=n.matchPrefix(a+r,"a=ice-ufrag:")[0],c=n.matchPrefix(a+r,"a=ice-pwd:")[0];return o&&c?{usernameFragment:o.substring(12),password:c.substring(10)}:null},n.writeIceParameters=function(a){let r="a=ice-ufrag:"+a.usernameFragment+`\r
a=ice-pwd:`+a.password+`\r
`;return a.iceLite&&(r+=`a=ice-lite\r
`),r},n.parseRtpParameters=function(a){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=n.splitLines(a)[0].split(" ");r.profile=c[2];for(let h=3;h<c.length;h++){const p=c[h],m=n.matchPrefix(a,"a=rtpmap:"+p+" ")[0];if(m){const y=n.parseRtpMap(m),b=n.matchPrefix(a,"a=fmtp:"+p+" ");switch(y.parameters=b.length?n.parseFmtp(b[0]):{},y.rtcpFeedback=n.matchPrefix(a,"a=rtcp-fb:"+p+" ").map(n.parseRtcpFb),r.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(y.name.toUpperCase());break}}}n.matchPrefix(a,"a=extmap:").forEach(h=>{r.headerExtensions.push(n.parseExtmap(h))});const d=n.matchPrefix(a,"a=rtcp-fb:* ").map(n.parseRtcpFb);return r.codecs.forEach(h=>{d.forEach(p=>{h.rtcpFeedback.find(y=>y.type===p.type&&y.parameter===p.parameter)||h.rtcpFeedback.push(p)})}),r},n.writeRtpDescription=function(a,r){let o="";o+="m="+a+" ",o+=r.codecs.length>0?"9":"0",o+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",o+=r.codecs.map(d=>d.preferredPayloadType!==void 0?d.preferredPayloadType:d.payloadType).join(" ")+`\r
`,o+=`c=IN IP4 0.0.0.0\r
`,o+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(d=>{o+=n.writeRtpMap(d),o+=n.writeFmtp(d),o+=n.writeRtcpFb(d)});let c=0;return r.codecs.forEach(d=>{d.maxptime>c&&(c=d.maxptime)}),c>0&&(o+="a=maxptime:"+c+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(d=>{o+=n.writeExtmap(d)}),o},n.parseRtpEncodingParameters=function(a){const r=[],o=n.parseRtpParameters(a),c=o.fecMechanisms.indexOf("RED")!==-1,d=o.fecMechanisms.indexOf("ULPFEC")!==-1,h=n.matchPrefix(a,"a=ssrc:").map(S=>n.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),p=h.length>0&&h[0].ssrc;let m;const y=n.matchPrefix(a,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(C=>parseInt(C,10)));y.length>0&&y[0].length>1&&y[0][0]===p&&(m=y[0][1]),o.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let _={ssrc:p,codecPayloadType:parseInt(S.parameters.apt,10)};p&&m&&(_.rtx={ssrc:m}),r.push(_),c&&(_=JSON.parse(JSON.stringify(_)),_.fec={ssrc:p,mechanism:d?"red+ulpfec":"red"},r.push(_))}}),r.length===0&&p&&r.push({ssrc:p});let b=n.matchPrefix(a,"b=");return b.length&&(b[0].indexOf("b=TIAS:")===0?b=parseInt(b[0].substring(7),10):b[0].indexOf("b=AS:")===0?b=parseInt(b[0].substring(5),10)*1e3*.95-2e3*8:b=void 0,r.forEach(S=>{S.maxBitrate=b})),r},n.parseRtcpParameters=function(a){const r={},o=n.matchPrefix(a,"a=ssrc:").map(h=>n.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];o&&(r.cname=o.value,r.ssrc=o.ssrc);const c=n.matchPrefix(a,"a=rtcp-rsize");r.reducedSize=c.length>0,r.compound=c.length===0;const d=n.matchPrefix(a,"a=rtcp-mux");return r.mux=d.length>0,r},n.writeRtcpParameters=function(a){let r="";return a.reducedSize&&(r+=`a=rtcp-rsize\r
`),a.mux&&(r+=`a=rtcp-mux\r
`),a.ssrc!==void 0&&a.cname&&(r+="a=ssrc:"+a.ssrc+" cname:"+a.cname+`\r
`),r},n.parseMsid=function(a){let r;const o=n.matchPrefix(a,"a=msid:");if(o.length===1)return r=o[0].substring(7).split(" "),{stream:r[0],track:r[1]};const c=n.matchPrefix(a,"a=ssrc:").map(d=>n.parseSsrcMedia(d)).filter(d=>d.attribute==="msid");if(c.length>0)return r=c[0].value.split(" "),{stream:r[0],track:r[1]}},n.parseSctpDescription=function(a){const r=n.parseMLine(a),o=n.matchPrefix(a,"a=max-message-size:");let c;o.length>0&&(c=parseInt(o[0].substring(19),10)),isNaN(c)&&(c=65536);const d=n.matchPrefix(a,"a=sctp-port:");if(d.length>0)return{port:parseInt(d[0].substring(12),10),protocol:r.fmt,maxMessageSize:c};const h=n.matchPrefix(a,"a=sctpmap:");if(h.length>0){const p=h[0].substring(10).split(" ");return{port:parseInt(p[0],10),protocol:p[1],maxMessageSize:c}}},n.writeSctpDescription=function(a,r){let o=[];return a.protocol!=="DTLS/SCTP"?o=["m="+a.kind+" 9 "+a.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:o=["m="+a.kind+" 9 "+a.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&o.push("a=max-message-size:"+r.maxMessageSize+`\r
`),o.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,22)},n.writeSessionBoilerplate=function(a,r,o){let c;const d=r!==void 0?r:2;return a?c=a:c=n.generateSessionId(),`v=0\r
o=`+(o||"thisisadapterortc")+" "+c+" "+d+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},n.getDirection=function(a,r){const o=n.splitLines(a);for(let c=0;c<o.length;c++)switch(o[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[c].substring(2)}return r?n.getDirection(r):"sendrecv"},n.getKind=function(a){return n.splitLines(a)[0].split(" ")[0].substring(2)},n.isRejected=function(a){return a.split(" ",2)[1]==="0"},n.parseMLine=function(a){const o=n.splitLines(a)[0].substring(2).split(" ");return{kind:o[0],port:parseInt(o[1],10),protocol:o[2],fmt:o.slice(3).join(" ")}},n.parseOLine=function(a){const o=n.matchPrefix(a,"o=")[0].substring(2).split(" ");return{username:o[0],sessionId:o[1],sessionVersion:parseInt(o[2],10),netType:o[3],addressType:o[4],address:o[5]}},n.isValidSDP=function(a){if(typeof a!="string"||a.length===0)return!1;const r=n.splitLines(a);for(let o=0;o<r.length;o++)if(r[o].length<2||r[o].charAt(1)!=="=")return!1;return!0},s.exports=n}(hf)),hf.exports}var My=PS();const Zr=K1(My),YS=pS({__proto__:null,default:Zr},[My]);function eo(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const n=s.RTCIceCandidate;s.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const o=new n(r),c=Zr.parseCandidate(r.candidate);for(const d in c)d in o||Object.defineProperty(o,d,{value:c[d]});return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new n(r)},s.RTCIceCandidate.prototype=n.prototype,Ka(s,"icecandidate",a=>(a.candidate&&Object.defineProperty(a,"candidate",{value:new s.RTCIceCandidate(a.candidate),writable:"false"}),a))}function ld(s){!s.RTCIceCandidate||s.RTCIceCandidate&&"relayProtocol"in s.RTCIceCandidate.prototype||Ka(s,"icecandidate",n=>{if(n.candidate){const a=Zr.parseCandidate(n.candidate.candidate);a.type==="relay"&&(n.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[a.priority>>24])}return n})}function to(s,n){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const a=function(h){if(!h||!h.sdp)return!1;const p=Zr.splitSections(h.sdp);return p.shift(),p.some(m=>{const y=Zr.parseMLine(m);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},r=function(h){const p=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(p===null||p.length<2)return-1;const m=parseInt(p[1],10);return m!==m?-1:m},o=function(h){let p=65536;return n.browser==="firefox"&&(n.version<57?h===-1?p=16384:p=2147483637:n.version<60?p=n.version===57?65535:65536:p=2147483637),p},c=function(h,p){let m=65536;n.browser==="firefox"&&n.version===57&&(m=65535);const y=Zr.matchPrefix(h.sdp,"a=max-message-size:");return y.length>0?m=parseInt(y[0].substring(19),10):n.browser==="firefox"&&p!==-1&&(m=2147483637),m},d=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,n.browser==="chrome"&&n.version>=76){const{sdpSemantics:p}=this.getConfiguration();p==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(a(arguments[0])){const p=r(arguments[0]),m=o(p),y=c(arguments[0],p);let b;m===0&&y===0?b=Number.POSITIVE_INFINITY:m===0||y===0?b=Math.max(m,y):b=Math.min(m,y);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return b}}),this._sctp=S}return d.apply(this,arguments)}}function no(s){if(!(s.RTCPeerConnection&&"createDataChannel"in s.RTCPeerConnection.prototype))return;function n(r,o){const c=r.send;r.send=function(){const h=arguments[0],p=h.length||h.size||h.byteLength;if(r.readyState==="open"&&o.sctp&&p>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return c.apply(r,arguments)}}const a=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const o=a.apply(this,arguments);return n(o,this),o},Ka(s,"datachannel",r=>(n(r.channel,r.target),r))}function od(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const n=s.RTCPeerConnection.prototype;Object.defineProperty(n,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(a){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),a&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=a)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(a=>{const r=n[a];n[a]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{const c=o.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const d=new Event("connectionstatechange",o);c.dispatchEvent(d)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function cd(s,n){if(!s.RTCPeerConnection||n.browser==="chrome"&&n.version>=71||n.browser==="safari"&&n._safariVersion>=13.1)return;const a=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(o){if(o&&o.sdp&&o.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=o.sdp.split(`
`).filter(d=>d.trim()!=="a=extmap-allow-mixed").join(`
`);s.RTCSessionDescription&&o instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:o.type,sdp:c}):o.sdp=c}return a.apply(this,arguments)}}function ao(s,n){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const a=s.RTCPeerConnection.prototype.addIceCandidate;!a||a.length===0||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(n.browser==="chrome"&&n.version<78||n.browser==="firefox"&&n.version<68||n.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ro(s,n){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const a=s.RTCPeerConnection.prototype.setLocalDescription;!a||a.length===0||(s.RTCPeerConnection.prototype.setLocalDescription=function(){let o=arguments[0]||{};if(typeof o!="object"||o.type&&o.sdp)return a.apply(this,arguments);if(o={type:o.type,sdp:o.sdp},!o.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":o.type="offer";break;default:o.type="answer";break}return o.sdp||o.type!=="offer"&&o.type!=="answer"?a.apply(this,[o]):(o.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(d=>a.apply(this,[d]))})}const GS=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:cd,shimAddIceCandidateNullOrEmpty:ao,shimConnectionState:od,shimMaxMessageSize:to,shimParameterlessSetLocalDescription:ro,shimRTCIceCandidate:eo,shimRTCIceCandidateRelayProtocol:ld,shimSendThrowTypeError:no},Symbol.toStringTag,{value:"Module"}));function XS({window:s}={},n={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const a=ey,r=qS(s),o={browserDetails:r,commonShim:GS,extractVersion:ii,disableLog:LS,disableWarnings:$S,sdp:YS};switch(r.browser){case"chrome":if(!_g||!sd||!n.shimChrome)return a("Chrome shim is not included in this adapter release."),o;if(r.version===null)return a("Chrome shim can not determine version, not shimming."),o;a("adapter.js shimming chrome."),o.browserShim=_g,ao(s,r),ro(s),ny(s,r),ay(s),sd(s,r),ry(s),oy(s,r),sy(s),iy(s),cy(s,r),eo(s),ld(s),od(s),to(s,r),no(s),cd(s,r);break;case"firefox":if(!vg||!id||!n.shimFirefox)return a("Firefox shim is not included in this adapter release."),o;a("adapter.js shimming firefox."),o.browserShim=vg,ao(s,r),ro(s),uy(s,r),id(s,r),fy(s),py(s),dy(s),hy(s),my(s),gy(s),yy(s),by(s),_y(s),eo(s),od(s),to(s,r),no(s);break;case"safari":if(!Sg||!n.shimSafari)return a("Safari shim is not included in this adapter release."),o;a("adapter.js shimming safari."),o.browserShim=Sg,ao(s,r),ro(s),Ry(s),Ay(s),Cy(s),vy(s),Sy(s),Ey(s),xy(s),wy(s),eo(s),ld(s),to(s,r),no(s),cd(s,r);break;default:a("Unsupported browser!");break}return o}const xg=XS({window:typeof window>"u"?void 0:window});function Za(s,n,a,r){Object.defineProperty(s,n,{get:a,set:r,enumerable:!0,configurable:!0})}class Oy{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=n=>{const a=[],r=n.byteLength,o=Math.ceil(r/this.chunkedMTU);let c=0,d=0;for(;d<r;){const h=Math.min(r,d+this.chunkedMTU),p=n.slice(d,h),m={__peerData:this._dataCount,n:c,data:p,total:o};a.push(m),d=h,c++}return this._dataCount++,a}}}function IS(s){let n=0;for(const o of s)n+=o.byteLength;const a=new Uint8Array(n);let r=0;for(const o of s)a.set(o,r),r+=o.byteLength;return a}const pf=xg.default||xg,ai=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const s=this.getBrowser(),n=this.getVersion();return this.supportedBrowsers.includes(s)?s==="chrome"?n>=this.minChromeVersion:s==="firefox"?n>=this.minFirefoxVersion:s==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1}getBrowser(){return pf.browserDetails.browser}getVersion(){return pf.browserDetails.version||0}isUnifiedPlanSupported(){const s=this.getBrowser(),n=pf.browserDetails.version||0;if(s==="chrome"&&n<this.minChromeVersion)return!1;if(s==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let a,r=!1;try{a=new RTCPeerConnection,a.addTransceiver("audio"),r=!0}catch{}finally{a&&a.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},VS=s=>!s||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(s),Dy=()=>Math.random().toString(36).slice(2),Tg={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class QS extends Oy{noop(){}blobToArrayBuffer(n,a){const r=new FileReader;return r.onload=function(o){o.target&&a(o.target.result)},r.readAsArrayBuffer(n),r}binaryStringToArrayBuffer(n){const a=new Uint8Array(n.length);for(let r=0;r<n.length;r++)a[r]=n.charCodeAt(r)&255;return a.buffer}isSecure(){return location.protocol==="https:"}constructor(...n){super(...n),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Tg,this.browser=ai.getBrowser(),this.browserVersion=ai.getVersion(),this.pack=J1,this.unpack=Z1,this.supports=function(){const a={browser:ai.isBrowserSupported(),webRTC:ai.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!a.webRTC)return a;let r;try{r=new RTCPeerConnection(Tg),a.audioVideo=!0;let o;try{o=r.createDataChannel("_PEERJSTEST",{ordered:!0}),a.data=!0,a.reliable=!!o.ordered;try{o.binaryType="blob",a.binaryBlob=!ai.isIOS}catch{}}catch{}finally{o&&o.close()}}catch{}finally{r&&r.close()}return a}(),this.validateId=VS,this.randomToken=Dy}}const Bt=new QS,KS="PeerJS: ";class ZS{get logLevel(){return this._logLevel}set logLevel(n){this._logLevel=n}log(...n){this._logLevel>=3&&this._print(3,...n)}warn(...n){this._logLevel>=2&&this._print(2,...n)}error(...n){this._logLevel>=1&&this._print(1,...n)}setLogFunction(n){this._print=n}_print(n,...a){const r=[KS,...a];for(const o in r)r[o]instanceof Error&&(r[o]="("+r[o].name+") "+r[o].message);n>=3?console.log(...r):n>=2?console.warn("WARNING",...r):n>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var oe=new ZS,Dd={},JS=Object.prototype.hasOwnProperty,Mt="~";function _i(){}Object.create&&(_i.prototype=Object.create(null),new _i().__proto__||(Mt=!1));function FS(s,n,a){this.fn=s,this.context=n,this.once=a||!1}function Ny(s,n,a,r,o){if(typeof a!="function")throw new TypeError("The listener must be a function");var c=new FS(a,r||s,o),d=Mt?Mt+n:n;return s._events[d]?s._events[d].fn?s._events[d]=[s._events[d],c]:s._events[d].push(c):(s._events[d]=c,s._eventsCount++),s}function so(s,n){--s._eventsCount===0?s._events=new _i:delete s._events[n]}function Tt(){this._events=new _i,this._eventsCount=0}Tt.prototype.eventNames=function(){var n=[],a,r;if(this._eventsCount===0)return n;for(r in a=this._events)JS.call(a,r)&&n.push(Mt?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(a)):n};Tt.prototype.listeners=function(n){var a=Mt?Mt+n:n,r=this._events[a];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,c=r.length,d=new Array(c);o<c;o++)d[o]=r[o].fn;return d};Tt.prototype.listenerCount=function(n){var a=Mt?Mt+n:n,r=this._events[a];return r?r.fn?1:r.length:0};Tt.prototype.emit=function(n,a,r,o,c,d){var h=Mt?Mt+n:n;if(!this._events[h])return!1;var p=this._events[h],m=arguments.length,y,b;if(p.fn){switch(p.once&&this.removeListener(n,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,a),!0;case 3:return p.fn.call(p.context,a,r),!0;case 4:return p.fn.call(p.context,a,r,o),!0;case 5:return p.fn.call(p.context,a,r,o,c),!0;case 6:return p.fn.call(p.context,a,r,o,c,d),!0}for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];p.fn.apply(p.context,y)}else{var S=p.length,_;for(b=0;b<S;b++)switch(p[b].once&&this.removeListener(n,p[b].fn,void 0,!0),m){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,a);break;case 3:p[b].fn.call(p[b].context,a,r);break;case 4:p[b].fn.call(p[b].context,a,r,o);break;default:if(!y)for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];p[b].fn.apply(p[b].context,y)}}return!0};Tt.prototype.on=function(n,a,r){return Ny(this,n,a,r,!1)};Tt.prototype.once=function(n,a,r){return Ny(this,n,a,r,!0)};Tt.prototype.removeListener=function(n,a,r,o){var c=Mt?Mt+n:n;if(!this._events[c])return this;if(!a)return so(this,c),this;var d=this._events[c];if(d.fn)d.fn===a&&(!o||d.once)&&(!r||d.context===r)&&so(this,c);else{for(var h=0,p=[],m=d.length;h<m;h++)(d[h].fn!==a||o&&!d[h].once||r&&d[h].context!==r)&&p.push(d[h]);p.length?this._events[c]=p.length===1?p[0]:p:so(this,c)}return this};Tt.prototype.removeAllListeners=function(n){var a;return n?(a=Mt?Mt+n:n,this._events[a]&&so(this,a)):(this._events=new _i,this._eventsCount=0),this};Tt.prototype.off=Tt.prototype.removeListener;Tt.prototype.addListener=Tt.prototype.on;Tt.prefixed=Mt;Tt.EventEmitter=Tt;Dd=Tt;var Ja={};Za(Ja,"ConnectionType",()=>va);Za(Ja,"PeerErrorType",()=>nt);Za(Ja,"BaseConnectionErrorType",()=>ud);Za(Ja,"DataConnectionErrorType",()=>Nd);Za(Ja,"SerializationType",()=>jo);Za(Ja,"SocketEventType",()=>_a);Za(Ja,"ServerMessageType",()=>Ct);var va=function(s){return s.Data="data",s.Media="media",s}({}),nt=function(s){return s.BrowserIncompatible="browser-incompatible",s.Disconnected="disconnected",s.InvalidID="invalid-id",s.InvalidKey="invalid-key",s.Network="network",s.PeerUnavailable="peer-unavailable",s.SslUnavailable="ssl-unavailable",s.ServerError="server-error",s.SocketError="socket-error",s.SocketClosed="socket-closed",s.UnavailableID="unavailable-id",s.WebRTC="webrtc",s}({}),ud=function(s){return s.NegotiationFailed="negotiation-failed",s.ConnectionClosed="connection-closed",s}({}),Nd=function(s){return s.NotOpenYet="not-open-yet",s.MessageToBig="message-too-big",s}({}),jo=function(s){return s.Binary="binary",s.BinaryUTF8="binary-utf8",s.JSON="json",s.None="raw",s}({}),_a=function(s){return s.Message="message",s.Disconnected="disconnected",s.Error="error",s.Close="close",s}({}),Ct=function(s){return s.Heartbeat="HEARTBEAT",s.Candidate="CANDIDATE",s.Offer="OFFER",s.Answer="ANSWER",s.Open="OPEN",s.Error="ERROR",s.IdTaken="ID-TAKEN",s.InvalidKey="INVALID-KEY",s.Leave="LEAVE",s.Expire="EXPIRE",s}({});const ky="1.5.5";class WS extends Dd.EventEmitter{constructor(n,a,r,o,c,d=5e3){super(),this.pingInterval=d,this._disconnected=!0,this._messagesQueue=[];const h=n?"wss://":"ws://";this._baseUrl=h+a+":"+r+o+"peerjs?key="+c}start(n,a){this._id=n;const r=`${this._baseUrl}&id=${n}&token=${a}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+ky),this._disconnected=!1,this._socket.onmessage=o=>{let c;try{c=JSON.parse(o.data),oe.log("Server message received:",c)}catch{oe.log("Invalid server message",o.data);return}this.emit(_a.Message,c)},this._socket.onclose=o=>{this._disconnected||(oe.log("Socket closed.",o),this._cleanup(),this._disconnected=!0,this.emit(_a.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),oe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){oe.log("Cannot send heartbeat, because socket closed");return}const n=JSON.stringify({type:Ct.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const n=[...this._messagesQueue];this._messagesQueue=[];for(const a of n)this.send(a)}send(n){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(_a.Error,"Invalid message");return}if(!this._wsOpen())return;const a=JSON.stringify(n);this._socket.send(a)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class jy{constructor(n){this.connection=n}startConnection(n){const a=this._startPeerConnection();if(this.connection.peerConnection=a,this.connection.type===va.Media&&n._stream&&this._addTracksToConnection(n._stream,a),n.originator){const r=this.connection,o={ordered:!!n.reliable},c=a.createDataChannel(r.label,o);r._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",n.sdp)}_startPeerConnection(){oe.log("Creating RTCPeerConnection.");const n=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(n),n}_setupListeners(n){const a=this.connection.peer,r=this.connection.connectionId,o=this.connection.type,c=this.connection.provider;oe.log("Listening for ICE candidates."),n.onicecandidate=d=>{!d.candidate||!d.candidate.candidate||(oe.log(`Received ICE candidates for ${a}:`,d.candidate),c.socket.send({type:Ct.Candidate,payload:{candidate:d.candidate,type:o,connectionId:r},dst:a}))},n.oniceconnectionstatechange=()=>{switch(n.iceConnectionState){case"failed":oe.log("iceConnectionState is failed, closing connections to "+a),this.connection.emitError(ud.NegotiationFailed,"Negotiation of connection to "+a+" failed."),this.connection.close();break;case"closed":oe.log("iceConnectionState is closed, closing connections to "+a),this.connection.emitError(ud.ConnectionClosed,"Connection to "+a+" closed."),this.connection.close();break;case"disconnected":oe.log("iceConnectionState changed to disconnected on the connection with "+a);break;case"completed":n.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",n.iceConnectionState)},oe.log("Listening for data channel"),n.ondatachannel=d=>{oe.log("Received data channel");const h=d.channel;c.getConnection(a,r)._initializeDataChannel(h)},oe.log("Listening for remote stream"),n.ontrack=d=>{oe.log("Received remote stream");const h=d.streams[0],p=c.getConnection(a,r);if(p.type===va.Media){const m=p;this._addStreamToMediaConnection(h,m)}}}cleanup(){oe.log("Cleaning up PeerConnection to "+this.connection.peer);const n=this.connection.peerConnection;if(!n)return;this.connection.peerConnection=null,n.onicecandidate=n.oniceconnectionstatechange=n.ondatachannel=n.ontrack=()=>{};const a=n.signalingState!=="closed";let r=!1;const o=this.connection.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed"),(a||r)&&n.close()}async _makeOffer(){const n=this.connection.peerConnection,a=this.connection.provider;try{const r=await n.createOffer(this.connection.options.constraints);oe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await n.setLocalDescription(r),oe.log("Set localDescription:",r,`for:${this.connection.peer}`);let o={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===va.Data){const c=this.connection;o={...o,label:c.label,reliable:c.reliable,serialization:c.serialization}}a.socket.send({type:Ct.Offer,payload:o,dst:this.connection.peer})}catch(o){o!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(a.emitError(nt.WebRTC,o),oe.log("Failed to setLocalDescription, ",o))}}catch(r){a.emitError(nt.WebRTC,r),oe.log("Failed to createOffer, ",r)}}async _makeAnswer(){const n=this.connection.peerConnection,a=this.connection.provider;try{const r=await n.createAnswer();oe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await n.setLocalDescription(r),oe.log("Set localDescription:",r,`for:${this.connection.peer}`),a.socket.send({type:Ct.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(o){a.emitError(nt.WebRTC,o),oe.log("Failed to setLocalDescription, ",o)}}catch(r){a.emitError(nt.WebRTC,r),oe.log("Failed to create answer, ",r)}}async handleSDP(n,a){a=new RTCSessionDescription(a);const r=this.connection.peerConnection,o=this.connection.provider;oe.log("Setting remote description",a);const c=this;try{await r.setRemoteDescription(a),oe.log(`Set remoteDescription:${n} for:${this.connection.peer}`),n==="OFFER"&&await c._makeAnswer()}catch(d){o.emitError(nt.WebRTC,d),oe.log("Failed to setRemoteDescription, ",d)}}async handleCandidate(n){oe.log("handleCandidate:",n);try{await this.connection.peerConnection.addIceCandidate(n),oe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(a){this.connection.provider.emitError(nt.WebRTC,a),oe.log("Failed to handleCandidate, ",a)}}_addTracksToConnection(n,a){if(oe.log(`add tracks from stream ${n.id} to peer connection`),!a.addTrack)return oe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");n.getTracks().forEach(r=>{a.addTrack(r,n)})}_addStreamToMediaConnection(n,a){oe.log(`add stream ${n.id} to media connection ${a.connectionId}`),a.addStream(n)}}class By extends Dd.EventEmitter{emitError(n,a){oe.error("Error:",a),this.emit("error",new e3(`${n}`,a))}}class e3 extends Error{constructor(n,a){typeof a=="string"?super(a):(super(),Object.assign(this,a)),this.type=n}}class Uy extends By{get open(){return this._open}constructor(n,a,r){super(),this.peer=n,this.provider=a,this.options=r,this._open=!1,this.metadata=r.metadata}}class So extends Uy{static#e=this.ID_PREFIX="mc_";get type(){return va.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(n,a,r){super(n,a,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||So.ID_PREFIX+Bt.randomToken(),this._negotiator=new jy(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(n){this.dataChannel=n,this.dataChannel.onopen=()=>{oe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{oe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(n){oe.log("Receiving stream",n),this._remoteStream=n,super.emit("stream",n)}handleMessage(n){const a=n.type,r=n.payload;switch(n.type){case Ct.Answer:this._negotiator.handleSDP(a,r.sdp),this._open=!0;break;case Ct.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:oe.warn(`Unrecognized message type:${a} from peer:${this.peer}`);break}}answer(n,a={}){if(this._localStream){oe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,a&&a.sdpTransform&&(this.options.sdpTransform=a.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:n});const r=this.provider._getMessages(this.connectionId);for(const o of r)this.handleMessage(o);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class t3{constructor(n){this._options=n}_buildRequest(n){const a=this._options.secure?"https":"http",{host:r,port:o,path:c,key:d}=this._options,h=new URL(`${a}://${r}:${o}${c}${d}/${n}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",ky),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const n=await this._buildRequest("id");if(n.status!==200)throw new Error(`Error. Status:${n.status}`);return n.text()}catch(n){oe.error("Error retrieving ID",n);let a="";throw this._options.path==="/"&&this._options.host!==Bt.CLOUD_HOST&&(a=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+a)}}async listAllPeers(){try{const n=await this._buildRequest("peers");if(n.status!==200){if(n.status===401){let a="";throw this._options.host===Bt.CLOUD_HOST?a="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":a="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+a)}throw new Error(`Error. Status:${n.status}`)}return n.json()}catch(n){throw oe.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n)}}}class Co extends Uy{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return va.Data}constructor(n,a,r){super(n,a,r),this.connectionId=this.options.connectionId||Co.ID_PREFIX+Dy(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new jy(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(n){this.dataChannel=n,this.dataChannel.onopen=()=>{oe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=a=>{oe.log(`DC#${this.connectionId} dc onmessage:`,a.data)},this.dataChannel.onclose=()=>{oe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(n){if(n?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(n,a=!1){if(!this.open){this.emitError(Nd.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(n,a)}async handleMessage(n){const a=n.payload;switch(n.type){case Ct.Answer:await this._negotiator.handleSDP(n.type,a.sdp);break;case Ct.Candidate:await this._negotiator.handleCandidate(a.candidate);break;default:oe.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}}}class kd extends Co{get bufferSize(){return this._bufferSize}_initializeDataChannel(n){super._initializeDataChannel(n),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",a=>this._handleDataMessage(a))}_bufferedSend(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)}_trySend(n){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Co.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(a){return oe.error(`DC#:${this.connectionId} Error when sending:`,a),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(n){if(n?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...n){super(...n),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class mf extends kd{close(n){super.close(n),this._chunkedData={}}constructor(n,a,r){super(n,a,r),this.chunker=new Oy,this.serialization=jo.Binary,this._chunkedData={}}_handleDataMessage({data:n}){const a=Z1(n),r=a.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(a);return}this.emit("data",a)}_handleChunk(n){const a=n.__peerData,r=this._chunkedData[a]||{data:[],count:0,total:n.total};if(r.data[n.n]=new Uint8Array(n.data),r.count++,this._chunkedData[a]=r,r.total===r.count){delete this._chunkedData[a];const o=IS(r.data);this._handleDataMessage({data:o})}}_send(n,a){const r=J1(n);if(r instanceof Promise)return this._send_blob(r);if(!a&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(n){const a=await n;if(a.byteLength>this.chunker.chunkedMTU){this._sendChunks(a);return}this._bufferedSend(a)}_sendChunks(n){const a=this.chunker.chunk(n);oe.log(`DC#${this.connectionId} Try to send ${a.length} chunks...`);for(const r of a)this.send(r,!0)}}class n3 extends kd{_handleDataMessage({data:n}){super.emit("data",n)}_send(n,a){this._bufferedSend(n)}constructor(...n){super(...n),this.serialization=jo.None}}class a3 extends kd{_handleDataMessage({data:n}){const a=this.parse(this.decoder.decode(n)),r=a.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",a)}_send(n,a){const r=this.encoder.encode(this.stringify(n));if(r.byteLength>=Bt.chunkedMTU){this.emitError(Nd.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...n){super(...n),this.serialization=jo.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class jd extends By{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const n=Object.create(null);for(const[a,r]of this._connections)n[a]=r;return n}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(n,a){super(),this._serializers={raw:n3,json:a3,binary:mf,"binary-utf8":mf,default:mf},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(n&&n.constructor==Object?a=n:n&&(r=n.toString()),a={debug:0,host:Bt.CLOUD_HOST,port:Bt.CLOUD_PORT,path:"/",key:jd.DEFAULT_KEY,token:Bt.randomToken(),config:Bt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...a},this._options=a,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Bt.CLOUD_HOST?this._options.secure=Bt.isSecure():this._options.host==Bt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&oe.setLogFunction(this._options.logFunction),oe.logLevel=this._options.debug||0,this._api=new t3(a),this._socket=this._createServerConnection(),!Bt.supports.audioVideo&&!Bt.supports.data){this._delayedAbort(nt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Bt.validateId(r)){this._delayedAbort(nt.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(o=>this._initialize(o)).catch(o=>this._abort(nt.ServerError,o))}_createServerConnection(){const n=new WS(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return n.on(_a.Message,a=>{this._handleMessage(a)}),n.on(_a.Error,a=>{this._abort(nt.SocketError,a)}),n.on(_a.Disconnected,()=>{this.disconnected||(this.emitError(nt.Network,"Lost connection to server."),this.disconnect())}),n.on(_a.Close,()=>{this.disconnected||this._abort(nt.SocketClosed,"Underlying socket is already closed.")}),n}_initialize(n){this._id=n,this.socket.start(n,this._options.token)}_handleMessage(n){const a=n.type,r=n.payload,o=n.src;switch(a){case Ct.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Ct.Error:this._abort(nt.ServerError,r.msg);break;case Ct.IdTaken:this._abort(nt.UnavailableID,`ID "${this.id}" is taken`);break;case Ct.InvalidKey:this._abort(nt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Ct.Leave:oe.log(`Received leave message from ${o}`),this._cleanupPeer(o),this._connections.delete(o);break;case Ct.Expire:this.emitError(nt.PeerUnavailable,`Could not connect to peer ${o}`);break;case Ct.Offer:{const c=r.connectionId;let d=this.getConnection(o,c);if(d&&(d.close(),oe.warn(`Offer received for existing Connection ID:${c}`)),r.type===va.Media){const p=new So(o,this,{connectionId:c,_payload:r,metadata:r.metadata});d=p,this._addConnection(o,d),this.emit("call",p)}else if(r.type===va.Data){const p=new this._serializers[r.serialization](o,this,{connectionId:c,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});d=p,this._addConnection(o,d),this.emit("connection",p)}else{oe.warn(`Received malformed connection type:${r.type}`);return}const h=this._getMessages(c);for(const p of h)d.handleMessage(p);break}default:{if(!r){oe.warn(`You received a malformed message from ${o} of type ${a}`);return}const c=r.connectionId,d=this.getConnection(o,c);d&&d.peerConnection?d.handleMessage(n):c?this._storeMessage(c,n):oe.warn("You received an unrecognized message:",n);break}}}_storeMessage(n,a){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(a)}_getMessages(n){const a=this._lostMessages.get(n);return a?(this._lostMessages.delete(n),a):[]}connect(n,a={}){if(a={serialization:"default",...a},this.disconnected){oe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(nt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[a.serialization](n,this,a);return this._addConnection(n,r),r}call(n,a,r={}){if(this.disconnected){oe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(nt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!a){oe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const o=new So(n,this,{...r,_stream:a});return this._addConnection(n,o),o}_addConnection(n,a){oe.log(`add connection ${a.type}:${a.connectionId} to peerId:${n}`),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(a)}_removeConnection(n){const a=this._connections.get(n.peer);if(a){const r=a.indexOf(n);r!==-1&&a.splice(r,1)}this._lostMessages.delete(n.connectionId)}getConnection(n,a){const r=this._connections.get(n);if(!r)return null;for(const o of r)if(o.connectionId===a)return o;return null}_delayedAbort(n,a){setTimeout(()=>{this._abort(n,a)},0)}_abort(n,a){oe.error("Aborting!"),this.emitError(n,a),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(oe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const n of this._connections.keys())this._cleanupPeer(n),this._connections.delete(n);this.socket.removeAllListeners()}_cleanupPeer(n){const a=this._connections.get(n);if(a)for(const r of a)r.close()}disconnect(){if(this.disconnected)return;const n=this.id;oe.log(`Disconnect peer with ID:${n}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}reconnect(){if(this.disconnected&&!this.destroyed)oe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)oe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(n=a=>{}){this._api.listAllPeers().then(a=>n(a)).catch(a=>this._abort(nt.ServerError,a))}}var Rg=jd;const zy=ie.createContext(void 0),r3=new URLSearchParams(window.location.search),Ly=r3.get("game"),Eg=localStorage.getItem(Ly+"-data");let io=Eg?JSON.parse(Eg):void 0;const lo=localStorage.getItem(Ly+"-peerId");let Ag=io?.peerData.findIndex(s=>s.id===lo),fd;Ag!=null&&io!=null&&(fd=io.peerData[(Ag+1)%io.peerData.length]?.id,console.log("Next peer id is ",fd));const s3=({children:s})=>{const[n]=ie.useState(lo?new Rg(lo):new Rg),[a,r]=ie.useState(new Map),[o,c]=ie.useState(lo??""),[d,h]=ie.useState(fd??""),p=ie.useRef(new Map);ie.useEffect(()=>{if(n!=null)return console.log(n),n.on("open",U=>{c(U),console.log(`Your Peer ID: ${U}`)}),n.on("connection",U=>{console.log(`Incoming connection from ${U.peer}`),_(U,!0)}),()=>{n.destroy()}},[]);const m=U=>{if(!n)return;const A=n.connect(U);return _(A),A||console.log("Failed to connect to peer: ",U),A},y=U=>{n&&U.forEach(A=>{A===o||a.has(A)||m(A)})},b=(U,A)=>{n?.on(U,A)},S=(U,A)=>{p.current.set(U,A)},_=(U,A=!1)=>{const R=()=>{r($=>new Map($.set(U.peer,U)))},B=$=>{const D=p.current;D.has($.type)&&D.get($.type)?.(A,U,$)},I=()=>{r($=>{const D=new Map($);return D.delete(U.peer),D})};U.on("open",R),U.on("data",B),U.on("close",I)},C=(U,A)=>{a.forEach(R=>R.send({type:U,data:A}))},M=(U,A)=>{if(console.log("Sending message to next player, next player hash is ",d),d!=""){const R=a.get(d);R&&R.send({type:U,data:A})}};return k.jsx(zy.Provider,{value:{peerId:o,connectToPeer:m,connectToAllPeers:y,broadcastMessage:C,sendMessageToNextPlayer:M,registerCallback:b,registerDataCallback:S,setNextPeerId:h},children:s})},Ci=()=>{const s=ie.useContext(zy);if(!s)throw new Error("useNetworking must be used within NetworkingProvider");return s},i3="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let l3=(s=21)=>{let n="",a=crypto.getRandomValues(new Uint8Array(s|=0));for(;s--;)n+=i3[a[s]&63];return n};var $r={},gf,wg;function o3(){return wg||(wg=1,gf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),gf}var yf={},ga={},Mg;function Fa(){if(Mg)return ga;Mg=1;let s;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ga.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ga.getSymbolTotalCodewords=function(r){return n[r]},ga.getBCHDigit=function(a){let r=0;for(;a!==0;)r++,a>>>=1;return r},ga.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');s=r},ga.isKanjiModeEnabled=function(){return typeof s<"u"},ga.toSJIS=function(r){return s(r)},ga}var bf={},Og;function Bd(){return Og||(Og=1,function(s){s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+a)}}s.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},s.from=function(r,o){if(s.isValid(r))return r;try{return n(r)}catch{return o}}}(bf)),bf}var _f,Dg;function c3(){if(Dg)return _f;Dg=1;function s(){this.buffer=[],this.length=0}return s.prototype={get:function(n){const a=Math.floor(n/8);return(this.buffer[a]>>>7-n%8&1)===1},put:function(n,a){for(let r=0;r<a;r++)this.putBit((n>>>a-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),n&&(this.buffer[a]|=128>>>this.length%8),this.length++}},_f=s,_f}var vf,Ng;function u3(){if(Ng)return vf;Ng=1;function s(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return s.prototype.set=function(n,a,r,o){const c=n*this.size+a;this.data[c]=r,o&&(this.reservedBit[c]=!0)},s.prototype.get=function(n,a){return this.data[n*this.size+a]},s.prototype.xor=function(n,a,r){this.data[n*this.size+a]^=r},s.prototype.isReserved=function(n,a){return this.reservedBit[n*this.size+a]},vf=s,vf}var Sf={},kg;function f3(){return kg||(kg=1,function(s){const n=Fa().getSymbolSize;s.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,c=n(r),d=c===145?26:Math.ceil((c-13)/(2*o-2))*2,h=[c-7];for(let p=1;p<o-1;p++)h[p]=h[p-1]-d;return h.push(6),h.reverse()},s.getPositions=function(r){const o=[],c=s.getRowColCoords(r),d=c.length;for(let h=0;h<d;h++)for(let p=0;p<d;p++)h===0&&p===0||h===0&&p===d-1||h===d-1&&p===0||o.push([c[h],c[p]]);return o}}(Sf)),Sf}var Cf={},jg;function d3(){if(jg)return Cf;jg=1;const s=Fa().getSymbolSize,n=7;return Cf.getPositions=function(r){const o=s(r);return[[0,0],[o-n,0],[0,o-n]]},Cf}var xf={},Bg;function h3(){return Bg||(Bg=1,function(s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};s.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},s.from=function(o){return s.isValid(o)?parseInt(o,10):void 0},s.getPenaltyN1=function(o){const c=o.size;let d=0,h=0,p=0,m=null,y=null;for(let b=0;b<c;b++){h=p=0,m=y=null;for(let S=0;S<c;S++){let _=o.get(b,S);_===m?h++:(h>=5&&(d+=n.N1+(h-5)),m=_,h=1),_=o.get(S,b),_===y?p++:(p>=5&&(d+=n.N1+(p-5)),y=_,p=1)}h>=5&&(d+=n.N1+(h-5)),p>=5&&(d+=n.N1+(p-5))}return d},s.getPenaltyN2=function(o){const c=o.size;let d=0;for(let h=0;h<c-1;h++)for(let p=0;p<c-1;p++){const m=o.get(h,p)+o.get(h,p+1)+o.get(h+1,p)+o.get(h+1,p+1);(m===4||m===0)&&d++}return d*n.N2},s.getPenaltyN3=function(o){const c=o.size;let d=0,h=0,p=0;for(let m=0;m<c;m++){h=p=0;for(let y=0;y<c;y++)h=h<<1&2047|o.get(m,y),y>=10&&(h===1488||h===93)&&d++,p=p<<1&2047|o.get(y,m),y>=10&&(p===1488||p===93)&&d++}return d*n.N3},s.getPenaltyN4=function(o){let c=0;const d=o.data.length;for(let p=0;p<d;p++)c+=o.data[p];return Math.abs(Math.ceil(c*100/d/5)-10)*n.N4};function a(r,o,c){switch(r){case s.Patterns.PATTERN000:return(o+c)%2===0;case s.Patterns.PATTERN001:return o%2===0;case s.Patterns.PATTERN010:return c%3===0;case s.Patterns.PATTERN011:return(o+c)%3===0;case s.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(c/3))%2===0;case s.Patterns.PATTERN101:return o*c%2+o*c%3===0;case s.Patterns.PATTERN110:return(o*c%2+o*c%3)%2===0;case s.Patterns.PATTERN111:return(o*c%3+(o+c)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}s.applyMask=function(o,c){const d=c.size;for(let h=0;h<d;h++)for(let p=0;p<d;p++)c.isReserved(p,h)||c.xor(p,h,a(o,p,h))},s.getBestMask=function(o,c){const d=Object.keys(s.Patterns).length;let h=0,p=1/0;for(let m=0;m<d;m++){c(m),s.applyMask(m,o);const y=s.getPenaltyN1(o)+s.getPenaltyN2(o)+s.getPenaltyN3(o)+s.getPenaltyN4(o);s.applyMask(m,o),y<p&&(p=y,h=m)}return h}}(xf)),xf}var Pl={},Ug;function $y(){if(Ug)return Pl;Ug=1;const s=Bd(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Pl.getBlocksCount=function(o,c){switch(c){case s.L:return n[(o-1)*4+0];case s.M:return n[(o-1)*4+1];case s.Q:return n[(o-1)*4+2];case s.H:return n[(o-1)*4+3];default:return}},Pl.getTotalCodewordsCount=function(o,c){switch(c){case s.L:return a[(o-1)*4+0];case s.M:return a[(o-1)*4+1];case s.Q:return a[(o-1)*4+2];case s.H:return a[(o-1)*4+3];default:return}},Pl}var Tf={},ri={},zg;function p3(){if(zg)return ri;zg=1;const s=new Uint8Array(512),n=new Uint8Array(256);return function(){let r=1;for(let o=0;o<255;o++)s[o]=r,n[r]=o,r<<=1,r&256&&(r^=285);for(let o=255;o<512;o++)s[o]=s[o-255]}(),ri.log=function(r){if(r<1)throw new Error("log("+r+")");return n[r]},ri.exp=function(r){return s[r]},ri.mul=function(r,o){return r===0||o===0?0:s[n[r]+n[o]]},ri}var Lg;function m3(){return Lg||(Lg=1,function(s){const n=p3();s.mul=function(r,o){const c=new Uint8Array(r.length+o.length-1);for(let d=0;d<r.length;d++)for(let h=0;h<o.length;h++)c[d+h]^=n.mul(r[d],o[h]);return c},s.mod=function(r,o){let c=new Uint8Array(r);for(;c.length-o.length>=0;){const d=c[0];for(let p=0;p<o.length;p++)c[p]^=n.mul(o[p],d);let h=0;for(;h<c.length&&c[h]===0;)h++;c=c.slice(h)}return c},s.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let c=0;c<r;c++)o=s.mul(o,new Uint8Array([1,n.exp(c)]));return o}}(Tf)),Tf}var Rf,$g;function g3(){if($g)return Rf;$g=1;const s=m3();function n(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(r){this.degree=r,this.genPoly=s.generateECPolynomial(this.degree)},n.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(r.length+this.degree);o.set(r);const c=s.mod(o,this.genPoly),d=this.degree-c.length;if(d>0){const h=new Uint8Array(this.degree);return h.set(c,d),h}return c},Rf=n,Rf}var Ef={},Af={},wf={},qg;function qy(){return qg||(qg=1,wf.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),wf}var vn={},Hg;function Hy(){if(Hg)return vn;Hg=1;const s="[0-9]+",n="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;vn.KANJI=new RegExp(a,"g"),vn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),vn.BYTE=new RegExp(r,"g"),vn.NUMERIC=new RegExp(s,"g"),vn.ALPHANUMERIC=new RegExp(n,"g");const o=new RegExp("^"+a+"$"),c=new RegExp("^"+s+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return vn.testKanji=function(p){return o.test(p)},vn.testNumeric=function(p){return c.test(p)},vn.testAlphanumeric=function(p){return d.test(p)},vn}var Pg;function Wa(){return Pg||(Pg=1,function(s){const n=qy(),a=Hy();s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(c,d){if(!c.ccBits)throw new Error("Invalid mode: "+c);if(!n.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?c.ccBits[0]:d<27?c.ccBits[1]:c.ccBits[2]},s.getBestModeForData=function(c){return a.testNumeric(c)?s.NUMERIC:a.testAlphanumeric(c)?s.ALPHANUMERIC:a.testKanji(c)?s.KANJI:s.BYTE},s.toString=function(c){if(c&&c.id)return c.id;throw new Error("Invalid mode")},s.isValid=function(c){return c&&c.bit&&c.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+o)}}s.from=function(c,d){if(s.isValid(c))return c;try{return r(c)}catch{return d}}}(Af)),Af}var Yg;function y3(){return Yg||(Yg=1,function(s){const n=Fa(),a=$y(),r=Bd(),o=Wa(),c=qy(),d=7973,h=n.getBCHDigit(d);function p(S,_,C){for(let M=1;M<=40;M++)if(_<=s.getCapacity(M,C,S))return M}function m(S,_){return o.getCharCountIndicator(S,_)+4}function y(S,_){let C=0;return S.forEach(function(M){const U=m(M.mode,_);C+=U+M.getBitsLength()}),C}function b(S,_){for(let C=1;C<=40;C++)if(y(S,C)<=s.getCapacity(C,_,o.MIXED))return C}s.from=function(_,C){return c.isValid(_)?parseInt(_,10):C},s.getCapacity=function(_,C,M){if(!c.isValid(_))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=o.BYTE);const U=n.getSymbolTotalCodewords(_),A=a.getTotalCodewordsCount(_,C),R=(U-A)*8;if(M===o.MIXED)return R;const B=R-m(M,_);switch(M){case o.NUMERIC:return Math.floor(B/10*3);case o.ALPHANUMERIC:return Math.floor(B/11*2);case o.KANJI:return Math.floor(B/13);case o.BYTE:default:return Math.floor(B/8)}},s.getBestVersionForData=function(_,C){let M;const U=r.from(C,r.M);if(Array.isArray(_)){if(_.length>1)return b(_,U);if(_.length===0)return 1;M=_[0]}else M=_;return p(M.mode,M.getLength(),U)},s.getEncodedBits=function(_){if(!c.isValid(_)||_<7)throw new Error("Invalid QR Code version");let C=_<<12;for(;n.getBCHDigit(C)-h>=0;)C^=d<<n.getBCHDigit(C)-h;return _<<12|C}}(Ef)),Ef}var Mf={},Gg;function b3(){if(Gg)return Mf;Gg=1;const s=Fa(),n=1335,a=21522,r=s.getBCHDigit(n);return Mf.getEncodedBits=function(c,d){const h=c.bit<<3|d;let p=h<<10;for(;s.getBCHDigit(p)-r>=0;)p^=n<<s.getBCHDigit(p)-r;return(h<<10|p)^a},Mf}var Of={},Df,Xg;function _3(){if(Xg)return Df;Xg=1;const s=Wa();function n(a){this.mode=s.NUMERIC,this.data=a.toString()}return n.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let o,c,d;for(o=0;o+3<=this.data.length;o+=3)c=this.data.substr(o,3),d=parseInt(c,10),r.put(d,10);const h=this.data.length-o;h>0&&(c=this.data.substr(o),d=parseInt(c,10),r.put(d,h*3+1))},Df=n,Df}var Nf,Ig;function v3(){if(Ig)return Nf;Ig=1;const s=Wa(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(r){this.mode=s.ALPHANUMERIC,this.data=r}return a.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(o){let c;for(c=0;c+2<=this.data.length;c+=2){let d=n.indexOf(this.data[c])*45;d+=n.indexOf(this.data[c+1]),o.put(d,11)}this.data.length%2&&o.put(n.indexOf(this.data[c]),6)},Nf=a,Nf}var kf,Vg;function S3(){if(Vg)return kf;Vg=1;const s=Wa();function n(a){this.mode=s.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return n.getBitsLength=function(r){return r*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){for(let r=0,o=this.data.length;r<o;r++)a.put(this.data[r],8)},kf=n,kf}var jf,Qg;function C3(){if(Qg)return jf;Qg=1;const s=Wa(),n=Fa();function a(r){this.mode=s.KANJI,this.data=r}return a.getBitsLength=function(o){return o*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(r){let o;for(o=0;o<this.data.length;o++){let c=n.toSJIS(this.data[o]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),r.put(c,13)}},jf=a,jf}var Bf={exports:{}},Kg;function x3(){return Kg||(Kg=1,function(s){var n={single_source_shortest_paths:function(a,r,o){var c={},d={};d[r]=0;var h=n.PriorityQueue.make();h.push(r,0);for(var p,m,y,b,S,_,C,M,U;!h.empty();){p=h.pop(),m=p.value,b=p.cost,S=a[m]||{};for(y in S)S.hasOwnProperty(y)&&(_=S[y],C=b+_,M=d[y],U=typeof d[y]>"u",(U||M>C)&&(d[y]=C,h.push(y,C),c[y]=m))}if(typeof o<"u"&&typeof d[o]>"u"){var A=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(A)}return c},extract_shortest_path_from_predecessor_list:function(a,r){for(var o=[],c=r;c;)o.push(c),a[c],c=a[c];return o.reverse(),o},find_path:function(a,r,o){var c=n.single_source_shortest_paths(a,r,o);return n.extract_shortest_path_from_predecessor_list(c,o)},PriorityQueue:{make:function(a){var r=n.PriorityQueue,o={},c;a=a||{};for(c in r)r.hasOwnProperty(c)&&(o[c]=r[c]);return o.queue=[],o.sorter=a.sorter||r.default_sorter,o},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var o={value:a,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};s.exports=n}(Bf)),Bf.exports}var Zg;function T3(){return Zg||(Zg=1,function(s){const n=Wa(),a=_3(),r=v3(),o=S3(),c=C3(),d=Hy(),h=Fa(),p=x3();function m(A){return unescape(encodeURIComponent(A)).length}function y(A,R,B){const I=[];let $;for(;($=A.exec(B))!==null;)I.push({data:$[0],index:$.index,mode:R,length:$[0].length});return I}function b(A){const R=y(d.NUMERIC,n.NUMERIC,A),B=y(d.ALPHANUMERIC,n.ALPHANUMERIC,A);let I,$;return h.isKanjiModeEnabled()?(I=y(d.BYTE,n.BYTE,A),$=y(d.KANJI,n.KANJI,A)):(I=y(d.BYTE_KANJI,n.BYTE,A),$=[]),R.concat(B,I,$).sort(function(T,N){return T.index-N.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function S(A,R){switch(R){case n.NUMERIC:return a.getBitsLength(A);case n.ALPHANUMERIC:return r.getBitsLength(A);case n.KANJI:return c.getBitsLength(A);case n.BYTE:return o.getBitsLength(A)}}function _(A){return A.reduce(function(R,B){const I=R.length-1>=0?R[R.length-1]:null;return I&&I.mode===B.mode?(R[R.length-1].data+=B.data,R):(R.push(B),R)},[])}function C(A){const R=[];for(let B=0;B<A.length;B++){const I=A[B];switch(I.mode){case n.NUMERIC:R.push([I,{data:I.data,mode:n.ALPHANUMERIC,length:I.length},{data:I.data,mode:n.BYTE,length:I.length}]);break;case n.ALPHANUMERIC:R.push([I,{data:I.data,mode:n.BYTE,length:I.length}]);break;case n.KANJI:R.push([I,{data:I.data,mode:n.BYTE,length:m(I.data)}]);break;case n.BYTE:R.push([{data:I.data,mode:n.BYTE,length:m(I.data)}])}}return R}function M(A,R){const B={},I={start:{}};let $=["start"];for(let D=0;D<A.length;D++){const T=A[D],N=[];for(let q=0;q<T.length;q++){const L=T[q],P=""+D+q;N.push(P),B[P]={node:L,lastCount:0},I[P]={};for(let X=0;X<$.length;X++){const F=$[X];B[F]&&B[F].node.mode===L.mode?(I[F][P]=S(B[F].lastCount+L.length,L.mode)-S(B[F].lastCount,L.mode),B[F].lastCount+=L.length):(B[F]&&(B[F].lastCount=L.length),I[F][P]=S(L.length,L.mode)+4+n.getCharCountIndicator(L.mode,R))}}$=N}for(let D=0;D<$.length;D++)I[$[D]].end=0;return{map:I,table:B}}function U(A,R){let B;const I=n.getBestModeForData(A);if(B=n.from(R,I),B!==n.BYTE&&B.bit<I.bit)throw new Error('"'+A+'" cannot be encoded with mode '+n.toString(B)+`.
 Suggested mode is: `+n.toString(I));switch(B===n.KANJI&&!h.isKanjiModeEnabled()&&(B=n.BYTE),B){case n.NUMERIC:return new a(A);case n.ALPHANUMERIC:return new r(A);case n.KANJI:return new c(A);case n.BYTE:return new o(A)}}s.fromArray=function(R){return R.reduce(function(B,I){return typeof I=="string"?B.push(U(I,null)):I.data&&B.push(U(I.data,I.mode)),B},[])},s.fromString=function(R,B){const I=b(R,h.isKanjiModeEnabled()),$=C(I),D=M($,B),T=p.find_path(D.map,"start","end"),N=[];for(let q=1;q<T.length-1;q++)N.push(D.table[T[q]].node);return s.fromArray(_(N))},s.rawSplit=function(R){return s.fromArray(b(R,h.isKanjiModeEnabled()))}}(Of)),Of}var Jg;function R3(){if(Jg)return yf;Jg=1;const s=Fa(),n=Bd(),a=c3(),r=u3(),o=f3(),c=d3(),d=h3(),h=$y(),p=g3(),m=y3(),y=b3(),b=Wa(),S=T3();function _(D,T){const N=D.size,q=c.getPositions(T);for(let L=0;L<q.length;L++){const P=q[L][0],X=q[L][1];for(let F=-1;F<=7;F++)if(!(P+F<=-1||N<=P+F))for(let re=-1;re<=7;re++)X+re<=-1||N<=X+re||(F>=0&&F<=6&&(re===0||re===6)||re>=0&&re<=6&&(F===0||F===6)||F>=2&&F<=4&&re>=2&&re<=4?D.set(P+F,X+re,!0,!0):D.set(P+F,X+re,!1,!0))}}function C(D){const T=D.size;for(let N=8;N<T-8;N++){const q=N%2===0;D.set(N,6,q,!0),D.set(6,N,q,!0)}}function M(D,T){const N=o.getPositions(T);for(let q=0;q<N.length;q++){const L=N[q][0],P=N[q][1];for(let X=-2;X<=2;X++)for(let F=-2;F<=2;F++)X===-2||X===2||F===-2||F===2||X===0&&F===0?D.set(L+X,P+F,!0,!0):D.set(L+X,P+F,!1,!0)}}function U(D,T){const N=D.size,q=m.getEncodedBits(T);let L,P,X;for(let F=0;F<18;F++)L=Math.floor(F/3),P=F%3+N-8-3,X=(q>>F&1)===1,D.set(L,P,X,!0),D.set(P,L,X,!0)}function A(D,T,N){const q=D.size,L=y.getEncodedBits(T,N);let P,X;for(P=0;P<15;P++)X=(L>>P&1)===1,P<6?D.set(P,8,X,!0):P<8?D.set(P+1,8,X,!0):D.set(q-15+P,8,X,!0),P<8?D.set(8,q-P-1,X,!0):P<9?D.set(8,15-P-1+1,X,!0):D.set(8,15-P-1,X,!0);D.set(q-8,8,1,!0)}function R(D,T){const N=D.size;let q=-1,L=N-1,P=7,X=0;for(let F=N-1;F>0;F-=2)for(F===6&&F--;;){for(let re=0;re<2;re++)if(!D.isReserved(L,F-re)){let Ce=!1;X<T.length&&(Ce=(T[X]>>>P&1)===1),D.set(L,F-re,Ce),P--,P===-1&&(X++,P=7)}if(L+=q,L<0||N<=L){L-=q,q=-q;break}}}function B(D,T,N){const q=new a;N.forEach(function(re){q.put(re.mode.bit,4),q.put(re.getLength(),b.getCharCountIndicator(re.mode,D)),re.write(q)});const L=s.getSymbolTotalCodewords(D),P=h.getTotalCodewordsCount(D,T),X=(L-P)*8;for(q.getLengthInBits()+4<=X&&q.put(0,4);q.getLengthInBits()%8!==0;)q.putBit(0);const F=(X-q.getLengthInBits())/8;for(let re=0;re<F;re++)q.put(re%2?17:236,8);return I(q,D,T)}function I(D,T,N){const q=s.getSymbolTotalCodewords(T),L=h.getTotalCodewordsCount(T,N),P=q-L,X=h.getBlocksCount(T,N),F=q%X,re=X-F,Ce=Math.floor(q/X),V=Math.floor(P/X),te=V+1,ce=Ce-V,ke=new p(ce);let E=0;const Z=new Array(X),se=new Array(X);let ne=0;const de=new Uint8Array(D.buffer);for(let Rt=0;Rt<X;Rt++){const Ta=Rt<re?V:te;Z[Rt]=de.slice(E,E+Ta),se[Rt]=ke.encode(Z[Rt]),E+=Ta,ne=Math.max(ne,Ta)}const De=new Uint8Array(q);let be=0,Ie,je;for(Ie=0;Ie<ne;Ie++)for(je=0;je<X;je++)Ie<Z[je].length&&(De[be++]=Z[je][Ie]);for(Ie=0;Ie<ce;Ie++)for(je=0;je<X;je++)De[be++]=se[je][Ie];return De}function $(D,T,N,q){let L;if(Array.isArray(D))L=S.fromArray(D);else if(typeof D=="string"){let Ce=T;if(!Ce){const V=S.rawSplit(D);Ce=m.getBestVersionForData(V,N)}L=S.fromString(D,Ce||40)}else throw new Error("Invalid data");const P=m.getBestVersionForData(L,N);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!T)T=P;else if(T<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const X=B(T,N,L),F=s.getSymbolSize(T),re=new r(F);return _(re,T),C(re),M(re,T),A(re,N,0),T>=7&&U(re,T),R(re,X),isNaN(q)&&(q=d.getBestMask(re,A.bind(null,re,N))),d.applyMask(q,re),A(re,N,q),{modules:re,version:T,errorCorrectionLevel:N,maskPattern:q,segments:L}}return yf.create=function(T,N){if(typeof T>"u"||T==="")throw new Error("No input text");let q=n.M,L,P;return typeof N<"u"&&(q=n.from(N.errorCorrectionLevel,n.M),L=m.from(N.version),P=d.from(N.maskPattern),N.toSJISFunc&&s.setToSJISFunction(N.toSJISFunc)),$(T,L,q,P)},yf}var Uf={},zf={},Fg;function Py(){return Fg||(Fg=1,function(s){function n(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(c){return[c,c]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}s.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,c=r.width&&r.width>=21?r.width:void 0,d=r.scale||4;return{width:c,scale:c?4:d,margin:o,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},s.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},s.getImageWidth=function(r,o){const c=s.getScale(r,o);return Math.floor((r+o.margin*2)*c)},s.qrToImageData=function(r,o,c){const d=o.modules.size,h=o.modules.data,p=s.getScale(d,c),m=Math.floor((d+c.margin*2)*p),y=c.margin*p,b=[c.color.light,c.color.dark];for(let S=0;S<m;S++)for(let _=0;_<m;_++){let C=(S*m+_)*4,M=c.color.light;if(S>=y&&_>=y&&S<m-y&&_<m-y){const U=Math.floor((S-y)/p),A=Math.floor((_-y)/p);M=b[h[U*d+A]?1:0]}r[C++]=M.r,r[C++]=M.g,r[C++]=M.b,r[C]=M.a}}}(zf)),zf}var Wg;function E3(){return Wg||(Wg=1,function(s){const n=Py();function a(o,c,d){o.clearRect(0,0,c.width,c.height),c.style||(c.style={}),c.height=d,c.width=d,c.style.height=d+"px",c.style.width=d+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}s.render=function(c,d,h){let p=h,m=d;typeof p>"u"&&(!d||!d.getContext)&&(p=d,d=void 0),d||(m=r()),p=n.getOptions(p);const y=n.getImageWidth(c.modules.size,p),b=m.getContext("2d"),S=b.createImageData(y,y);return n.qrToImageData(S.data,c,p),a(b,m,y),b.putImageData(S,0,0),m},s.renderToDataURL=function(c,d,h){let p=h;typeof p>"u"&&(!d||!d.getContext)&&(p=d,d=void 0),p||(p={});const m=s.render(c,d,p),y=p.type||"image/png",b=p.rendererOpts||{};return m.toDataURL(y,b.quality)}}(Uf)),Uf}var Lf={},e1;function A3(){if(e1)return Lf;e1=1;const s=Py();function n(o,c){const d=o.a/255,h=c+'="'+o.hex+'"';return d<1?h+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':h}function a(o,c,d){let h=o+c;return typeof d<"u"&&(h+=" "+d),h}function r(o,c,d){let h="",p=0,m=!1,y=0;for(let b=0;b<o.length;b++){const S=Math.floor(b%c),_=Math.floor(b/c);!S&&!m&&(m=!0),o[b]?(y++,b>0&&S>0&&o[b-1]||(h+=m?a("M",S+d,.5+_+d):a("m",p,0),p=0,m=!1),S+1<c&&o[b+1]||(h+=a("h",y),y=0)):p++}return h}return Lf.render=function(c,d,h){const p=s.getOptions(d),m=c.modules.size,y=c.modules.data,b=m+p.margin*2,S=p.color.light.a?"<path "+n(p.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",_="<path "+n(p.color.dark,"stroke")+' d="'+r(y,m,p.margin)+'"/>',C='viewBox="0 0 '+b+" "+b+'"',U='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+C+' shape-rendering="crispEdges">'+S+_+`</svg>
`;return typeof h=="function"&&h(null,U),U},Lf}var t1;function w3(){if(t1)return $r;t1=1;const s=o3(),n=R3(),a=E3(),r=A3();function o(c,d,h,p,m){const y=[].slice.call(arguments,1),b=y.length,S=typeof y[b-1]=="function";if(!S&&!s())throw new Error("Callback required as last argument");if(S){if(b<2)throw new Error("Too few arguments provided");b===2?(m=h,h=d,d=p=void 0):b===3&&(d.getContext&&typeof m>"u"?(m=p,p=void 0):(m=p,p=h,h=d,d=void 0))}else{if(b<1)throw new Error("Too few arguments provided");return b===1?(h=d,d=p=void 0):b===2&&!d.getContext&&(p=h,h=d,d=void 0),new Promise(function(_,C){try{const M=n.create(h,p);_(c(M,d,p))}catch(M){C(M)}})}try{const _=n.create(h,p);m(null,c(_,d,p))}catch(_){m(_)}}return $r.create=n.create,$r.toCanvas=o.bind(null,a.render),$r.toDataURL=o.bind(null,a.renderToDataURL),$r.toString=o.bind(null,function(c,d,h){return r.render(c,h)}),$r}var M3=w3();const O3=K1(M3),Bo=ie.createContext({gameState:{},setGameState:()=>{}}),Uo=ie.createContext({tabela:[],setTabela:()=>{},updateTabela:()=>{}}),Ud=ie.createContext({peerData:[],setPeerData:()=>{}}),D3=()=>k.jsxs("div",{className:"flex h-[calc(6*100%/118)] flex-row",children:[k.jsx("div",{className:"border-1 flex h-full w-[calc(12*100%/106)] items-center justify-center border-main-500 bg-white text-center text-[1.55rem]",children:"IGRA"}),Array.from({length:10}).map((s,n)=>k.jsx("div",{className:`bg-white border-main-500 border-1 h-full w-[calc(8*100%/106)] flex items-center justify-center text-main-900 ${n==ve.Obavezna||n==ve.Maksimalna?"brightness-75":""}`,children:_o[n%_o.length]},n)),k.jsx("div",{className:"border-1 flex h-full w-[calc(14*100%/106)] items-center justify-center border-main-500 bg-white text-center text-[1.6rem]",children:"YAMB"})]}),N3=({rowIndex:s,tabela:n})=>k.jsxs("div",{className:"flex h-[calc(7*100%/118)] flex-row",children:[k.jsx("div",{className:`bg-white border-main-500 border-1 h-full w-[calc(12*100%/106)] text-center align-middle flex items-center justify-center
				
			${s===W.Suma1||s===W.Suma2||s===W.Suma3?"border-t-2 border-b-2":""}`,children:vo[s%vo.length]}),Array.from({length:10}).map((a,r)=>k.jsx("div",{className:` border-main-500 border-1 h-full w-[calc(8*100%/106)] flex items-center justify-center text-[1.35rem] ${s===W.Suma1||s===W.Suma2||s===W.Suma3?"bg-main-300 border-t-2 border-b-2":"bg-white"} 
						} ${n[s][r]?.value==0?"!bg-gray-800 !border-0 text-transparent":""} ${r==ve.Obavezna||r==ve.Maksimalna?"brightness-75":""}`,children:n[s][r]?.value!=null?n[s][r]?.value:""},s*12+r)),k.jsx("div",{className:`border-main-500 border-1 h-full w-[calc(14*100%/106)] text-[1.6rem] text-center ${s===6||s===9||s===15?"bg-main-300 border-t-2 border-b-2":"bg-white"}`,children:n[s][ve.Yamb]?.value!=null?n[s][ve.Yamb]?.value:""})]}),k3=({tabela:s})=>{const[n,a]=ie.useState(1);return ie.useEffect(()=>{const r=()=>{const o=window.innerWidth;a(o>=600?1:.9*o/600)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),k.jsx(k.Fragment,{children:k.jsxs("div",{className:"flex aspect-[106/118] min-h-0 w-[600px] flex-col justify-self-center overflow-clip rounded-md border-4 border-solid border-main-500",style:{transform:`scale(${n*.9})`,transformOrigin:"top"},children:[k.jsx(D3,{}),Array.from({length:16}).map((r,o)=>k.jsx(N3,{rowIndex:o,tabela:s},o))]})})};function j3(s){const n=h=>h.toString().padStart(2,"0"),a=n(s.getDate()),r=n(s.getMonth()+1),o=s.getFullYear(),c=n(s.getHours()),d=n(s.getMinutes());return`${a}/${r}/${o} ${c}:${d}`}const B3=new URLSearchParams(window.location.search),Yy=B3.get("game"),n1=localStorage.getItem(Yy+"-data");let Gy=n1?JSON.parse(n1):void 0;const U3=localStorage.getItem(Yy+"-peerId");let z3=Gy?.peerData.findIndex(s=>s.id===U3),L3=Gy?.peerData[z3].name;const $3=({setHasStarted:s,setGameId:n,hostId:a,setHostId:r})=>{const{peerId:o,connectToPeer:c,broadcastMessage:d,registerDataCallback:h,setNextPeerId:p}=Ci(),{peerData:m,setPeerData:y}=ie.useContext(Ud),[b,S]=ie.useState(!1),[_,C]=ie.useState(!1),[M,U]=ie.useState(!1),{tabela:A,setTabela:R,updateTabela:B}=ie.useContext(Uo),[I,$]=ie.useState(L3??"");ie.useEffect(()=>{y(P=>P.map(X=>X.id===o?{...X,name:I}:X))},[I]);const D=()=>{C(!0),r(o),console.log("Started as host. Share your ID with others.")},T=()=>{const P=c(a);if(!P){console.log("Failed to connect to host peer with id: ",a);return}P.on("open",()=>{S(!0),P.send({type:"name",name:I})}),S(!0)},N=()=>{d("peer-data",m),console.log("Sending peer data: ",m)},q=()=>{N(),s(!0);const P=m.findIndex(re=>re.id===o),X=m[(P+1)%m.length];p(X.id);let F=l3(8);n(F),d("start-game",F)};return h("start-game",(P,X,F)=>{P||(s(!0),console.log("Setting next peer id"),y(re=>{console.log("PEER DATA IS: ",re);const Ce=re.findIndex(te=>te.id===o),V=re[(Ce+1)%re.length];return p(V.id),re}),n(F.data))}),k.jsx("div",{className:"flex min-h-screen justify-center bg-gray-50",children:k.jsx("div",{className:"mx-auto w-full max-w-2xl p-3 sm:p-6",children:k.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-lg sm:p-8",children:[k.jsxs("p",{className:"mb-2 text-base text-gray-400 sm:text-lg",children:[k.jsx("strong",{children:"Your ID:"})," ",o]}),!b&&k.jsxs(k.Fragment,{children:[k.jsx("div",{children:_?k.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[k.jsx(P3,{peerId:o}),k.jsx("button",{onClick:q,className:"rounded-md bg-purple-500 px-4 py-2 text-white transition-colors hover:bg-purple-600 sm:px-6",children:"Start game!"})]}):k.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[k.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[k.jsx("input",{placeholder:"Host ID",value:a,onChange:P=>r(P.target.value),className:"flex-1 rounded-md border-2 border-gray-300 px-3 py-2"}),k.jsx("button",{onClick:T,disabled:!I.trim()||!a.trim(),className:"rounded-md bg-main-600 px-4 py-2 text-white transition-colors hover:bg-main-600 disabled:cursor-not-allowed disabled:bg-gray-300 sm:px-6",children:"Join"})]}),!a&&k.jsx("button",{onClick:D,className:"rounded-md bg-green-500 px-4 py-2 text-white transition-colors hover:bg-green-600 disabled:cursor-not-allowed disabled:bg-gray-300 sm:px-6",disabled:!I.trim(),children:"Become Host"}),k.jsx("div",{className:"flex flex-col gap-3",children:k.jsx("div",{className:"flex flex-row gap-3",children:k.jsx("input",{placeholder:"Your name",value:I,onChange:P=>{const X=P.target.value;$(X),X.startsWith("sk-")&&localStorage.setItem("openai-key",X)},className:"flex-1 rounded-md border-2 border-gray-300 px-3 py-2"})})})]})}),k.jsx("hr",{className:"my-2"}),_&&k.jsx(H3,{peerData:m,setPeerData:y})]}),!M&&k.jsx("div",{className:"justify-self-center",children:(b||_)&&k.jsx(q3,{setTabela:R,updateTabela:B,setIsSaveLoaded:U})}),M&&k.jsx(k3,{tabela:A})]})})})},q3=({setTabela:s,updateTabela:n,setIsSaveLoaded:a})=>{const[r,o]=ie.useState([]),c=()=>{o([]);for(let m=0;m<localStorage.length;m++){const y=localStorage.key(m);if(y==null||!y.endsWith("-data"))continue;const b=JSON.parse(localStorage.getItem(y)),S=b.peerData,_=b.color,C=b.date,M=y.replace("-data",""),U=S.map(B=>B.name).join(", "),A=_??"#50a2ff",R=C??"";o(B=>[...B,{id:M,names:U,date:R,color:A}])}o(m=>{let y=[...m];return y.sort((b,S)=>S.date-b.date),y})},d=m=>{o(y=>{const b=[...y];return b.splice(b.indexOf(m),1),b}),localStorage.removeItem(m.id+"-data"),localStorage.removeItem(m.id+"-peerId"),localStorage.removeItem(m.id+"-dice")},h=m=>{const y=JSON.parse(localStorage.getItem(m.id+"-data")).tabela;s(y),a(!0)},p=()=>{const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=()=>{const y=m.files?.[0];if(!y)return;const b=new FileReader;b.onload=S=>{const _=S.target?.result,C=new Image;C.onload=()=>{const M=document.createElement("canvas");M.width=C.width,M.height=C.height;const U=M.getContext("2d");if(!U){console.error("Unable to get 2D context");return}U.drawImage(C,0,0);const R=U.getImageData(0,0,C.width,C.height).data;let B=-1,I=0;const $=(T,N)=>{if(N.length!=3||T<0||T>=R.length)return!1;const q=R[T],L=R[T+1],P=R[T+2];return q==N.charCodeAt(0)&&L==N.charCodeAt(1)&&P==N.charCodeAt(2)};for(let T=0;T<R.length;T+=4)$(T,"OGN")&&$(T+4,"JEN")&&(B=T,I++);const D=I*4;if(B+=D+4,B!=-1){let T=R[B+0],N=R[B+1],q=T*N;console.log("Decoded: ",T,N,q),B+=D;const L=R[B+0],P=R[B+1],X=R[B+2],F=R[B+3];console.log("Color: ",L,P,X,F),B+=D;for(let re=0;re<T;re++)for(let Ce=0;Ce<N;Ce++){const te=(re*N+Ce)*D+B;let ce=R[te+0],ke=R[te+1],E=R[te+2];R[te+3],ce^=L,ke^=P,E^=X;let Z=E==1?!0:E==0?!1:void 0,se=ke==0,ne=ce;se==!1&&(ne=void 0),console.log("Decoded: ",re,Ce,ne,Z),(ne!=null||Z!=null)&&n(re,Ce,{value:ne,isAvailable:Z})}}a(!0)},C.src=_},b.readAsDataURL(y)},m.click()};return k.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2",children:[k.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[k.jsx("button",{className:"h-[50px] w-[50px] rounded-md border-2 border-main-600 bg-main-900 p-1",onClick:()=>c(),children:k.jsx("img",{src:"assets/database.svg"})}),k.jsx("button",{className:"h-[50px] w-[50px] rounded-md border-2 border-main-600 bg-main-900 p-1",onClick:()=>p(),children:k.jsx("img",{src:"assets/smartphone.svg"})})]}),k.jsx("div",{className:"justify-baseline flex flex-col items-baseline gap-2",children:r.map(m=>k.jsxs("div",{className:"flex flex-row gap-2 overflow-auto",children:[k.jsx("button",{className:"h-[40px] w-[40px] rounded-md border-2 border-red-600 bg-red-900 p-1",onClick:()=>{d(m)},children:k.jsx("img",{src:"assets/trash-can.svg"})},m.id+"-delete"),k.jsxs("button",{onClick:()=>{h(m)},className:"flex-1 whitespace-normal rounded-md border-2 bg-gray-200 p-1 text-left",style:{borderColor:m.color,wordBreak:"break-word"},children:[k.jsxs("span",{className:"text-black",children:[j3(new Date(m.date))," (",m.names,")"]}),k.jsxs("span",{className:"text-gray-500",children:[" ",m.id]})]},m.id)]}))})]})},H3=({peerData:s,setPeerData:n})=>{const[a,r]=ie.useState(null),[o,c]=ie.useState(null),d=(b,S)=>{r(S),b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/html",S.toString())},h=(b,S)=>{b.preventDefault(),b.dataTransfer.dropEffect="move",c(S)},p=()=>{c(null)},m=(b,S)=>{if(b.preventDefault(),a===null||a===S||a===0||S===0){r(null),c(null);return}n(_=>{const C=[..._],M=C[a];return C.splice(a,1),C.splice(S,0,M),C.map((U,A)=>({...U,index:A}))}),r(null),c(null)},y=()=>{r(null),c(null)};return k.jsxs("div",{className:"mb-4 mt-4 rounded-lg border-2 border-gray-300 bg-gray-50 p-4 sm:mt-6 sm:p-6",children:[k.jsx("h3",{className:"mb-3 text-base font-bold sm:mb-4 sm:text-lg",children:"Peer Data"}),k.jsx("ul",{className:"space-y-3",children:s.map((b,S)=>k.jsx("li",{draggable:!0,onDragStart:_=>d(_,S),onDragOver:_=>h(_,S),onDragLeave:p,onDrop:_=>m(_,S),onDragEnd:y,className:`p-3 sm:p-4 rounded-lg border cursor-grab transition-colors ${a===S?"bg-gray-200":o===S?"border-dashed border-main-600 bg-main-50":"border-gray-300 bg-white hover:bg-gray-50"}`,children:k.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-2",children:[k.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap font-medium",children:b.name||"Unnamed"}),k.jsxs("span",{className:"text-nowrap text-xs text-gray-500",children:["(",b.id,")"]})]})},b.id))})]})},P3=({peerId:s})=>{const[n,a]=ie.useState(""),[r,o]=ie.useState("");return ie.useEffect(()=>{if(s){const c=`${window.location.origin}${window.location.pathname}?host=${s}`;o(c),O3.toDataURL(c,{width:200,margin:2}).then(d=>{a(d)}).catch(d=>{console.error("Error generating QR code:",d)})}},[]),r&&k.jsxs("div",{className:"rounded-lg border-2 border-gray-300 bg-gray-50 p-4 sm:p-6",children:[k.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row",children:[k.jsx("input",{value:r,readOnly:!0,className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm"}),k.jsx("button",{onClick:()=>navigator.clipboard.writeText(r),className:"rounded-md bg-gray-500 px-3 py-2 text-sm text-white transition-colors hover:bg-gray-600 sm:px-4",children:"Copy"})]}),n&&k.jsx("div",{className:"flex flex-col items-center",children:k.jsx("img",{src:n,alt:"QR Code",className:"max-w-full rounded-md border border-gray-300"})})]})},{min:Y3,max:G3}=Math,Va=(s,n=0,a=1)=>Y3(G3(n,s),a),zd=s=>{s._clipped=!1,s._unclipped=s.slice(0);for(let n=0;n<=3;n++)n<3?((s[n]<0||s[n]>255)&&(s._clipped=!0),s[n]=Va(s[n],0,255)):n===3&&(s[n]=Va(s[n],0,1));return s},Xy={};for(let s of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Xy[`[object ${s}]`]=s.toLowerCase();function Ae(s){return Xy[Object.prototype.toString.call(s)]||"object"}const xe=(s,n=null)=>s.length>=3?Array.prototype.slice.call(s):Ae(s[0])=="object"&&n?n.split("").filter(a=>s[0][a]!==void 0).map(a=>s[0][a]):s[0].slice(0),Wr=s=>{if(s.length<2)return null;const n=s.length-1;return Ae(s[n])=="string"?s[n].toLowerCase():null},{PI:zo,min:Iy,max:Vy}=Math,sn=s=>Math.round(s*100)/100,dd=s=>Math.round(s*100)/100,Yn=zo*2,$f=zo/3,X3=zo/180,I3=180/zo;function Qy(s){return[...s.slice(0,3).reverse(),...s.slice(3)]}const Se={format:{},autodetect:[]};class ee{constructor(...n){const a=this;if(Ae(n[0])==="object"&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];let r=Wr(n),o=!1;if(!r){o=!0,Se.sorted||(Se.autodetect=Se.autodetect.sort((c,d)=>d.p-c.p),Se.sorted=!0);for(let c of Se.autodetect)if(r=c.test(...n),r)break}if(Se.format[r]){const c=Se.format[r].apply(null,o?n:n.slice(0,-1));a._rgb=zd(c)}else throw new Error("unknown format: "+n);a._rgb.length===3&&a._rgb.push(1)}toString(){return Ae(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const V3="3.1.2",Ne=(...s)=>new ee(...s);Ne.version=V3;const Jr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Q3=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,K3=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ky=s=>{if(s.match(Q3)){(s.length===4||s.length===7)&&(s=s.substr(1)),s.length===3&&(s=s.split(""),s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]);const n=parseInt(s,16),a=n>>16,r=n>>8&255,o=n&255;return[a,r,o,1]}if(s.match(K3)){(s.length===5||s.length===9)&&(s=s.substr(1)),s.length===4&&(s=s.split(""),s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]+s[3]+s[3]);const n=parseInt(s,16),a=n>>24&255,r=n>>16&255,o=n>>8&255,c=Math.round((n&255)/255*100)/100;return[a,r,o,c]}throw new Error(`unknown hex color: ${s}`)},{round:Yl}=Math,Zy=(...s)=>{let[n,a,r,o]=xe(s,"rgba"),c=Wr(s)||"auto";o===void 0&&(o=1),c==="auto"&&(c=o<1?"rgba":"rgb"),n=Yl(n),a=Yl(a),r=Yl(r);let h="000000"+(n<<16|a<<8|r).toString(16);h=h.substr(h.length-6);let p="0"+Yl(o*255).toString(16);switch(p=p.substr(p.length-2),c.toLowerCase()){case"rgba":return`#${h}${p}`;case"argb":return`#${p}${h}`;default:return`#${h}`}};ee.prototype.name=function(){const s=Zy(this._rgb,"rgb");for(let n of Object.keys(Jr))if(Jr[n]===s)return n.toLowerCase();return s};Se.format.named=s=>{if(s=s.toLowerCase(),Jr[s])return Ky(Jr[s]);throw new Error("unknown color name: "+s)};Se.autodetect.push({p:5,test:(s,...n)=>{if(!n.length&&Ae(s)==="string"&&Jr[s.toLowerCase()])return"named"}});ee.prototype.alpha=function(s,n=!1){return s!==void 0&&Ae(s)==="number"?n?(this._rgb[3]=s,this):new ee([this._rgb[0],this._rgb[1],this._rgb[2],s],"rgb"):this._rgb[3]};ee.prototype.clipped=function(){return this._rgb._clipped||!1};const Tn={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Z3=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Gn(s){const n=Z3.get(String(s).toLowerCase());if(!n)throw new Error("unknown Lab illuminant "+s);Tn.labWhitePoint=s,Tn.Xn=n[0],Tn.Zn=n[1]}function vi(){return Tn.labWhitePoint}const Ld=(...s)=>{s=xe(s,"lab");const[n,a,r]=s,[o,c,d]=J3(n,a,r),[h,p,m]=Jy(o,c,d);return[h,p,m,s.length>3?s[3]:1]},J3=(s,n,a)=>{const{kE:r,kK:o,kKE:c,Xn:d,Yn:h,Zn:p}=Tn,m=(s+16)/116,y=.002*n+m,b=m-.005*a,S=y*y*y,_=b*b*b,C=S>r?S:(116*y-16)/o,M=s>c?Math.pow((s+16)/116,3):s/o,U=_>r?_:(116*b-16)/o,A=C*d,R=M*h,B=U*p;return[A,R,B]},qf=s=>{const n=Math.sign(s);return s=Math.abs(s),(s<=.0031308?s*12.92:1.055*Math.pow(s,1/2.4)-.055)*n},Jy=(s,n,a)=>{const{MtxAdaptMa:r,MtxAdaptMaI:o,MtxXYZ2RGB:c,RefWhiteRGB:d,Xn:h,Yn:p,Zn:m}=Tn,y=h*r.m00+p*r.m10+m*r.m20,b=h*r.m01+p*r.m11+m*r.m21,S=h*r.m02+p*r.m12+m*r.m22,_=d.X*r.m00+d.Y*r.m10+d.Z*r.m20,C=d.X*r.m01+d.Y*r.m11+d.Z*r.m21,M=d.X*r.m02+d.Y*r.m12+d.Z*r.m22,U=(s*r.m00+n*r.m10+a*r.m20)*(_/y),A=(s*r.m01+n*r.m11+a*r.m21)*(C/b),R=(s*r.m02+n*r.m12+a*r.m22)*(M/S),B=U*o.m00+A*o.m10+R*o.m20,I=U*o.m01+A*o.m11+R*o.m21,$=U*o.m02+A*o.m12+R*o.m22,D=qf(B*c.m00+I*c.m10+$*c.m20),T=qf(B*c.m01+I*c.m11+$*c.m21),N=qf(B*c.m02+I*c.m12+$*c.m22);return[D*255,T*255,N*255]},$d=(...s)=>{const[n,a,r,...o]=xe(s,"rgb"),[c,d,h]=Fy(n,a,r),[p,m,y]=F3(c,d,h);return[p,m,y,...o.length>0&&o[0]<1?[o[0]]:[]]};function F3(s,n,a){const{Xn:r,Yn:o,Zn:c,kE:d,kK:h}=Tn,p=s/r,m=n/o,y=a/c,b=p>d?Math.pow(p,1/3):(h*p+16)/116,S=m>d?Math.pow(m,1/3):(h*m+16)/116,_=y>d?Math.pow(y,1/3):(h*y+16)/116;return[116*S-16,500*(b-S),200*(S-_)]}function Hf(s){const n=Math.sign(s);return s=Math.abs(s),(s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4))*n}const Fy=(s,n,a)=>{s=Hf(s/255),n=Hf(n/255),a=Hf(a/255);const{MtxRGB2XYZ:r,MtxAdaptMa:o,MtxAdaptMaI:c,Xn:d,Yn:h,Zn:p,As:m,Bs:y,Cs:b}=Tn;let S=s*r.m00+n*r.m10+a*r.m20,_=s*r.m01+n*r.m11+a*r.m21,C=s*r.m02+n*r.m12+a*r.m22;const M=d*o.m00+h*o.m10+p*o.m20,U=d*o.m01+h*o.m11+p*o.m21,A=d*o.m02+h*o.m12+p*o.m22;let R=S*o.m00+_*o.m10+C*o.m20,B=S*o.m01+_*o.m11+C*o.m21,I=S*o.m02+_*o.m12+C*o.m22;return R*=M/m,B*=U/y,I*=A/b,S=R*c.m00+B*c.m10+I*c.m20,_=R*c.m01+B*c.m11+I*c.m21,C=R*c.m02+B*c.m12+I*c.m22,[S,_,C]};ee.prototype.lab=function(){return $d(this._rgb)};const W3=(...s)=>new ee(...s,"lab");Object.assign(Ne,{lab:W3,getLabWhitePoint:vi,setLabWhitePoint:Gn});Se.format.lab=Ld;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"lab"),Ae(s)==="array"&&s.length===3)return"lab"}});ee.prototype.darken=function(s=1){const n=this,a=n.lab();return a[0]-=Tn.Kn*s,new ee(a,"lab").alpha(n.alpha(),!0)};ee.prototype.brighten=function(s=1){return this.darken(-s)};ee.prototype.darker=ee.prototype.darken;ee.prototype.brighter=ee.prototype.brighten;ee.prototype.get=function(s){const[n,a]=s.split("."),r=this[n]();if(a){const o=n.indexOf(a)-(n.substr(0,2)==="ok"?2:0);if(o>-1)return r[o];throw new Error(`unknown channel ${a} in mode ${n}`)}else return r};const{pow:eC}=Math,tC=1e-7,nC=20;ee.prototype.luminance=function(s,n="rgb"){if(s!==void 0&&Ae(s)==="number"){if(s===0)return new ee([0,0,0,this._rgb[3]],"rgb");if(s===1)return new ee([255,255,255,this._rgb[3]],"rgb");let a=this.luminance(),r=nC;const o=(d,h)=>{const p=d.interpolate(h,.5,n),m=p.luminance();return Math.abs(s-m)<tC||!r--?p:m>s?o(d,p):o(p,h)},c=(a>s?o(new ee([0,0,0]),this):o(this,new ee([255,255,255]))).rgb();return new ee([...c,this._rgb[3]])}return aC(...this._rgb.slice(0,3))};const aC=(s,n,a)=>(s=Pf(s),n=Pf(n),a=Pf(a),.2126*s+.7152*n+.0722*a),Pf=s=>(s/=255,s<=.03928?s/12.92:eC((s+.055)/1.055,2.4)),xt={},Fr=(s,n,a=.5,...r)=>{let o=r[0]||"lrgb";if(!xt[o]&&!r.length&&(o=Object.keys(xt)[0]),!xt[o])throw new Error(`interpolation mode ${o} is not defined`);return Ae(s)!=="object"&&(s=new ee(s)),Ae(n)!=="object"&&(n=new ee(n)),xt[o](s,n,a).alpha(s.alpha()+a*(n.alpha()-s.alpha()))};ee.prototype.mix=ee.prototype.interpolate=function(s,n=.5,...a){return Fr(this,s,n,...a)};ee.prototype.premultiply=function(s=!1){const n=this._rgb,a=n[3];return s?(this._rgb=[n[0]*a,n[1]*a,n[2]*a,a],this):new ee([n[0]*a,n[1]*a,n[2]*a,a],"rgb")};const{sin:rC,cos:sC}=Math,Wy=(...s)=>{let[n,a,r]=xe(s,"lch");return isNaN(r)&&(r=0),r=r*X3,[n,sC(r)*a,rC(r)*a]},qd=(...s)=>{s=xe(s,"lch");const[n,a,r]=s,[o,c,d]=Wy(n,a,r),[h,p,m]=Ld(o,c,d);return[h,p,m,s.length>3?s[3]:1]},iC=(...s)=>{const n=Qy(xe(s,"hcl"));return qd(...n)},{sqrt:lC,atan2:oC,round:cC}=Math,eb=(...s)=>{const[n,a,r]=xe(s,"lab"),o=lC(a*a+r*r);let c=(oC(r,a)*I3+360)%360;return cC(o*1e4)===0&&(c=Number.NaN),[n,o,c]},Hd=(...s)=>{const[n,a,r,...o]=xe(s,"rgb"),[c,d,h]=$d(n,a,r),[p,m,y]=eb(c,d,h);return[p,m,y,...o.length>0&&o[0]<1?[o[0]]:[]]};ee.prototype.lch=function(){return Hd(this._rgb)};ee.prototype.hcl=function(){return Qy(Hd(this._rgb))};const uC=(...s)=>new ee(...s,"lch"),fC=(...s)=>new ee(...s,"hcl");Object.assign(Ne,{lch:uC,hcl:fC});Se.format.lch=qd;Se.format.hcl=iC;["lch","hcl"].forEach(s=>Se.autodetect.push({p:2,test:(...n)=>{if(n=xe(n,s),Ae(n)==="array"&&n.length===3)return s}}));ee.prototype.saturate=function(s=1){const n=this,a=n.lch();return a[1]+=Tn.Kn*s,a[1]<0&&(a[1]=0),new ee(a,"lch").alpha(n.alpha(),!0)};ee.prototype.desaturate=function(s=1){return this.saturate(-s)};ee.prototype.set=function(s,n,a=!1){const[r,o]=s.split("."),c=this[r]();if(o){const d=r.indexOf(o)-(r.substr(0,2)==="ok"?2:0);if(d>-1){if(Ae(n)=="string")switch(n.charAt(0)){case"+":c[d]+=+n;break;case"-":c[d]+=+n;break;case"*":c[d]*=+n.substr(1);break;case"/":c[d]/=+n.substr(1);break;default:c[d]=+n}else if(Ae(n)==="number")c[d]=n;else throw new Error("unsupported value for Color.set");const h=new ee(c,r);return a?(this._rgb=h._rgb,this):h}throw new Error(`unknown channel ${o} in mode ${r}`)}else return c};ee.prototype.tint=function(s=.5,...n){return Fr(this,"white",s,...n)};ee.prototype.shade=function(s=.5,...n){return Fr(this,"black",s,...n)};const dC=(s,n,a)=>{const r=s._rgb,o=n._rgb;return new ee(r[0]+a*(o[0]-r[0]),r[1]+a*(o[1]-r[1]),r[2]+a*(o[2]-r[2]),"rgb")};xt.rgb=dC;const{sqrt:Yf,pow:qr}=Math,hC=(s,n,a)=>{const[r,o,c]=s._rgb,[d,h,p]=n._rgb;return new ee(Yf(qr(r,2)*(1-a)+qr(d,2)*a),Yf(qr(o,2)*(1-a)+qr(h,2)*a),Yf(qr(c,2)*(1-a)+qr(p,2)*a),"rgb")};xt.lrgb=hC;const pC=(s,n,a)=>{const r=s.lab(),o=n.lab();return new ee(r[0]+a*(o[0]-r[0]),r[1]+a*(o[1]-r[1]),r[2]+a*(o[2]-r[2]),"lab")};xt.lab=pC;const es=(s,n,a,r)=>{let o,c;r==="hsl"?(o=s.hsl(),c=n.hsl()):r==="hsv"?(o=s.hsv(),c=n.hsv()):r==="hcg"?(o=s.hcg(),c=n.hcg()):r==="hsi"?(o=s.hsi(),c=n.hsi()):r==="lch"||r==="hcl"?(r="hcl",o=s.hcl(),c=n.hcl()):r==="oklch"&&(o=s.oklch().reverse(),c=n.oklch().reverse());let d,h,p,m,y,b;(r.substr(0,1)==="h"||r==="oklch")&&([d,p,y]=o,[h,m,b]=c);let S,_,C,M;return!isNaN(d)&&!isNaN(h)?(h>d&&h-d>180?M=h-(d+360):h<d&&d-h>180?M=h+360-d:M=h-d,_=d+a*M):isNaN(d)?isNaN(h)?_=Number.NaN:(_=h,(y==1||y==0)&&r!="hsv"&&(S=m)):(_=d,(b==1||b==0)&&r!="hsv"&&(S=p)),S===void 0&&(S=p+a*(m-p)),C=y+a*(b-y),r==="oklch"?new ee([C,S,_],r):new ee([_,S,C],r)},tb=(s,n,a)=>es(s,n,a,"lch");xt.lch=tb;xt.hcl=tb;const mC=s=>{if(Ae(s)=="number"&&s>=0&&s<=16777215){const n=s>>16,a=s>>8&255,r=s&255;return[n,a,r,1]}throw new Error("unknown num color: "+s)},gC=(...s)=>{const[n,a,r]=xe(s,"rgb");return(n<<16)+(a<<8)+r};ee.prototype.num=function(){return gC(this._rgb)};const yC=(...s)=>new ee(...s,"num");Object.assign(Ne,{num:yC});Se.format.num=mC;Se.autodetect.push({p:5,test:(...s)=>{if(s.length===1&&Ae(s[0])==="number"&&s[0]>=0&&s[0]<=16777215)return"num"}});const bC=(s,n,a)=>{const r=s.num(),o=n.num();return new ee(r+a*(o-r),"num")};xt.num=bC;const{floor:_C}=Math,vC=(...s)=>{s=xe(s,"hcg");let[n,a,r]=s,o,c,d;r=r*255;const h=a*255;if(a===0)o=c=d=r;else{n===360&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60;const p=_C(n),m=n-p,y=r*(1-a),b=y+h*(1-m),S=y+h*m,_=y+h;switch(p){case 0:[o,c,d]=[_,S,y];break;case 1:[o,c,d]=[b,_,y];break;case 2:[o,c,d]=[y,_,S];break;case 3:[o,c,d]=[y,b,_];break;case 4:[o,c,d]=[S,y,_];break;case 5:[o,c,d]=[_,y,b];break}}return[o,c,d,s.length>3?s[3]:1]},SC=(...s)=>{const[n,a,r]=xe(s,"rgb"),o=Iy(n,a,r),c=Vy(n,a,r),d=c-o,h=d*100/255,p=o/(255-d)*100;let m;return d===0?m=Number.NaN:(n===c&&(m=(a-r)/d),a===c&&(m=2+(r-n)/d),r===c&&(m=4+(n-a)/d),m*=60,m<0&&(m+=360)),[m,h,p]};ee.prototype.hcg=function(){return SC(this._rgb)};const CC=(...s)=>new ee(...s,"hcg");Ne.hcg=CC;Se.format.hcg=vC;Se.autodetect.push({p:1,test:(...s)=>{if(s=xe(s,"hcg"),Ae(s)==="array"&&s.length===3)return"hcg"}});const xC=(s,n,a)=>es(s,n,a,"hcg");xt.hcg=xC;const{cos:Hr}=Math,TC=(...s)=>{s=xe(s,"hsi");let[n,a,r]=s,o,c,d;return isNaN(n)&&(n=0),isNaN(a)&&(a=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(d=(1-a)/3,o=(1+a*Hr(Yn*n)/Hr($f-Yn*n))/3,c=1-(d+o)):n<2/3?(n-=1/3,o=(1-a)/3,c=(1+a*Hr(Yn*n)/Hr($f-Yn*n))/3,d=1-(o+c)):(n-=2/3,c=(1-a)/3,d=(1+a*Hr(Yn*n)/Hr($f-Yn*n))/3,o=1-(c+d)),o=Va(r*o*3),c=Va(r*c*3),d=Va(r*d*3),[o*255,c*255,d*255,s.length>3?s[3]:1]},{min:RC,sqrt:EC,acos:AC}=Math,wC=(...s)=>{let[n,a,r]=xe(s,"rgb");n/=255,a/=255,r/=255;let o;const c=RC(n,a,r),d=(n+a+r)/3,h=d>0?1-c/d:0;return h===0?o=NaN:(o=(n-a+(n-r))/2,o/=EC((n-a)*(n-a)+(n-r)*(a-r)),o=AC(o),r>a&&(o=Yn-o),o/=Yn),[o*360,h,d]};ee.prototype.hsi=function(){return wC(this._rgb)};const MC=(...s)=>new ee(...s,"hsi");Ne.hsi=MC;Se.format.hsi=TC;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"hsi"),Ae(s)==="array"&&s.length===3)return"hsi"}});const OC=(s,n,a)=>es(s,n,a,"hsi");xt.hsi=OC;const hd=(...s)=>{s=xe(s,"hsl");const[n,a,r]=s;let o,c,d;if(a===0)o=c=d=r*255;else{const h=[0,0,0],p=[0,0,0],m=r<.5?r*(1+a):r+a-r*a,y=2*r-m,b=n/360;h[0]=b+1/3,h[1]=b,h[2]=b-1/3;for(let S=0;S<3;S++)h[S]<0&&(h[S]+=1),h[S]>1&&(h[S]-=1),6*h[S]<1?p[S]=y+(m-y)*6*h[S]:2*h[S]<1?p[S]=m:3*h[S]<2?p[S]=y+(m-y)*(2/3-h[S])*6:p[S]=y;[o,c,d]=[p[0]*255,p[1]*255,p[2]*255]}return s.length>3?[o,c,d,s[3]]:[o,c,d,1]},nb=(...s)=>{s=xe(s,"rgba");let[n,a,r]=s;n/=255,a/=255,r/=255;const o=Iy(n,a,r),c=Vy(n,a,r),d=(c+o)/2;let h,p;return c===o?(h=0,p=Number.NaN):h=d<.5?(c-o)/(c+o):(c-o)/(2-c-o),n==c?p=(a-r)/(c-o):a==c?p=2+(r-n)/(c-o):r==c&&(p=4+(n-a)/(c-o)),p*=60,p<0&&(p+=360),s.length>3&&s[3]!==void 0?[p,h,d,s[3]]:[p,h,d]};ee.prototype.hsl=function(){return nb(this._rgb)};const DC=(...s)=>new ee(...s,"hsl");Ne.hsl=DC;Se.format.hsl=hd;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"hsl"),Ae(s)==="array"&&s.length===3)return"hsl"}});const NC=(s,n,a)=>es(s,n,a,"hsl");xt.hsl=NC;const{floor:kC}=Math,jC=(...s)=>{s=xe(s,"hsv");let[n,a,r]=s,o,c,d;if(r*=255,a===0)o=c=d=r;else{n===360&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60;const h=kC(n),p=n-h,m=r*(1-a),y=r*(1-a*p),b=r*(1-a*(1-p));switch(h){case 0:[o,c,d]=[r,b,m];break;case 1:[o,c,d]=[y,r,m];break;case 2:[o,c,d]=[m,r,b];break;case 3:[o,c,d]=[m,y,r];break;case 4:[o,c,d]=[b,m,r];break;case 5:[o,c,d]=[r,m,y];break}}return[o,c,d,s.length>3?s[3]:1]},{min:BC,max:UC}=Math,zC=(...s)=>{s=xe(s,"rgb");let[n,a,r]=s;const o=BC(n,a,r),c=UC(n,a,r),d=c-o;let h,p,m;return m=c/255,c===0?(h=Number.NaN,p=0):(p=d/c,n===c&&(h=(a-r)/d),a===c&&(h=2+(r-n)/d),r===c&&(h=4+(n-a)/d),h*=60,h<0&&(h+=360)),[h,p,m]};ee.prototype.hsv=function(){return zC(this._rgb)};const LC=(...s)=>new ee(...s,"hsv");Ne.hsv=LC;Se.format.hsv=jC;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"hsv"),Ae(s)==="array"&&s.length===3)return"hsv"}});const $C=(s,n,a)=>es(s,n,a,"hsv");xt.hsv=$C;function xo(s,n){let a=s.length;Array.isArray(s[0])||(s=[s]),Array.isArray(n[0])||(n=n.map(d=>[d]));let r=n[0].length,o=n[0].map((d,h)=>n.map(p=>p[h])),c=s.map(d=>o.map(h=>Array.isArray(d)?d.reduce((p,m,y)=>p+m*(h[y]||0),0):h.reduce((p,m)=>p+m*d,0)));return a===1&&(c=c[0]),r===1?c.map(d=>d[0]):c}const Pd=(...s)=>{s=xe(s,"lab");const[n,a,r,...o]=s,[c,d,h]=qC([n,a,r]),[p,m,y]=Jy(c,d,h);return[p,m,y,...o.length>0&&o[0]<1?[o[0]]:[]]};function qC(s){var n=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],a=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=xo(a,s);return xo(n,r.map(o=>o**3))}const Yd=(...s)=>{const[n,a,r,...o]=xe(s,"rgb"),c=Fy(n,a,r);return[...HC(c),...o.length>0&&o[0]<1?[o[0]]:[]]};function HC(s){const n=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],a=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=xo(n,s);return xo(a,r.map(o=>Math.cbrt(o)))}ee.prototype.oklab=function(){return Yd(this._rgb)};const PC=(...s)=>new ee(...s,"oklab");Object.assign(Ne,{oklab:PC});Se.format.oklab=Pd;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"oklab"),Ae(s)==="array"&&s.length===3)return"oklab"}});const YC=(s,n,a)=>{const r=s.oklab(),o=n.oklab();return new ee(r[0]+a*(o[0]-r[0]),r[1]+a*(o[1]-r[1]),r[2]+a*(o[2]-r[2]),"oklab")};xt.oklab=YC;const GC=(s,n,a)=>es(s,n,a,"oklch");xt.oklch=GC;const{pow:Gf,sqrt:Xf,PI:If,cos:a1,sin:r1,atan2:XC}=Math,IC=(s,n="lrgb",a=null)=>{const r=s.length;a||(a=Array.from(new Array(r)).map(()=>1));const o=r/a.reduce(function(b,S){return b+S});if(a.forEach((b,S)=>{a[S]*=o}),s=s.map(b=>new ee(b)),n==="lrgb")return VC(s,a);const c=s.shift(),d=c.get(n),h=[];let p=0,m=0;for(let b=0;b<d.length;b++)if(d[b]=(d[b]||0)*a[0],h.push(isNaN(d[b])?0:a[0]),n.charAt(b)==="h"&&!isNaN(d[b])){const S=d[b]/180*If;p+=a1(S)*a[0],m+=r1(S)*a[0]}let y=c.alpha()*a[0];s.forEach((b,S)=>{const _=b.get(n);y+=b.alpha()*a[S+1];for(let C=0;C<d.length;C++)if(!isNaN(_[C]))if(h[C]+=a[S+1],n.charAt(C)==="h"){const M=_[C]/180*If;p+=a1(M)*a[S+1],m+=r1(M)*a[S+1]}else d[C]+=_[C]*a[S+1]});for(let b=0;b<d.length;b++)if(n.charAt(b)==="h"){let S=XC(m/h[b],p/h[b])/If*180;for(;S<0;)S+=360;for(;S>=360;)S-=360;d[b]=S}else d[b]=d[b]/h[b];return y/=r,new ee(d,n).alpha(y>.99999?1:y,!0)},VC=(s,n)=>{const a=s.length,r=[0,0,0,0];for(let o=0;o<s.length;o++){const c=s[o],d=n[o]/a,h=c._rgb;r[0]+=Gf(h[0],2)*d,r[1]+=Gf(h[1],2)*d,r[2]+=Gf(h[2],2)*d,r[3]+=h[3]*d}return r[0]=Xf(r[0]),r[1]=Xf(r[1]),r[2]=Xf(r[2]),r[3]>.9999999&&(r[3]=1),new ee(zd(r))},{pow:QC}=Math;function To(s){let n="rgb",a=Ne("#ccc"),r=0,o=[0,1],c=[],d=[0,0],h=!1,p=[],m=!1,y=0,b=1,S=!1,_={},C=!0,M=1;const U=function(T){if(T=T||["#fff","#000"],T&&Ae(T)==="string"&&Ne.brewer&&Ne.brewer[T.toLowerCase()]&&(T=Ne.brewer[T.toLowerCase()]),Ae(T)==="array"){T.length===1&&(T=[T[0],T[0]]),T=T.slice(0);for(let N=0;N<T.length;N++)T[N]=Ne(T[N]);c.length=0;for(let N=0;N<T.length;N++)c.push(N/(T.length-1))}return $(),p=T},A=function(T){if(h!=null){const N=h.length-1;let q=0;for(;q<N&&T>=h[q];)q++;return q-1}return 0};let R=T=>T,B=T=>T;const I=function(T,N){let q,L;if(N==null&&(N=!1),isNaN(T)||T===null)return a;N?L=T:h&&h.length>2?L=A(T)/(h.length-2):b!==y?L=(T-y)/(b-y):L=1,L=B(L),N||(L=R(L)),M!==1&&(L=QC(L,M)),L=d[0]+L*(1-d[0]-d[1]),L=Va(L,0,1);const P=Math.floor(L*1e4);if(C&&_[P])q=_[P];else{if(Ae(p)==="array")for(let X=0;X<c.length;X++){const F=c[X];if(L<=F){q=p[X];break}if(L>=F&&X===c.length-1){q=p[X];break}if(L>F&&L<c[X+1]){L=(L-F)/(c[X+1]-F),q=Ne.interpolate(p[X],p[X+1],L,n);break}}else Ae(p)==="function"&&(q=p(L));C&&(_[P]=q)}return q};var $=()=>_={};U(s);const D=function(T){const N=Ne(I(T));return m&&N[m]?N[m]():N};return D.classes=function(T){if(T!=null){if(Ae(T)==="array")h=T,o=[T[0],T[T.length-1]];else{const N=Ne.analyze(o);T===0?h=[N.min,N.max]:h=Ne.limits(N,"e",T)}return D}return h},D.domain=function(T){if(!arguments.length)return o;y=T[0],b=T[T.length-1],c=[];const N=p.length;if(T.length===N&&y!==b)for(let q of Array.from(T))c.push((q-y)/(b-y));else{for(let q=0;q<N;q++)c.push(q/(N-1));if(T.length>2){const q=T.map((P,X)=>X/(T.length-1)),L=T.map(P=>(P-y)/(b-y));L.every((P,X)=>q[X]===P)||(B=P=>{if(P<=0||P>=1)return P;let X=0;for(;P>=L[X+1];)X++;const F=(P-L[X])/(L[X+1]-L[X]);return q[X]+F*(q[X+1]-q[X])})}}return o=[y,b],D},D.mode=function(T){return arguments.length?(n=T,$(),D):n},D.range=function(T,N){return U(T),D},D.out=function(T){return m=T,D},D.spread=function(T){return arguments.length?(r=T,D):r},D.correctLightness=function(T){return T==null&&(T=!0),S=T,$(),S?R=function(N){const q=I(0,!0).lab()[0],L=I(1,!0).lab()[0],P=q>L;let X=I(N,!0).lab()[0];const F=q+(L-q)*N;let re=X-F,Ce=0,V=1,te=20;for(;Math.abs(re)>.01&&te-- >0;)(function(){return P&&(re*=-1),re<0?(Ce=N,N+=(V-N)*.5):(V=N,N+=(Ce-N)*.5),X=I(N,!0).lab()[0],re=X-F})();return N}:R=N=>N,D},D.padding=function(T){return T!=null?(Ae(T)==="number"&&(T=[T,T]),d=T,D):d},D.colors=function(T,N){arguments.length<2&&(N="hex");let q=[];if(arguments.length===0)q=p.slice(0);else if(T===1)q=[D(.5)];else if(T>1){const L=o[0],P=o[1]-L;q=KC(0,T).map(X=>D(L+X/(T-1)*P))}else{s=[];let L=[];if(h&&h.length>2)for(let P=1,X=h.length,F=1<=X;F?P<X:P>X;F?P++:P--)L.push((h[P-1]+h[P])*.5);else L=o;q=L.map(P=>D(P))}return Ne[N]&&(q=q.map(L=>L[N]())),q},D.cache=function(T){return T!=null?(C=T,D):C},D.gamma=function(T){return T!=null?(M=T,D):M},D.nodata=function(T){return T!=null?(a=Ne(T),D):a},D}function KC(s,n,a){let r=[],o=s<n,c=n;for(let d=s;o?d<c:d>c;o?d++:d--)r.push(d);return r}const ZC=function(s){let n=[1,1];for(let a=1;a<s;a++){let r=[1];for(let o=1;o<=n.length;o++)r[o]=(n[o]||0)+n[o-1];n=r}return n},JC=function(s){let n,a,r,o;if(s=s.map(c=>new ee(c)),s.length===2)[a,r]=s.map(c=>c.lab()),n=function(c){const d=[0,1,2].map(h=>a[h]+c*(r[h]-a[h]));return new ee(d,"lab")};else if(s.length===3)[a,r,o]=s.map(c=>c.lab()),n=function(c){const d=[0,1,2].map(h=>(1-c)*(1-c)*a[h]+2*(1-c)*c*r[h]+c*c*o[h]);return new ee(d,"lab")};else if(s.length===4){let c;[a,r,o,c]=s.map(d=>d.lab()),n=function(d){const h=[0,1,2].map(p=>(1-d)*(1-d)*(1-d)*a[p]+3*(1-d)*(1-d)*d*r[p]+3*(1-d)*d*d*o[p]+d*d*d*c[p]);return new ee(h,"lab")}}else if(s.length>=5){let c,d,h;c=s.map(p=>p.lab()),h=s.length-1,d=ZC(h),n=function(p){const m=1-p,y=[0,1,2].map(b=>c.reduce((S,_,C)=>S+d[C]*m**(h-C)*p**C*_[b],0));return new ee(y,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return n},FC=s=>{const n=JC(s);return n.scale=()=>To(n),n},{round:ab}=Math;ee.prototype.rgb=function(s=!0){return s===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ab)};ee.prototype.rgba=function(s=!0){return this._rgb.slice(0,4).map((n,a)=>a<3?s===!1?n:ab(n):n)};const WC=(...s)=>new ee(...s,"rgb");Object.assign(Ne,{rgb:WC});Se.format.rgb=(...s)=>{const n=xe(s,"rgba");return n[3]===void 0&&(n[3]=1),n};Se.autodetect.push({p:3,test:(...s)=>{if(s=xe(s,"rgba"),Ae(s)==="array"&&(s.length===3||s.length===4&&Ae(s[3])=="number"&&s[3]>=0&&s[3]<=1))return"rgb"}});const hn=(s,n,a)=>{if(!hn[a])throw new Error("unknown blend mode "+a);return hn[a](s,n)},Ca=s=>(n,a)=>{const r=Ne(a).rgb(),o=Ne(n).rgb();return Ne.rgb(s(r,o))},xa=s=>(n,a)=>{const r=[];return r[0]=s(n[0],a[0]),r[1]=s(n[1],a[1]),r[2]=s(n[2],a[2]),r},ex=s=>s,tx=(s,n)=>s*n/255,nx=(s,n)=>s>n?n:s,ax=(s,n)=>s>n?s:n,rx=(s,n)=>255*(1-(1-s/255)*(1-n/255)),sx=(s,n)=>n<128?2*s*n/255:255*(1-2*(1-s/255)*(1-n/255)),ix=(s,n)=>255*(1-(1-n/255)/(s/255)),lx=(s,n)=>s===255?255:(s=255*(n/255)/(1-s/255),s>255?255:s);hn.normal=Ca(xa(ex));hn.multiply=Ca(xa(tx));hn.screen=Ca(xa(rx));hn.overlay=Ca(xa(sx));hn.darken=Ca(xa(nx));hn.lighten=Ca(xa(ax));hn.dodge=Ca(xa(lx));hn.burn=Ca(xa(ix));const{pow:ox,sin:cx,cos:ux}=Math;function fx(s=300,n=-1.5,a=1,r=1,o=[0,1]){let c=0,d;Ae(o)==="array"?d=o[1]-o[0]:(d=0,o=[o,o]);const h=function(p){const m=Yn*((s+120)/360+n*p),y=ox(o[0]+d*p,r),S=(c!==0?a[0]+p*c:a)*y*(1-y)/2,_=ux(m),C=cx(m),M=y+S*(-.14861*_+1.78277*C),U=y+S*(-.29227*_-.90649*C),A=y+S*(1.97294*_);return Ne(zd([M*255,U*255,A*255,1]))};return h.start=function(p){return p==null?s:(s=p,h)},h.rotations=function(p){return p==null?n:(n=p,h)},h.gamma=function(p){return p==null?r:(r=p,h)},h.hue=function(p){return p==null?a:(a=p,Ae(a)==="array"?(c=a[1]-a[0],c===0&&(a=a[1])):c=0,h)},h.lightness=function(p){return p==null?o:(Ae(p)==="array"?(o=p,d=p[1]-p[0]):(o=[p,p],d=0),h)},h.scale=()=>Ne.scale(h),h.hue(a),h}const dx="0123456789abcdef",{floor:hx,random:px}=Math,mx=()=>{let s="#";for(let n=0;n<6;n++)s+=dx.charAt(hx(px()*16));return new ee(s,"hex")},{log:s1,pow:gx,floor:yx,abs:bx}=Math;function rb(s,n=null){const a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Ae(s)==="object"&&(s=Object.values(s)),s.forEach(r=>{n&&Ae(r)==="object"&&(r=r[n]),r!=null&&!isNaN(r)&&(a.values.push(r),a.sum+=r,r<a.min&&(a.min=r),r>a.max&&(a.max=r),a.count+=1)}),a.domain=[a.min,a.max],a.limits=(r,o)=>sb(a,r,o),a}function sb(s,n="equal",a=7){Ae(s)=="array"&&(s=rb(s));const{min:r,max:o}=s,c=s.values.sort((h,p)=>h-p);if(a===1)return[r,o];const d=[];if(n.substr(0,1)==="c"&&(d.push(r),d.push(o)),n.substr(0,1)==="e"){d.push(r);for(let h=1;h<a;h++)d.push(r+h/a*(o-r));d.push(o)}else if(n.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const h=Math.LOG10E*s1(r),p=Math.LOG10E*s1(o);d.push(r);for(let m=1;m<a;m++)d.push(gx(10,h+m/a*(p-h)));d.push(o)}else if(n.substr(0,1)==="q"){d.push(r);for(let h=1;h<a;h++){const p=(c.length-1)*h/a,m=yx(p);if(m===p)d.push(c[m]);else{const y=p-m;d.push(c[m]*(1-y)+c[m+1]*y)}}d.push(o)}else if(n.substr(0,1)==="k"){let h;const p=c.length,m=new Array(p),y=new Array(a);let b=!0,S=0,_=null;_=[],_.push(r);for(let U=1;U<a;U++)_.push(r+U/a*(o-r));for(_.push(o);b;){for(let A=0;A<a;A++)y[A]=0;for(let A=0;A<p;A++){const R=c[A];let B=Number.MAX_VALUE,I;for(let $=0;$<a;$++){const D=bx(_[$]-R);D<B&&(B=D,I=$),y[I]++,m[A]=I}}const U=new Array(a);for(let A=0;A<a;A++)U[A]=null;for(let A=0;A<p;A++)h=m[A],U[h]===null?U[h]=c[A]:U[h]+=c[A];for(let A=0;A<a;A++)U[A]*=1/y[A];b=!1;for(let A=0;A<a;A++)if(U[A]!==_[A]){b=!0;break}_=U,S++,S>200&&(b=!1)}const C={};for(let U=0;U<a;U++)C[U]=[];for(let U=0;U<p;U++)h=m[U],C[h].push(c[U]);let M=[];for(let U=0;U<a;U++)M.push(C[U][0]),M.push(C[U][C[U].length-1]);M=M.sort((U,A)=>U-A),d.push(M[0]);for(let U=1;U<M.length;U+=2){const A=M[U];!isNaN(A)&&d.indexOf(A)===-1&&d.push(A)}}return d}const _x=(s,n)=>{s=new ee(s),n=new ee(n);const a=s.luminance(),r=n.luminance();return a>r?(a+.05)/(r+.05):(r+.05)/(a+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const i1=.027,vx=5e-4,Sx=.1,l1=1.14,Gl=.022,o1=1.414,Cx=(s,n)=>{s=new ee(s),n=new ee(n),s.alpha()<1&&(s=Fr(n,s,s.alpha(),"rgb"));const a=c1(...s.rgb()),r=c1(...n.rgb()),o=a>=Gl?a:a+Math.pow(Gl-a,o1),c=r>=Gl?r:r+Math.pow(Gl-r,o1),d=Math.pow(c,.56)-Math.pow(o,.57),h=Math.pow(c,.65)-Math.pow(o,.62),p=Math.abs(c-o)<vx?0:o<c?d*l1:h*l1;return(Math.abs(p)<Sx?0:p>0?p-i1:p+i1)*100};function c1(s,n,a){return .2126729*Math.pow(s/255,2.4)+.7151522*Math.pow(n/255,2.4)+.072175*Math.pow(a/255,2.4)}const{sqrt:qn,pow:et,min:xx,max:Tx,atan2:u1,abs:f1,cos:Xl,sin:d1,exp:Rx,PI:h1}=Math;function Ex(s,n,a=1,r=1,o=1){var c=function(ne){return 360*ne/(2*h1)},d=function(ne){return 2*h1*ne/360};s=new ee(s),n=new ee(n);const[h,p,m]=Array.from(s.lab()),[y,b,S]=Array.from(n.lab()),_=(h+y)/2,C=qn(et(p,2)+et(m,2)),M=qn(et(b,2)+et(S,2)),U=(C+M)/2,A=.5*(1-qn(et(U,7)/(et(U,7)+et(25,7)))),R=p*(1+A),B=b*(1+A),I=qn(et(R,2)+et(m,2)),$=qn(et(B,2)+et(S,2)),D=(I+$)/2,T=c(u1(m,R)),N=c(u1(S,B)),q=T>=0?T:T+360,L=N>=0?N:N+360,P=f1(q-L)>180?(q+L+360)/2:(q+L)/2,X=1-.17*Xl(d(P-30))+.24*Xl(d(2*P))+.32*Xl(d(3*P+6))-.2*Xl(d(4*P-63));let F=L-q;F=f1(F)<=180?F:L<=q?F+360:F-360,F=2*qn(I*$)*d1(d(F)/2);const re=y-h,Ce=$-I,V=1+.015*et(_-50,2)/qn(20+et(_-50,2)),te=1+.045*D,ce=1+.015*D*X,ke=30*Rx(-et((P-275)/25,2)),Z=-(2*qn(et(D,7)/(et(D,7)+et(25,7))))*d1(2*d(ke)),se=qn(et(re/(a*V),2)+et(Ce/(r*te),2)+et(F/(o*ce),2)+Z*(Ce/(r*te))*(F/(o*ce)));return Tx(0,xx(100,se))}function Ax(s,n,a="lab"){s=new ee(s),n=new ee(n);const r=s.get(a),o=n.get(a);let c=0;for(let d in r){const h=(r[d]||0)-(o[d]||0);c+=h*h}return Math.sqrt(c)}const wx=(...s)=>{try{return new ee(...s),!0}catch{return!1}},Mx={cool(){return To([Ne.hsl(180,1,.9),Ne.hsl(250,.7,.4)])},hot(){return To(["#000","#f00","#ff0","#fff"]).mode("rgb")}},pd={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ib=Object.keys(pd),p1=new Map(ib.map(s=>[s.toLowerCase(),s])),Ox=typeof Proxy=="function"?new Proxy(pd,{get(s,n){const a=n.toLowerCase();if(p1.has(a))return s[p1.get(a)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(ib)}}):pd,Dx=(...s)=>{s=xe(s,"cmyk");const[n,a,r,o]=s,c=s.length>4?s[4]:1;return o===1?[0,0,0,c]:[n>=1?0:255*(1-n)*(1-o),a>=1?0:255*(1-a)*(1-o),r>=1?0:255*(1-r)*(1-o),c]},{max:m1}=Math,Nx=(...s)=>{let[n,a,r]=xe(s,"rgb");n=n/255,a=a/255,r=r/255;const o=1-m1(n,m1(a,r)),c=o<1?1/(1-o):0,d=(1-n-o)*c,h=(1-a-o)*c,p=(1-r-o)*c;return[d,h,p,o]};ee.prototype.cmyk=function(){return Nx(this._rgb)};const kx=(...s)=>new ee(...s,"cmyk");Object.assign(Ne,{cmyk:kx});Se.format.cmyk=Dx;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"cmyk"),Ae(s)==="array"&&s.length===4)return"cmyk"}});const jx=(...s)=>{const n=xe(s,"hsla");let a=Wr(s)||"lsa";return n[0]=sn(n[0]||0)+"deg",n[1]=sn(n[1]*100)+"%",n[2]=sn(n[2]*100)+"%",a==="hsla"||n.length>3&&n[3]<1?(n[3]="/ "+(n.length>3?n[3]:1),a="hsla"):n.length=3,`${a.substr(0,3)}(${n.join(" ")})`},Bx=(...s)=>{const n=xe(s,"lab");let a=Wr(s)||"lab";return n[0]=sn(n[0])+"%",n[1]=sn(n[1]),n[2]=sn(n[2]),a==="laba"||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`lab(${n.join(" ")})`},Ux=(...s)=>{const n=xe(s,"lch");let a=Wr(s)||"lab";return n[0]=sn(n[0])+"%",n[1]=sn(n[1]),n[2]=isNaN(n[2])?"none":sn(n[2])+"deg",a==="lcha"||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`lch(${n.join(" ")})`},zx=(...s)=>{const n=xe(s,"lab");return n[0]=sn(n[0]*100)+"%",n[1]=dd(n[1]),n[2]=dd(n[2]),n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`oklab(${n.join(" ")})`},lb=(...s)=>{const[n,a,r,...o]=xe(s,"rgb"),[c,d,h]=Yd(n,a,r),[p,m,y]=eb(c,d,h);return[p,m,y,...o.length>0&&o[0]<1?[o[0]]:[]]},Lx=(...s)=>{const n=xe(s,"lch");return n[0]=sn(n[0]*100)+"%",n[1]=dd(n[1]),n[2]=isNaN(n[2])?"none":sn(n[2])+"deg",n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`oklch(${n.join(" ")})`},{round:Vf}=Math,$x=(...s)=>{const n=xe(s,"rgba");let a=Wr(s)||"rgb";if(a.substr(0,3)==="hsl")return jx(nb(n),a);if(a.substr(0,3)==="lab"){const r=vi();Gn("d50");const o=Bx($d(n),a);return Gn(r),o}if(a.substr(0,3)==="lch"){const r=vi();Gn("d50");const o=Ux(Hd(n),a);return Gn(r),o}return a.substr(0,5)==="oklab"?zx(Yd(n)):a.substr(0,5)==="oklch"?Lx(lb(n)):(n[0]=Vf(n[0]),n[1]=Vf(n[1]),n[2]=Vf(n[2]),(a==="rgba"||n.length>3&&n[3]<1)&&(n[3]="/ "+(n.length>3?n[3]:1),a="rgba"),`${a.substr(0,3)}(${n.slice(0,a==="rgb"?3:4).join(" ")})`)},ob=(...s)=>{s=xe(s,"lch");const[n,a,r,...o]=s,[c,d,h]=Wy(n,a,r),[p,m,y]=Pd(c,d,h);return[p,m,y,...o.length>0&&o[0]<1?[o[0]]:[]]},Xn=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,dn=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Ro=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,ln=/\s*/.source,ts=/\s+/.source,Gd=/\s*,\s*/.source,Lo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,ns=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,cb=new RegExp("^rgba?\\("+ln+[Xn,Xn,Xn].join(ts)+ns+"\\)$"),ub=new RegExp("^rgb\\("+ln+[Xn,Xn,Xn].join(Gd)+ln+"\\)$"),fb=new RegExp("^rgba\\("+ln+[Xn,Xn,Xn,dn].join(Gd)+ln+"\\)$"),db=new RegExp("^hsla?\\("+ln+[Lo,Ro,Ro].join(ts)+ns+"\\)$"),hb=new RegExp("^hsl?\\("+ln+[Lo,Ro,Ro].join(Gd)+ln+"\\)$"),pb=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,mb=new RegExp("^lab\\("+ln+[dn,dn,dn].join(ts)+ns+"\\)$"),gb=new RegExp("^lch\\("+ln+[dn,dn,Lo].join(ts)+ns+"\\)$"),yb=new RegExp("^oklab\\("+ln+[dn,dn,dn].join(ts)+ns+"\\)$"),bb=new RegExp("^oklch\\("+ln+[dn,dn,Lo].join(ts)+ns+"\\)$"),{round:_b}=Math,Pr=s=>s.map((n,a)=>a<=2?Va(_b(n),0,255):n),tt=(s,n=0,a=100,r=!1)=>(typeof s=="string"&&s.endsWith("%")&&(s=parseFloat(s.substring(0,s.length-1))/100,r?s=n+(s+1)*.5*(a-n):s=n+s*(a-n)),+s),At=(s,n)=>s==="none"?n:s,Xd=s=>{if(s=s.toLowerCase().trim(),s==="transparent")return[0,0,0,0];let n;if(Se.format.named)try{return Se.format.named(s)}catch{}if((n=s.match(cb))||(n=s.match(ub))){let a=n.slice(1,4);for(let o=0;o<3;o++)a[o]=+tt(At(a[o],0),0,255);a=Pr(a);const r=n[4]!==void 0?+tt(n[4],0,1):1;return a[3]=r,a}if(n=s.match(fb)){const a=n.slice(1,5);for(let r=0;r<4;r++)a[r]=+tt(a[r],0,255);return a}if((n=s.match(db))||(n=s.match(hb))){const a=n.slice(1,4);a[0]=+At(a[0].replace("deg",""),0),a[1]=+tt(At(a[1],0),0,100)*.01,a[2]=+tt(At(a[2],0),0,100)*.01;const r=Pr(hd(a)),o=n[4]!==void 0?+tt(n[4],0,1):1;return r[3]=o,r}if(n=s.match(pb)){const a=n.slice(1,4);a[1]*=.01,a[2]*=.01;const r=hd(a);for(let o=0;o<3;o++)r[o]=_b(r[o]);return r[3]=+n[4],r}if(n=s.match(mb)){const a=n.slice(1,4);a[0]=tt(At(a[0],0),0,100),a[1]=tt(At(a[1],0),-125,125,!0),a[2]=tt(At(a[2],0),-125,125,!0);const r=vi();Gn("d50");const o=Pr(Ld(a));Gn(r);const c=n[4]!==void 0?+tt(n[4],0,1):1;return o[3]=c,o}if(n=s.match(gb)){const a=n.slice(1,4);a[0]=tt(a[0],0,100),a[1]=tt(At(a[1],0),0,150,!1),a[2]=+At(a[2].replace("deg",""),0);const r=vi();Gn("d50");const o=Pr(qd(a));Gn(r);const c=n[4]!==void 0?+tt(n[4],0,1):1;return o[3]=c,o}if(n=s.match(yb)){const a=n.slice(1,4);a[0]=tt(At(a[0],0),0,1),a[1]=tt(At(a[1],0),-.4,.4,!0),a[2]=tt(At(a[2],0),-.4,.4,!0);const r=Pr(Pd(a)),o=n[4]!==void 0?+tt(n[4],0,1):1;return r[3]=o,r}if(n=s.match(bb)){const a=n.slice(1,4);a[0]=tt(At(a[0],0),0,1),a[1]=tt(At(a[1],0),0,.4,!1),a[2]=+At(a[2].replace("deg",""),0);const r=Pr(ob(a)),o=n[4]!==void 0?+tt(n[4],0,1):1;return r[3]=o,r}};Xd.test=s=>cb.test(s)||db.test(s)||mb.test(s)||gb.test(s)||yb.test(s)||bb.test(s)||ub.test(s)||fb.test(s)||hb.test(s)||pb.test(s)||s==="transparent";ee.prototype.css=function(s){return $x(this._rgb,s)};const qx=(...s)=>new ee(...s,"css");Ne.css=qx;Se.format.css=Xd;Se.autodetect.push({p:5,test:(s,...n)=>{if(!n.length&&Ae(s)==="string"&&Xd.test(s))return"css"}});Se.format.gl=(...s)=>{const n=xe(s,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n};const Hx=(...s)=>new ee(...s,"gl");Ne.gl=Hx;ee.prototype.gl=function(){const s=this._rgb;return[s[0]/255,s[1]/255,s[2]/255,s[3]]};ee.prototype.hex=function(s){return Zy(this._rgb,s)};const Px=(...s)=>new ee(...s,"hex");Ne.hex=Px;Se.format.hex=Ky;Se.autodetect.push({p:4,test:(s,...n)=>{if(!n.length&&Ae(s)==="string"&&[3,4,5,6,7,8,9].indexOf(s.length)>=0)return"hex"}});const{log:Il}=Math,vb=s=>{const n=s/100;let a,r,o;return n<66?(a=255,r=n<6?0:-155.25485562709179-.44596950469579133*(r=n-2)+104.49216199393888*Il(r),o=n<20?0:-254.76935184120902+.8274096064007395*(o=n-10)+115.67994401066147*Il(o)):(a=351.97690566805693+.114206453784165*(a=n-55)-40.25366309332127*Il(a),r=325.4494125711974+.07943456536662342*(r=n-50)-28.0852963507957*Il(r),o=255),[a,r,o,1]},{round:Yx}=Math,Gx=(...s)=>{const n=xe(s,"rgb"),a=n[0],r=n[2];let o=1e3,c=4e4;const d=.4;let h;for(;c-o>d;){h=(c+o)*.5;const p=vb(h);p[2]/p[0]>=r/a?c=h:o=h}return Yx(h)};ee.prototype.temp=ee.prototype.kelvin=ee.prototype.temperature=function(){return Gx(this._rgb)};const Qf=(...s)=>new ee(...s,"temp");Object.assign(Ne,{temp:Qf,kelvin:Qf,temperature:Qf});Se.format.temp=Se.format.kelvin=Se.format.temperature=vb;ee.prototype.oklch=function(){return lb(this._rgb)};const Xx=(...s)=>new ee(...s,"oklch");Object.assign(Ne,{oklch:Xx});Se.format.oklch=ob;Se.autodetect.push({p:2,test:(...s)=>{if(s=xe(s,"oklch"),Ae(s)==="array"&&s.length===3)return"oklch"}});Object.assign(Ne,{analyze:rb,average:IC,bezier:FC,blend:hn,brewer:Ox,Color:ee,colors:Jr,contrast:_x,contrastAPCA:Cx,cubehelix:fx,deltaE:Ex,distance:Ax,input:Se,interpolate:Fr,limits:sb,mix:Fr,random:mx,scale:To,scales:Mx,valid:wx});function Ix(s){const n=Ne.scale(["#fff",s,"#000"]).mode("lrgb"),a={50:n(.05).hex(),100:n(.1).hex(),200:n(.2).hex(),300:n(.3).hex(),400:n(.4).hex(),500:n(.5).hex(),600:n(.6).hex(),700:n(.7).hex(),800:n(.8).hex(),900:n(.9).hex(),950:n(.95).hex()};for(const[r,o]of Object.entries(a))document.documentElement.style.setProperty("--main-"+r,o)}function Vx(s,n,a){const r=s.length,o=s.reduce((B,I)=>Math.max(B,I.length),0),c=r*o;let d=4;const h=Math.ceil(Math.sqrt(c+d||1)),p=n.current,m=h*h,y=1;p.width=m,p.height=y;const b=p.getContext("2d");if(!b)throw new Error("2D context not available");const S=b.createImageData(m,y),_=S.data;_[0]=79,_[1]=71,_[2]=78,_[3]=255,_[4]=74,_[5]=69,_[6]=78,_[7]=255,_[8]=r&255,_[9]=o&255,_[10]=255,_[11]=255;let C=a;C=C.replace("#","");let M=parseInt(C.substring(0,2),16),U=parseInt(C.substring(2,4),16),A=parseInt(C.substring(4,6),16),R=255;_[12]=M,_[13]=U,_[14]=A,_[15]=R,console.log("Encoding with color: ",M,U,A,R);for(let B=0;B<r;B++)for(let I=0;I<o;I++){const D=(B*o+I+d)*4,T=s[B]?.[I];let N=0,q=2,L=1;if(T){if(T.value!==void 0){const X=T.value;N=Math.max(0,Math.min(255,X))}T.isAvailable!==void 0&&(q=T.isAvailable?1:0),T.value!==void 0&&(L=0)}const P=N&255;_[D+0]=P^M,_[D+1]=L^U,_[D+2]=q^A,_[D+3]=255}for(let B=(c+d)*4;B<_.length;B+=4)_[B+0]=M,_[B+1]=U,_[B+2]=A,_[B+3]=R;b.putImageData(S,0,0)}const Qx=()=>k.jsxs("div",{className:"flex h-[calc(6*100%/118)] flex-row",children:[k.jsx("div",{className:"border-1 flex h-full w-[calc(12*100%/106)] items-center justify-center border-main-500 bg-white text-center text-[1.55rem]",children:"IGRA"}),Array.from({length:10}).map((s,n)=>k.jsx("div",{className:`bg-white border-main-500 border-1 h-full w-[calc(8*100%/106)] flex items-center justify-center text-main-900 ${n==ve.Obavezna||n==ve.Maksimalna?"brightness-75":""}`,children:_o[n%_o.length]},n)),k.jsx("div",{className:"border-1 flex h-full w-[calc(14*100%/106)] items-center justify-center border-main-500 bg-white text-center text-[1.6rem]",children:"YAMB"})]}),Sb=({rowIndex:s,colIndex:n,gameState:a,isActive:r,tabela:o,updateTabela:c,setGameState:d,broadcastMessage:h,sendMessageToNextPlayer:p})=>{if(s==W.Suma1||s==W.Suma2||s==W.Suma3||!a.blackout&&!r)return;let m=a.value[s]==-1?0:a.value[s];a.blackout&&!r&&(m=0),c(s,n,{value:m,isAvailable:!1}),a.blackout||Kx(o,c,s,n),d({value:[],roundIndex:0,isMyMove:!1}),p("next-player",{}),h("move",{rowIndex:s,colIndex:n,value:m})},Kx=(s,n,a,r)=>{let o=0;if((r==ve.OdGore||r==ve.OdGoreIDole||r==ve.OdSredine)&&(o=1),(r==ve.OdDole||r==ve.OdGoreIDole||r==ve.OdSredine)&&(o=-1),o==0)return;let c=a+o;for((c==W.Suma1||c==W.Suma2||c==W.Suma3)&&(c+=o);c>=0&&c<16&&s[c][r]?.value!=null;)c+=o;c>=0&&c<16&&n(c,r,{isAvailable:!0})},Zx=({rowIndex:s,tabela:n,updateTabela:a,broadcastMessage:r,sendMessageToNextPlayer:o})=>{const{gameState:c,setGameState:d}=ie.useContext(Bo);return k.jsxs("div",{className:"flex h-[calc(7*100%/118)] flex-row",children:[k.jsx("div",{className:`bg-white border-main-500 border-1 h-full w-[calc(12*100%/106)] text-center align-middle flex items-center justify-center
				
			${s===W.Suma1||s===W.Suma2||s===W.Suma3?"border-t-2 border-b-2":""}`,onClick:()=>{c.roundIndex==1&&c.najava==null&&c.dirigovana==null&&s!=W.Suma1&&s!=W.Suma2&&s!=W.Suma3&&(d(h=>({...h,najava:s})),o("najava",s))},children:vo[s%vo.length]}),Array.from({length:10}).map((h,p)=>{let m=md(n,s,p,c);return k.jsx("div",{className:` border-main-500 border-1 h-full w-[calc(8*100%/106)] flex items-center justify-center text-[1.35rem] ${s===W.Suma1||s===W.Suma2||s===W.Suma3?"bg-main-300 border-t-2 border-b-2":"bg-white"} ${m?"border-2 border-gray-800":""} ${n[s][p]?.value==null?"text-gray-500":"text-black font-bold"} ${n[s][p]?.value==0||m&&c.value[s]==-1?"!bg-gray-800 !border-0 text-transparent":""} ${p==ve.Obavezna||p==ve.Maksimalna?"brightness-75":""}`,onClick:()=>{Sb({rowIndex:s,colIndex:p,gameState:c,isActive:m,tabela:n,updateTabela:a,setGameState:d,broadcastMessage:r,sendMessageToNextPlayer:o})},children:n[s][p]?.value!=null?n[s][p]?.value:m?c.value[s]:""},s*12+p)}),k.jsx("div",{className:`border-main-500 border-1 h-full w-[calc(14*100%/106)] text-[1.6rem] text-center ${s===6||s===9||s===15?"bg-main-300 border-t-2 border-b-2":"bg-white"}`,children:n[s][ve.Yamb]?.value!=null?n[s][ve.Yamb]?.value:""})]})},Jx=({tabela:s,updateTabela:n})=>{const{broadcastMessage:a,sendMessageToNextPlayer:r}=Ci();return ie.useEffect(()=>{},[s]),k.jsx(k.Fragment,{children:k.jsxs("div",{className:"flex aspect-[106/118] min-h-0 w-[600px] flex-col overflow-clip rounded-md border-4 border-solid border-main-500",children:[k.jsx(Qx,{}),Array.from({length:16}).map((o,c)=>k.jsx(Zx,{rowIndex:c,tabela:s,updateTabela:n,broadcastMessage:a,sendMessageToNextPlayer:r},c))]})})};function md(s,n,a,r){let o=s[n][a]?.isAvailable&&r.value[n]>0;return a==ve.Najava&&r.najava!=n&&(o=!1),a==ve.Dirigovana&&r.dirigovana!=n&&(o=!1),a==ve.Rucna&&r.roundIndex!=1&&(o=!1),r.najava!=null&&a!=ve.Najava&&(o=!1),r.dirigovana!=null&&a!=ve.Dirigovana&&(o=!1),r.najava!=null&&a==ve.Najava&&n==r.najava&&(o=!0),r.dirigovana!=null&&a==ve.Dirigovana&&n==r.dirigovana&&(o=!0),o}function ye(s,n,a,r,o){if(typeof n=="function"?s!==n||!0:!n.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n.set(s,a),a}function H(s,n,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?s!==n||!r:!n.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(s):r?r.value:n.get(s)}let Cb=function(){const{crypto:s}=globalThis;if(s?.randomUUID)return Cb=s.randomUUID.bind(s),s.randomUUID();const n=new Uint8Array(1),a=s?()=>s.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^a()&15>>+r/4).toString(16))};function gd(s){return typeof s=="object"&&s!==null&&("name"in s&&s.name==="AbortError"||"message"in s&&String(s.message).includes("FetchRequestCanceledException"))}const yd=s=>{if(s instanceof Error)return s;if(typeof s=="object"&&s!==null){try{if(Object.prototype.toString.call(s)==="[object Error]"){const n=new Error(s.message,s.cause?{cause:s.cause}:{});return s.stack&&(n.stack=s.stack),s.cause&&!n.cause&&(n.cause=s.cause),s.name&&(n.name=s.name),n}}catch{}try{return new Error(JSON.stringify(s))}catch{}}return new Error(s)};class me extends Error{}class bt extends me{constructor(n,a,r,o){super(`${bt.makeMessage(n,a,r)}`),this.status=n,this.headers=o,this.requestID=o?.get("x-request-id"),this.error=a;const c=a;this.code=c?.code,this.param=c?.param,this.type=c?.type}static makeMessage(n,a,r){const o=a?.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):r;return n&&o?`${n} ${o}`:n?`${n} status code (no body)`:o||"(no status code or body)"}static generate(n,a,r,o){if(!n||!o)return new $o({message:r,cause:yd(a)});const c=a?.error;return n===400?new xb(n,c,r,o):n===401?new Tb(n,c,r,o):n===403?new Rb(n,c,r,o):n===404?new Eb(n,c,r,o):n===409?new Ab(n,c,r,o):n===422?new wb(n,c,r,o):n===429?new Mb(n,c,r,o):n>=500?new Ob(n,c,r,o):new bt(n,c,r,o)}}class rn extends bt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class $o extends bt{constructor({message:n,cause:a}){super(void 0,void 0,n||"Connection error.",void 0),a&&(this.cause=a)}}class Id extends $o{constructor({message:n}={}){super({message:n??"Request timed out."})}}class xb extends bt{}class Tb extends bt{}class Rb extends bt{}class Eb extends bt{}class Ab extends bt{}class wb extends bt{}class Mb extends bt{}class Ob extends bt{}class Db extends me{constructor(){super("Could not parse response content as the length limit was reached")}}class Nb extends me{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class li extends Error{constructor(n){super(n)}}const Fx=/^[a-z][a-z0-9+.-]*:/i,Wx=s=>Fx.test(s);let Ut=s=>(Ut=Array.isArray,Ut(s)),g1=Ut;function e5(s){return typeof s!="object"?{}:s??{}}function t5(s){if(!s)return!0;for(const n in s)return!1;return!0}function n5(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Kf(s){return s!=null&&typeof s=="object"&&!Array.isArray(s)}const a5=(s,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new me(`${s} must be an integer`);if(n<0)throw new me(`${s} must be a positive integer`);return n},r5=s=>{try{return JSON.parse(s)}catch{return}},xi=s=>new Promise(n=>setTimeout(n,s)),Ir="5.12.2",s5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function i5(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const l5=()=>{const s=i5();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":b1(Deno.build.os),"X-Stainless-Arch":y1(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":b1(globalThis.process.platform??"unknown"),"X-Stainless-Arch":y1(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const n=o5();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function o5(){if(typeof navigator>"u"||!navigator)return null;const s=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:a}of s){const r=a.exec(navigator.userAgent);if(r){const o=r[1]||0,c=r[2]||0,d=r[3]||0;return{browser:n,version:`${o}.${c}.${d}`}}}return null}const y1=s=>s==="x32"?"x32":s==="x86_64"||s==="x64"?"x64":s==="arm"?"arm":s==="aarch64"||s==="arm64"?"arm64":s?`other:${s}`:"unknown",b1=s=>(s=s.toLowerCase(),s.includes("ios")?"iOS":s==="android"?"Android":s==="darwin"?"MacOS":s==="win32"?"Windows":s==="freebsd"?"FreeBSD":s==="openbsd"?"OpenBSD":s==="linux"?"Linux":s?`Other:${s}`:"Unknown");let _1;const c5=()=>_1??(_1=l5());function u5(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kb(...s){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...s)}function jb(s){let n=Symbol.asyncIterator in s?s[Symbol.asyncIterator]():s[Symbol.iterator]();return kb({start(){},async pull(a){const{done:r,value:o}=await n.next();r?a.close():a.enqueue(o)},async cancel(){await n.return?.()}})}function Bb(s){if(s[Symbol.asyncIterator])return s;const n=s.getReader();return{async next(){try{const a=await n.read();return a?.done&&n.releaseLock(),a}catch(a){throw n.releaseLock(),a}},async return(){const a=n.cancel();return n.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function f5(s){if(s===null||typeof s!="object")return;if(s[Symbol.asyncIterator]){await s[Symbol.asyncIterator]().return?.();return}const n=s.getReader(),a=n.cancel();n.releaseLock(),await a}const d5=({headers:s,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}),Ub="RFC3986",zb=s=>String(s),v1={RFC1738:s=>String(s).replace(/%20/g,"+"),RFC3986:zb},h5="RFC1738";let bd=(s,n)=>(bd=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),bd(s,n));const Sn=(()=>{const s=[];for(let n=0;n<256;++n)s.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return s})(),Zf=1024,p5=(s,n,a,r,o)=>{if(s.length===0)return s;let c=s;if(typeof s=="symbol"?c=Symbol.prototype.toString.call(s):typeof s!="string"&&(c=String(s)),a==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});let d="";for(let h=0;h<c.length;h+=Zf){const p=c.length>=Zf?c.slice(h,h+Zf):c,m=[];for(let y=0;y<p.length;++y){let b=p.charCodeAt(y);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||o===h5&&(b===40||b===41)){m[m.length]=p.charAt(y);continue}if(b<128){m[m.length]=Sn[b];continue}if(b<2048){m[m.length]=Sn[192|b>>6]+Sn[128|b&63];continue}if(b<55296||b>=57344){m[m.length]=Sn[224|b>>12]+Sn[128|b>>6&63]+Sn[128|b&63];continue}y+=1,b=65536+((b&1023)<<10|p.charCodeAt(y)&1023),m[m.length]=Sn[240|b>>18]+Sn[128|b>>12&63]+Sn[128|b>>6&63]+Sn[128|b&63]}d+=m.join("")}return d};function m5(s){return!s||typeof s!="object"?!1:!!(s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer(s))}function S1(s,n){if(Ut(s)){const a=[];for(let r=0;r<s.length;r+=1)a.push(n(s[r]));return a}return n(s)}const Lb={brackets(s){return String(s)+"[]"},comma:"comma",indices(s,n){return String(s)+"["+n+"]"},repeat(s){return String(s)}},$b=function(s,n){Array.prototype.push.apply(s,Ut(n)?n:[n])};let C1;const lt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:p5,encodeValuesOnly:!1,format:Ub,formatter:zb,indices:!1,serializeDate(s){return(C1??(C1=Function.prototype.call.bind(Date.prototype.toISOString)))(s)},skipNulls:!1,strictNullHandling:!1};function g5(s){return typeof s=="string"||typeof s=="number"||typeof s=="boolean"||typeof s=="symbol"||typeof s=="bigint"}const Jf={};function qb(s,n,a,r,o,c,d,h,p,m,y,b,S,_,C,M,U,A){let R=s,B=A,I=0,$=!1;for(;(B=B.get(Jf))!==void 0&&!$;){const L=B.get(s);if(I+=1,typeof L<"u"){if(L===I)throw new RangeError("Cyclic object value");$=!0}typeof B.get(Jf)>"u"&&(I=0)}if(typeof m=="function"?R=m(n,R):R instanceof Date?R=S?.(R):a==="comma"&&Ut(R)&&(R=S1(R,function(L){return L instanceof Date?S?.(L):L})),R===null){if(c)return p&&!M?p(n,lt.encoder,U,"key",_):n;R=""}if(g5(R)||m5(R)){if(p){const L=M?n:p(n,lt.encoder,U,"key",_);return[C?.(L)+"="+C?.(p(R,lt.encoder,U,"value",_))]}return[C?.(n)+"="+C?.(String(R))]}const D=[];if(typeof R>"u")return D;let T;if(a==="comma"&&Ut(R))M&&p&&(R=S1(R,p)),T=[{value:R.length>0?R.join(",")||null:void 0}];else if(Ut(m))T=m;else{const L=Object.keys(R);T=y?L.sort(y):L}const N=h?String(n).replace(/\./g,"%2E"):String(n),q=r&&Ut(R)&&R.length===1?N+"[]":N;if(o&&Ut(R)&&R.length===0)return q+"[]";for(let L=0;L<T.length;++L){const P=T[L],X=typeof P=="object"&&typeof P.value<"u"?P.value:R[P];if(d&&X===null)continue;const F=b&&h?P.replace(/\./g,"%2E"):P,re=Ut(R)?typeof a=="function"?a(q,F):q:q+(b?"."+F:"["+F+"]");A.set(s,I);const Ce=new WeakMap;Ce.set(Jf,A),$b(D,qb(X,re,a,r,o,c,d,h,a==="comma"&&M&&Ut(R)?null:p,m,y,b,S,_,C,M,U,Ce))}return D}function y5(s=lt){if(typeof s.allowEmptyArrays<"u"&&typeof s.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof s.encodeDotInKeys<"u"&&typeof s.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(s.encoder!==null&&typeof s.encoder<"u"&&typeof s.encoder!="function")throw new TypeError("Encoder has to be a function.");const n=s.charset||lt.charset;if(typeof s.charset<"u"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=Ub;if(typeof s.format<"u"){if(!bd(v1,s.format))throw new TypeError("Unknown format option provided.");a=s.format}const r=v1[a];let o=lt.filter;(typeof s.filter=="function"||Ut(s.filter))&&(o=s.filter);let c;if(s.arrayFormat&&s.arrayFormat in Lb?c=s.arrayFormat:"indices"in s?c=s.indices?"indices":"repeat":c=lt.arrayFormat,"commaRoundTrip"in s&&typeof s.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof s.allowDots>"u"?s.encodeDotInKeys?!0:lt.allowDots:!!s.allowDots;return{addQueryPrefix:typeof s.addQueryPrefix=="boolean"?s.addQueryPrefix:lt.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof s.allowEmptyArrays=="boolean"?!!s.allowEmptyArrays:lt.allowEmptyArrays,arrayFormat:c,charset:n,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:lt.charsetSentinel,commaRoundTrip:!!s.commaRoundTrip,delimiter:typeof s.delimiter>"u"?lt.delimiter:s.delimiter,encode:typeof s.encode=="boolean"?s.encode:lt.encode,encodeDotInKeys:typeof s.encodeDotInKeys=="boolean"?s.encodeDotInKeys:lt.encodeDotInKeys,encoder:typeof s.encoder=="function"?s.encoder:lt.encoder,encodeValuesOnly:typeof s.encodeValuesOnly=="boolean"?s.encodeValuesOnly:lt.encodeValuesOnly,filter:o,format:a,formatter:r,serializeDate:typeof s.serializeDate=="function"?s.serializeDate:lt.serializeDate,skipNulls:typeof s.skipNulls=="boolean"?s.skipNulls:lt.skipNulls,sort:typeof s.sort=="function"?s.sort:null,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:lt.strictNullHandling}}function b5(s,n={}){let a=s;const r=y5(n);let o,c;typeof r.filter=="function"?(c=r.filter,a=c("",a)):Ut(r.filter)&&(c=r.filter,o=c);const d=[];if(typeof a!="object"||a===null)return"";const h=Lb[r.arrayFormat],p=h==="comma"&&r.commaRoundTrip;o||(o=Object.keys(a)),r.sort&&o.sort(r.sort);const m=new WeakMap;for(let S=0;S<o.length;++S){const _=o[S];r.skipNulls&&a[_]===null||$b(d,qb(a[_],_,h,p,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,m))}const y=d.join(r.delimiter);let b=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}function _5(s){let n=0;for(const o of s)n+=o.length;const a=new Uint8Array(n);let r=0;for(const o of s)a.set(o,r),r+=o.length;return a}let x1;function Vd(s){let n;return(x1??(n=new globalThis.TextEncoder,x1=n.encode.bind(n)))(s)}let T1;function R1(s){let n;return(T1??(n=new globalThis.TextDecoder,T1=n.decode.bind(n)))(s)}var It,Vt;class qo{constructor(){It.set(this,void 0),Vt.set(this,void 0),ye(this,It,new Uint8Array),ye(this,Vt,null)}decode(n){if(n==null)return[];const a=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Vd(n):n;ye(this,It,_5([H(this,It,"f"),a]));const r=[];let o;for(;(o=v5(H(this,It,"f"),H(this,Vt,"f")))!=null;){if(o.carriage&&H(this,Vt,"f")==null){ye(this,Vt,o.index);continue}if(H(this,Vt,"f")!=null&&(o.index!==H(this,Vt,"f")+1||o.carriage)){r.push(R1(H(this,It,"f").subarray(0,H(this,Vt,"f")-1))),ye(this,It,H(this,It,"f").subarray(H(this,Vt,"f"))),ye(this,Vt,null);continue}const c=H(this,Vt,"f")!==null?o.preceding-1:o.preceding,d=R1(H(this,It,"f").subarray(0,c));r.push(d),ye(this,It,H(this,It,"f").subarray(o.index)),ye(this,Vt,null)}return r}flush(){return H(this,It,"f").length?this.decode(`
`):[]}}It=new WeakMap,Vt=new WeakMap;qo.NEWLINE_CHARS=new Set([`
`,"\r"]);qo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function v5(s,n){for(let o=n??0;o<s.length;o++){if(s[o]===10)return{preceding:o,index:o+1,carriage:!1};if(s[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function S5(s){for(let r=0;r<s.length-1;r++){if(s[r]===10&&s[r+1]===10||s[r]===13&&s[r+1]===13)return r+2;if(s[r]===13&&s[r+1]===10&&r+3<s.length&&s[r+2]===13&&s[r+3]===10)return r+4}return-1}const Eo={off:0,error:200,warn:300,info:400,debug:500},E1=(s,n,a)=>{if(s){if(n5(Eo,s))return s;gt(a).warn(`${n} was set to ${JSON.stringify(s)}, expected one of ${JSON.stringify(Object.keys(Eo))}`)}};function oi(){}function Vl(s,n,a){return!n||Eo[s]>Eo[a]?oi:n[s].bind(n)}const C5={error:oi,warn:oi,info:oi,debug:oi};let A1=new WeakMap;function gt(s){const n=s.logger,a=s.logLevel??"off";if(!n)return C5;const r=A1.get(n);if(r&&r[0]===a)return r[1];const o={error:Vl("error",n,a),warn:Vl("warn",n,a),info:Vl("info",n,a),debug:Vl("debug",n,a)};return A1.set(n,[a,o]),o}const Ya=s=>(s.options&&(s.options={...s.options},delete s.options.headers),s.headers&&(s.headers=Object.fromEntries((s.headers instanceof Headers?[...s.headers]:Object.entries(s.headers)).map(([n,a])=>[n,n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in s&&(s.retryOfRequestLogID&&(s.retryOf=s.retryOfRequestLogID),delete s.retryOfRequestLogID),s);var si;class xn{constructor(n,a,r){this.iterator=n,si.set(this,void 0),this.controller=a,ye(this,si,r)}static fromSSEResponse(n,a,r){let o=!1;const c=r?gt(r):console;async function*d(){if(o)throw new me("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{for await(const p of x5(n,a))if(!h){if(p.data.startsWith("[DONE]")){h=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let m;try{m=JSON.parse(p.data)}catch(y){throw c.error("Could not parse message into JSON:",p.data),c.error("From chunk:",p.raw),y}if(m&&m.error)throw new bt(void 0,m.error,void 0,n.headers);yield m}else{let m;try{m=JSON.parse(p.data)}catch(y){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),y}if(p.event=="error")throw new bt(void 0,m.error,m.message,void 0);yield{event:p.event,data:m}}}h=!0}catch(p){if(gd(p))return;throw p}finally{h||a.abort()}}return new xn(d,a,r)}static fromReadableStream(n,a,r){let o=!1;async function*c(){const h=new qo,p=Bb(n);for await(const m of p)for(const y of h.decode(m))yield y;for(const m of h.flush())yield m}async function*d(){if(o)throw new me("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{for await(const p of c())h||p&&(yield JSON.parse(p));h=!0}catch(p){if(gd(p))return;throw p}finally{h||a.abort()}}return new xn(d,a,r)}[(si=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const n=[],a=[],r=this.iterator(),o=c=>({next:()=>{if(c.length===0){const d=r.next();n.push(d),a.push(d)}return c.shift()}});return[new xn(()=>o(n),this.controller,H(this,si,"f")),new xn(()=>o(a),this.controller,H(this,si,"f"))]}toReadableStream(){const n=this;let a;return kb({async start(){a=n[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:c}=await a.next();if(c)return r.close();const d=Vd(JSON.stringify(o)+`
`);r.enqueue(d)}catch(o){r.error(o)}},async cancel(){await a.return?.()}})}}async function*x5(s,n){if(!s.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new me("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new me("Attempted to iterate over a response with no body");const a=new R5,r=new qo,o=Bb(s.body);for await(const c of T5(o))for(const d of r.decode(c)){const h=a.decode(d);h&&(yield h)}for(const c of r.flush()){const d=a.decode(c);d&&(yield d)}}async function*T5(s){let n=new Uint8Array;for await(const a of s){if(a==null)continue;const r=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?Vd(a):a;let o=new Uint8Array(n.length+r.length);o.set(n),o.set(r,n.length),n=o;let c;for(;(c=S5(n))!==-1;)yield n.slice(0,c),n=n.slice(c)}n.length>0&&(yield n)}class R5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(n),n.startsWith(":"))return null;let[a,r,o]=E5(n,":");return o.startsWith(" ")&&(o=o.substring(1)),a==="event"?this.event=o:a==="data"&&this.data.push(o),null}}function E5(s,n){const a=s.indexOf(n);return a!==-1?[s.substring(0,a),n,s.substring(a+n.length)]:[s,"",""]}async function Hb(s,n){const{response:a,requestLogID:r,retryOfRequestLogID:o,startTime:c}=n,d=await(async()=>{if(n.options.stream)return gt(s).debug("response",a.status,a.url,a.headers,a.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(a,n.controller,s):xn.fromSSEResponse(a,n.controller,s);if(a.status===204)return null;if(n.options.__binaryResponse)return a;const p=a.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const b=await a.json();return Pb(b,a)}return await a.text()})();return gt(s).debug(`[${r}] response parsed`,Ya({retryOfRequestLogID:o,url:a.url,status:a.status,body:d,durationMs:Date.now()-c})),d}function Pb(s,n){return!s||typeof s!="object"||Array.isArray(s)?s:Object.defineProperty(s,"_request_id",{value:n.headers.get("x-request-id"),enumerable:!1})}var ci;class Ho extends Promise{constructor(n,a,r=Hb){super(o=>{o(null)}),this.responsePromise=a,this.parseResponse=r,ci.set(this,void 0),ye(this,ci,n)}_thenUnwrap(n){return new Ho(H(this,ci,"f"),this.responsePromise,async(a,r)=>Pb(n(await this.parseResponse(a,r),r),r.response))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(H(this,ci,"f"),n))),this.parsedPromise}then(n,a){return this.parse().then(n,a)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}ci=new WeakMap;var Ql;class Yb{constructor(n,a,r,o){Ql.set(this,void 0),ye(this,Ql,n),this.options=o,this.response=a,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const n=this.nextPageRequestOptions();if(!n)throw new me("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await H(this,Ql,"f").requestAPIList(this.constructor,n)}async*iterPages(){let n=this;for(yield n;n.hasNextPage();)n=await n.getNextPage(),yield n}async*[(Ql=new WeakMap,Symbol.asyncIterator)](){for await(const n of this.iterPages())for(const a of n.getPaginatedItems())yield a}}class A5 extends Ho{constructor(n,a,r){super(n,a,async(o,c)=>new r(o,c.response,await Hb(o,c),c.options))}async*[Symbol.asyncIterator](){const n=await this;for await(const a of n)yield a}}class Po extends Yb{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class at extends Yb{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const n=this.getPaginatedItems(),a=n[n.length-1]?.id;return a?{...this.options,query:{...e5(this.options.query),after:a}}:null}}const Gb=()=>{if(typeof File>"u"){const{process:s}=globalThis,n=typeof s?.versions?.node=="string"&&parseInt(s.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gi(s,n,a){return Gb(),new File(s,n??"unknown_file",a)}function oo(s){return(typeof s=="object"&&s!==null&&("name"in s&&s.name&&String(s.name)||"url"in s&&s.url&&String(s.url)||"filename"in s&&s.filename&&String(s.filename)||"path"in s&&s.path&&String(s.path))||"").split(/[\\/]/).pop()||void 0}const Xb=s=>s!=null&&typeof s=="object"&&typeof s[Symbol.asyncIterator]=="function",Qa=async(s,n)=>({...s,body:await M5(s.body,n)}),w1=new WeakMap;function w5(s){const n=typeof s=="function"?s:s.fetch,a=w1.get(n);if(a)return a;const r=(async()=>{try{const o="Response"in n?n.Response:(await n("data:,")).constructor,c=new FormData;return c.toString()!==await new o(c).text()}catch{return!0}})();return w1.set(n,r),r}const M5=async(s,n)=>{if(!await w5(n))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const a=new FormData;return await Promise.all(Object.entries(s||{}).map(([r,o])=>_d(a,r,o))),a},O5=s=>s instanceof Blob&&"name"in s,_d=async(s,n,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")s.append(n,String(a));else if(a instanceof Response)s.append(n,gi([await a.blob()],oo(a)));else if(Xb(a))s.append(n,gi([await new Response(jb(a)).blob()],oo(a)));else if(O5(a))s.append(n,a,oo(a));else if(Array.isArray(a))await Promise.all(a.map(r=>_d(s,n+"[]",r)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([r,o])=>_d(s,`${n}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}},Ib=s=>s!=null&&typeof s=="object"&&typeof s.size=="number"&&typeof s.type=="string"&&typeof s.text=="function"&&typeof s.slice=="function"&&typeof s.arrayBuffer=="function",D5=s=>s!=null&&typeof s=="object"&&typeof s.name=="string"&&typeof s.lastModified=="number"&&Ib(s),N5=s=>s!=null&&typeof s=="object"&&typeof s.url=="string"&&typeof s.blob=="function";async function k5(s,n,a){if(Gb(),s=await s,D5(s))return s instanceof File?s:gi([await s.arrayBuffer()],s.name);if(N5(s)){const o=await s.blob();return n||(n=new URL(s.url).pathname.split(/[\\/]/).pop()),gi(await vd(o),n,a)}const r=await vd(s);if(n||(n=oo(s)),!a?.type){const o=r.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof o=="string"&&(a={...a,type:o})}return gi(r,n,a)}async function vd(s){let n=[];if(typeof s=="string"||ArrayBuffer.isView(s)||s instanceof ArrayBuffer)n.push(s);else if(Ib(s))n.push(s instanceof Blob?s:await s.arrayBuffer());else if(Xb(s))for await(const a of s)n.push(...await vd(a));else{const a=s?.constructor?.name;throw new Error(`Unexpected data type: ${typeof s}${a?`; constructor: ${a}`:""}${j5(s)}`)}return n}function j5(s){return typeof s!="object"||s===null?"":`; props: [${Object.getOwnPropertyNames(s).map(a=>`"${a}"`).join(", ")}]`}class _e{constructor(n){this._client=n}}function Vb(s){return s.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const M1=Object.freeze(Object.create(null)),B5=(s=Vb)=>function(a,...r){if(a.length===1)return a[0];let o=!1;const c=[],d=a.reduce((y,b,S)=>{/[?#]/.test(b)&&(o=!0);const _=r[S];let C=(o?encodeURIComponent:s)(""+_);return S!==r.length&&(_==null||typeof _=="object"&&_.toString===Object.getPrototypeOf(Object.getPrototypeOf(_.hasOwnProperty??M1)??M1)?.toString)&&(C=_+"",c.push({start:y.length+b.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),y+b+(S===r.length?"":C)},""),h=d.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=p.exec(h))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((y,b)=>y.start-b.start),c.length>0){let y=0;const b=c.reduce((S,_)=>{const C=" ".repeat(_.start-y),M="^".repeat(_.length);return y=_.start+_.length,S+C+M},"");throw new me(`Path parameters result in path with invalid segments:
${c.map(S=>S.error).join(`
`)}
${d}
${b}`)}return d},ae=B5(Vb);let Qb=class extends _e{list(n,a={},r){return this._client.getAPIList(ae`/chat/completions/${n}/messages`,at,{query:a,...r})}};function Ao(s){return s!==void 0&&"function"in s&&s.function!==void 0}function Qd(s){return s?.$brand==="auto-parseable-response-format"}function Ti(s){return s?.$brand==="auto-parseable-tool"}function U5(s,n){return!n||!Kb(n)?{...s,choices:s.choices.map(a=>(Zb(a.message.tool_calls),{...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:Kd(s,n)}function Kd(s,n){const a=s.choices.map(r=>{if(r.finish_reason==="length")throw new Db;if(r.finish_reason==="content_filter")throw new Nb;return Zb(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(o=>L5(n,o))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?z5(n,r.message.content):null}}});return{...s,choices:a}}function z5(s,n){return s.response_format?.type!=="json_schema"?null:s.response_format?.type==="json_schema"?"$parseRaw"in s.response_format?s.response_format.$parseRaw(n):JSON.parse(n):null}function L5(s,n){const a=s.tools?.find(r=>Ao(r)&&r.function?.name===n.function.name);return{...n,function:{...n.function,parsed_arguments:Ti(a)?a.$parseRaw(n.function.arguments):a?.function.strict?JSON.parse(n.function.arguments):null}}}function $5(s,n){if(!s||!("tools"in s)||!s.tools)return!1;const a=s.tools?.find(r=>Ao(r)&&r.function?.name===n.function.name);return Ao(a)&&(Ti(a)||a?.function.strict||!1)}function Kb(s){return Qd(s.response_format)?!0:s.tools?.some(n=>Ti(n)||n.type==="function"&&n.function.strict===!0)??!1}function Zb(s){for(const n of s||[])if(n.type!=="function")throw new me(`Currently only \`function\` tool calls are supported; Received \`${n.type}\``)}function q5(s){for(const n of s??[]){if(n.type!=="function")throw new me(`Currently only \`function\` tool types support auto-parsing; Received \`${n.type}\``);if(n.function.strict!==!0)throw new me(`The \`${n.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const wo=s=>s?.role==="assistant",Jb=s=>s?.role==="tool";var Sd,co,uo,ui,fi,fo,di,Pn,hi,Mo,Oo,Vr,Fb;class Zd{constructor(){Sd.add(this),this.controller=new AbortController,co.set(this,void 0),uo.set(this,()=>{}),ui.set(this,()=>{}),fi.set(this,void 0),fo.set(this,()=>{}),di.set(this,()=>{}),Pn.set(this,{}),hi.set(this,!1),Mo.set(this,!1),Oo.set(this,!1),Vr.set(this,!1),ye(this,co,new Promise((n,a)=>{ye(this,uo,n,"f"),ye(this,ui,a,"f")})),ye(this,fi,new Promise((n,a)=>{ye(this,fo,n,"f"),ye(this,di,a,"f")})),H(this,co,"f").catch(()=>{}),H(this,fi,"f").catch(()=>{})}_run(n){setTimeout(()=>{n().then(()=>{this._emitFinal(),this._emit("end")},H(this,Sd,"m",Fb).bind(this))},0)}_connected(){this.ended||(H(this,uo,"f").call(this),this._emit("connect"))}get ended(){return H(this,hi,"f")}get errored(){return H(this,Mo,"f")}get aborted(){return H(this,Oo,"f")}abort(){this.controller.abort()}on(n,a){return(H(this,Pn,"f")[n]||(H(this,Pn,"f")[n]=[])).push({listener:a}),this}off(n,a){const r=H(this,Pn,"f")[n];if(!r)return this;const o=r.findIndex(c=>c.listener===a);return o>=0&&r.splice(o,1),this}once(n,a){return(H(this,Pn,"f")[n]||(H(this,Pn,"f")[n]=[])).push({listener:a,once:!0}),this}emitted(n){return new Promise((a,r)=>{ye(this,Vr,!0),n!=="error"&&this.once("error",r),this.once(n,a)})}async done(){ye(this,Vr,!0),await H(this,fi,"f")}_emit(n,...a){if(H(this,hi,"f"))return;n==="end"&&(ye(this,hi,!0),H(this,fo,"f").call(this));const r=H(this,Pn,"f")[n];if(r&&(H(this,Pn,"f")[n]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...a))),n==="abort"){const o=a[0];!H(this,Vr,"f")&&!r?.length&&Promise.reject(o),H(this,ui,"f").call(this,o),H(this,di,"f").call(this,o),this._emit("end");return}if(n==="error"){const o=a[0];!H(this,Vr,"f")&&!r?.length&&Promise.reject(o),H(this,ui,"f").call(this,o),H(this,di,"f").call(this,o),this._emit("end")}}_emitFinal(){}}co=new WeakMap,uo=new WeakMap,ui=new WeakMap,fi=new WeakMap,fo=new WeakMap,di=new WeakMap,Pn=new WeakMap,hi=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,Vr=new WeakMap,Sd=new WeakSet,Fb=function(n){if(ye(this,Mo,!0),n instanceof Error&&n.name==="AbortError"&&(n=new rn),n instanceof rn)return ye(this,Oo,!0),this._emit("abort",n);if(n instanceof me)return this._emit("error",n);if(n instanceof Error){const a=new me(n.message);return a.cause=n,this._emit("error",a)}return this._emit("error",new me(String(n)))};function H5(s){return typeof s.parse=="function"}var wt,Cd,Do,xd,Td,Rd,Wb,e_;const P5=10;class t_ extends Zd{constructor(){super(...arguments),wt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(n){this._chatCompletions.push(n),this._emit("chatCompletion",n);const a=n.choices[0]?.message;return a&&this._addMessage(a),n}_addMessage(n,a=!0){if("content"in n||(n.content=null),this.messages.push(n),a){if(this._emit("message",n),Jb(n)&&n.content)this._emit("functionToolCallResult",n.content);else if(wo(n)&&n.tool_calls)for(const r of n.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const n=this._chatCompletions[this._chatCompletions.length-1];if(!n)throw new me("stream ended without producing a ChatCompletion");return n}async finalContent(){return await this.done(),H(this,wt,"m",Cd).call(this)}async finalMessage(){return await this.done(),H(this,wt,"m",Do).call(this)}async finalFunctionToolCall(){return await this.done(),H(this,wt,"m",xd).call(this)}async finalFunctionToolCallResult(){return await this.done(),H(this,wt,"m",Td).call(this)}async totalUsage(){return await this.done(),H(this,wt,"m",Rd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const n=this._chatCompletions[this._chatCompletions.length-1];n&&this._emit("finalChatCompletion",n);const a=H(this,wt,"m",Do).call(this);a&&this._emit("finalMessage",a);const r=H(this,wt,"m",Cd).call(this);r&&this._emit("finalContent",r);const o=H(this,wt,"m",xd).call(this);o&&this._emit("finalFunctionToolCall",o);const c=H(this,wt,"m",Td).call(this);c!=null&&this._emit("finalFunctionToolCallResult",c),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",H(this,wt,"m",Rd).call(this))}async _createChatCompletion(n,a,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),H(this,wt,"m",Wb).call(this,a);const c=await n.chat.completions.create({...a,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Kd(c,a))}async _runChatCompletion(n,a,r){for(const o of a.messages)this._addMessage(o,!1);return await this._createChatCompletion(n,a,r)}async _runTools(n,a,r){const o="tool",{tool_choice:c="auto",stream:d,...h}=a,p=typeof c!="string"&&c.type==="function"&&c?.function?.name,{maxChatCompletions:m=P5}=r||{},y=a.tools.map(_=>{if(Ti(_)){if(!_.$callback)throw new me("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),b={};for(const _ of y)_.type==="function"&&(b[_.function.name||_.function.function.name]=_.function);const S="tools"in a?y.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of a.messages)this._addMessage(_,!1);for(let _=0;_<m;++_){const M=(await this._createChatCompletion(n,{...h,tool_choice:c,tools:S,messages:[...this.messages]},r)).choices[0]?.message;if(!M)throw new me("missing message in ChatCompletion response");if(!M.tool_calls?.length)return;for(const U of M.tool_calls){if(U.type!=="function")continue;const A=U.id,{name:R,arguments:B}=U.function,I=b[R];if(I){if(p&&p!==R){const N=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:o,tool_call_id:A,content:N});continue}}else{const N=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${Object.keys(b).map(q=>JSON.stringify(q)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:A,content:N});continue}let $;try{$=H5(I)?await I.parse(B):B}catch(N){const q=N instanceof Error?N.message:String(N);this._addMessage({role:o,tool_call_id:A,content:q});continue}const D=await I.function($,this),T=H(this,wt,"m",e_).call(this,D);if(this._addMessage({role:o,tool_call_id:A,content:T}),p)return}}}}wt=new WeakSet,Cd=function(){return H(this,wt,"m",Do).call(this).content??null},Do=function(){let n=this.messages.length;for(;n-- >0;){const a=this.messages[n];if(wo(a))return{...a,content:a.content??null,refusal:a.refusal??null}}throw new me("stream ended without producing a ChatCompletionMessage with role=assistant")},xd=function(){for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(wo(a)&&a?.tool_calls?.length)return a.tool_calls.filter(r=>r.type==="function").at(-1)?.function}},Td=function(){for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(Jb(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(o=>o.type==="function"&&o.id===a.tool_call_id)))return a.content}},Rd=function(){const n={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(n.completion_tokens+=a.completion_tokens,n.prompt_tokens+=a.prompt_tokens,n.total_tokens+=a.total_tokens);return n},Wb=function(n){if(n.n!=null&&n.n>1)throw new me("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},e_=function(n){return typeof n=="string"?n:n===void 0?"undefined":JSON.stringify(n)};class Jd extends t_{static runTools(n,a,r){const o=new Jd,c={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(n,a,c)),o}_addMessage(n,a=!0){super._addMessage(n,a),wo(n)&&n.content&&this._emit("content",n.content)}}const n_=1,a_=2,r_=4,s_=8,i_=16,l_=32,o_=64,c_=128,u_=256,f_=c_|u_,d_=i_|l_|f_|o_,h_=n_|a_|d_,p_=r_|s_,Y5=h_|p_,dt={STR:n_,NUM:a_,ARR:r_,OBJ:s_,NULL:i_,BOOL:l_,NAN:o_,INFINITY:c_,MINUS_INFINITY:u_,INF:f_,SPECIAL:d_,ATOM:h_,COLLECTION:p_,ALL:Y5};class G5 extends Error{}class X5 extends Error{}function I5(s,n=dt.ALL){if(typeof s!="string")throw new TypeError(`expecting str, got ${typeof s}`);if(!s.trim())throw new Error(`${s} is empty`);return V5(s.trim(),n)}const V5=(s,n)=>{const a=s.length;let r=0;const o=S=>{throw new G5(`${S} at position ${r}`)},c=S=>{throw new X5(`${S} at position ${r}`)},d=()=>(b(),r>=a&&o("Unexpected end of input"),s[r]==='"'?h():s[r]==="{"?p():s[r]==="["?m():s.substring(r,r+4)==="null"||dt.NULL&n&&a-r<4&&"null".startsWith(s.substring(r))?(r+=4,null):s.substring(r,r+4)==="true"||dt.BOOL&n&&a-r<4&&"true".startsWith(s.substring(r))?(r+=4,!0):s.substring(r,r+5)==="false"||dt.BOOL&n&&a-r<5&&"false".startsWith(s.substring(r))?(r+=5,!1):s.substring(r,r+8)==="Infinity"||dt.INFINITY&n&&a-r<8&&"Infinity".startsWith(s.substring(r))?(r+=8,1/0):s.substring(r,r+9)==="-Infinity"||dt.MINUS_INFINITY&n&&1<a-r&&a-r<9&&"-Infinity".startsWith(s.substring(r))?(r+=9,-1/0):s.substring(r,r+3)==="NaN"||dt.NAN&n&&a-r<3&&"NaN".startsWith(s.substring(r))?(r+=3,NaN):y()),h=()=>{const S=r;let _=!1;for(r++;r<a&&(s[r]!=='"'||_&&s[r-1]==="\\");)_=s[r]==="\\"?!_:!1,r++;if(s.charAt(r)=='"')try{return JSON.parse(s.substring(S,++r-Number(_)))}catch(C){c(String(C))}else if(dt.STR&n)try{return JSON.parse(s.substring(S,r-Number(_))+'"')}catch{return JSON.parse(s.substring(S,s.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},p=()=>{r++,b();const S={};try{for(;s[r]!=="}";){if(b(),r>=a&&dt.OBJ&n)return S;const _=h();b(),r++;try{const C=d();Object.defineProperty(S,_,{value:C,writable:!0,enumerable:!0,configurable:!0})}catch(C){if(dt.OBJ&n)return S;throw C}b(),s[r]===","&&r++}}catch{if(dt.OBJ&n)return S;o("Expected '}' at end of object")}return r++,S},m=()=>{r++;const S=[];try{for(;s[r]!=="]";)S.push(d()),b(),s[r]===","&&r++}catch{if(dt.ARR&n)return S;o("Expected ']' at end of array")}return r++,S},y=()=>{if(r===0){s==="-"&&dt.NUM&n&&o("Not sure what '-' is");try{return JSON.parse(s)}catch(_){if(dt.NUM&n)try{return s[s.length-1]==="."?JSON.parse(s.substring(0,s.lastIndexOf("."))):JSON.parse(s.substring(0,s.lastIndexOf("e")))}catch{}c(String(_))}}const S=r;for(s[r]==="-"&&r++;s[r]&&!",]}".includes(s[r]);)r++;r==a&&!(dt.NUM&n)&&o("Unterminated number literal");try{return JSON.parse(s.substring(S,r))}catch{s.substring(S,r)==="-"&&dt.NUM&n&&o("Not sure what '-' is");try{return JSON.parse(s.substring(S,s.lastIndexOf("e")))}catch(C){c(String(C))}}},b=()=>{for(;r<a&&` 
\r	`.includes(s[r]);)r++};return d()},O1=s=>I5(s,dt.ALL^dt.NUM);var it,Hn,Yr,ya,Ff,Kl,Wf,ed,td,Zl,nd,D1;class Si extends t_{constructor(n){super(),it.add(this),Hn.set(this,void 0),Yr.set(this,void 0),ya.set(this,void 0),ye(this,Hn,n),ye(this,Yr,[])}get currentChatCompletionSnapshot(){return H(this,ya,"f")}static fromReadableStream(n){const a=new Si(null);return a._run(()=>a._fromReadableStream(n)),a}static createChatCompletion(n,a,r){const o=new Si(a);return o._run(()=>o._runChatCompletion(n,{...a,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(n,a,r){super._createChatCompletion;const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),H(this,it,"m",Ff).call(this);const c=await n.chat.completions.create({...a,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const d of c)H(this,it,"m",Wf).call(this,d);if(c.controller.signal?.aborted)throw new rn;return this._addChatCompletion(H(this,it,"m",Zl).call(this))}async _fromReadableStream(n,a){const r=a?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),H(this,it,"m",Ff).call(this),this._connected();const o=xn.fromReadableStream(n,this.controller);let c;for await(const d of o)c&&c!==d.id&&this._addChatCompletion(H(this,it,"m",Zl).call(this)),H(this,it,"m",Wf).call(this,d),c=d.id;if(o.controller.signal?.aborted)throw new rn;return this._addChatCompletion(H(this,it,"m",Zl).call(this))}[(Hn=new WeakMap,Yr=new WeakMap,ya=new WeakMap,it=new WeakSet,Ff=function(){this.ended||ye(this,ya,void 0)},Kl=function(a){let r=H(this,Yr,"f")[a.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},H(this,Yr,"f")[a.index]=r,r)},Wf=function(a){if(this.ended)return;const r=H(this,it,"m",D1).call(this,a);this._emit("chunk",a,r);for(const o of a.choices){const c=r.choices[o.index];o.delta.content!=null&&c.message?.role==="assistant"&&c.message?.content&&(this._emit("content",o.delta.content,c.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:c.message.content,parsed:c.message.parsed})),o.delta.refusal!=null&&c.message?.role==="assistant"&&c.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:c.message.refusal}),o.logprobs?.content!=null&&c.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:c.logprobs?.content??[]}),o.logprobs?.refusal!=null&&c.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:c.logprobs?.refusal??[]});const d=H(this,it,"m",Kl).call(this,c);c.finish_reason&&(H(this,it,"m",td).call(this,c),d.current_tool_call_index!=null&&H(this,it,"m",ed).call(this,c,d.current_tool_call_index));for(const h of o.delta.tool_calls??[])d.current_tool_call_index!==h.index&&(H(this,it,"m",td).call(this,c),d.current_tool_call_index!=null&&H(this,it,"m",ed).call(this,c,d.current_tool_call_index)),d.current_tool_call_index=h.index;for(const h of o.delta.tool_calls??[]){const p=c.message.tool_calls?.[h.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:h.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:h.function?.arguments??""}):(p?.type,void 0))}}},ed=function(a,r){if(H(this,it,"m",Kl).call(this,a).done_tool_calls.has(r))return;const c=a.message.tool_calls?.[r];if(!c)throw new Error("no tool call snapshot");if(!c.type)throw new Error("tool call snapshot missing `type`");if(c.type==="function"){const d=H(this,Hn,"f")?.tools?.find(h=>Ao(h)&&h.function.name===c.function.name);this._emit("tool_calls.function.arguments.done",{name:c.function.name,index:r,arguments:c.function.arguments,parsed_arguments:Ti(d)?d.$parseRaw(c.function.arguments):d?.function.strict?JSON.parse(c.function.arguments):null})}else c.type},td=function(a){const r=H(this,it,"m",Kl).call(this,a);if(a.message.content&&!r.content_done){r.content_done=!0;const o=H(this,it,"m",nd).call(this);this._emit("content.done",{content:a.message.content,parsed:o?o.$parseRaw(a.message.content):null})}a.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),a.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),a.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},Zl=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");const a=H(this,ya,"f");if(!a)throw new me("request ended without sending any chunks");return ye(this,ya,void 0),ye(this,Yr,[]),Q5(a,H(this,Hn,"f"))},nd=function(){const a=H(this,Hn,"f")?.response_format;return Qd(a)?a:null},D1=function(a){var r,o,c,d;let h=H(this,ya,"f");const{choices:p,...m}=a;h?Object.assign(h,m):h=ye(this,ya,{...m,choices:[]});for(const{delta:y,finish_reason:b,index:S,logprobs:_=null,...C}of a.choices){let M=h.choices[S];if(M||(M=h.choices[S]={finish_reason:b,index:S,message:{},logprobs:_,...C}),_)if(!M.logprobs)M.logprobs=Object.assign({},_);else{const{content:D,refusal:T,...N}=_;Object.assign(M.logprobs,N),D&&((r=M.logprobs).content??(r.content=[]),M.logprobs.content.push(...D)),T&&((o=M.logprobs).refusal??(o.refusal=[]),M.logprobs.refusal.push(...T))}if(b&&(M.finish_reason=b,H(this,Hn,"f")&&Kb(H(this,Hn,"f")))){if(b==="length")throw new Db;if(b==="content_filter")throw new Nb}if(Object.assign(M,C),!y)continue;const{content:U,refusal:A,function_call:R,role:B,tool_calls:I,...$}=y;if(Object.assign(M.message,$),A&&(M.message.refusal=(M.message.refusal||"")+A),B&&(M.message.role=B),R&&(M.message.function_call?(R.name&&(M.message.function_call.name=R.name),R.arguments&&((c=M.message.function_call).arguments??(c.arguments=""),M.message.function_call.arguments+=R.arguments)):M.message.function_call=R),U&&(M.message.content=(M.message.content||"")+U,!M.message.refusal&&H(this,it,"m",nd).call(this)&&(M.message.parsed=O1(M.message.content))),I){M.message.tool_calls||(M.message.tool_calls=[]);for(const{index:D,id:T,type:N,function:q,...L}of I){const P=(d=M.message.tool_calls)[D]??(d[D]={});Object.assign(P,L),T&&(P.id=T),N&&(P.type=N),q&&(P.function??(P.function={name:q.name??"",arguments:""})),q?.name&&(P.function.name=q.name),q?.arguments&&(P.function.arguments+=q.arguments,$5(H(this,Hn,"f"),P)&&(P.function.parsed_arguments=O1(P.function.arguments)))}}}return h},Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("chunk",o=>{const c=a.shift();c?c.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const c of a)c.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const c of a)c.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((c,d)=>a.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new xn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Q5(s,n){const{id:a,choices:r,created:o,model:c,system_fingerprint:d,...h}=s,p={...h,id:a,choices:r.map(({message:m,finish_reason:y,index:b,logprobs:S,..._})=>{if(!y)throw new me(`missing finish_reason for choice ${b}`);const{content:C=null,function_call:M,tool_calls:U,...A}=m,R=m.role;if(!R)throw new me(`missing role for choice ${b}`);if(M){const{arguments:B,name:I}=M;if(B==null)throw new me(`missing function_call.arguments for choice ${b}`);if(!I)throw new me(`missing function_call.name for choice ${b}`);return{..._,message:{content:C,function_call:{arguments:B,name:I},role:R,refusal:m.refusal??null},finish_reason:y,index:b,logprobs:S}}return U?{..._,index:b,finish_reason:y,logprobs:S,message:{...A,role:R,content:C,refusal:m.refusal??null,tool_calls:U.map((B,I)=>{const{function:$,type:D,id:T,...N}=B,{arguments:q,name:L,...P}=$||{};if(T==null)throw new me(`missing choices[${b}].tool_calls[${I}].id
${Jl(s)}`);if(D==null)throw new me(`missing choices[${b}].tool_calls[${I}].type
${Jl(s)}`);if(L==null)throw new me(`missing choices[${b}].tool_calls[${I}].function.name
${Jl(s)}`);if(q==null)throw new me(`missing choices[${b}].tool_calls[${I}].function.arguments
${Jl(s)}`);return{...N,id:T,type:D,function:{...P,name:L,arguments:q}}})}}:{..._,message:{...A,content:C,role:R,refusal:m.refusal??null},finish_reason:y,index:b,logprobs:S}}),created:o,model:c,object:"chat.completion",...d?{system_fingerprint:d}:{}};return U5(p,n)}function Jl(s){return JSON.stringify(s)}class No extends Si{static fromReadableStream(n){const a=new No(null);return a._run(()=>a._fromReadableStream(n)),a}static runTools(n,a,r){const o=new No(a),c={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(n,a,c)),o}}let Fd=class extends _e{constructor(){super(...arguments),this.messages=new Qb(this._client)}create(n,a){return this._client.post("/chat/completions",{body:n,...a,stream:n.stream??!1})}retrieve(n,a){return this._client.get(ae`/chat/completions/${n}`,a)}update(n,a,r){return this._client.post(ae`/chat/completions/${n}`,{body:a,...r})}list(n={},a){return this._client.getAPIList("/chat/completions",at,{query:n,...a})}delete(n,a){return this._client.delete(ae`/chat/completions/${n}`,a)}parse(n,a){return q5(n.tools),this._client.chat.completions.create(n,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Kd(r,n))}runTools(n,a){return n.stream?No.runTools(this._client,n,a):Jd.runTools(this._client,n,a)}stream(n,a){return Si.createChatCompletion(this._client,n,a)}};Fd.Messages=Qb;class Wd extends _e{constructor(){super(...arguments),this.completions=new Fd(this._client)}}Wd.Completions=Fd;const m_=Symbol("brand.privateNullableHeaders");function*K5(s){if(!s)return;if(m_ in s){const{values:r,nulls:o}=s;yield*r.entries();for(const c of o)yield[c,null];return}let n=!1,a;s instanceof Headers?a=s.entries():g1(s)?a=s:(n=!0,a=Object.entries(s??{}));for(let r of a){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const c=g1(r[1])?r[1]:[r[1]];let d=!1;for(const h of c)h!==void 0&&(n&&!d&&(d=!0,yield[o,null]),yield[o,h])}}const fe=s=>{const n=new Headers,a=new Set;for(const r of s){const o=new Set;for(const[c,d]of K5(r)){const h=c.toLowerCase();o.has(h)||(n.delete(c),o.add(h)),d===null?(n.delete(c),a.add(h)):(n.append(c,d),a.delete(h))}}return{[m_]:!0,values:n,nulls:a}};class g_ extends _e{create(n,a){return this._client.post("/audio/speech",{body:n,...a,headers:fe([{Accept:"application/octet-stream"},a?.headers]),__binaryResponse:!0})}}class y_ extends _e{create(n,a){return this._client.post("/audio/transcriptions",Qa({body:n,...a,stream:n.stream??!1,__metadata:{model:n.model}},this._client))}}class b_ extends _e{create(n,a){return this._client.post("/audio/translations",Qa({body:n,...a,__metadata:{model:n.model}},this._client))}}class Ri extends _e{constructor(){super(...arguments),this.transcriptions=new y_(this._client),this.translations=new b_(this._client),this.speech=new g_(this._client)}}Ri.Transcriptions=y_;Ri.Translations=b_;Ri.Speech=g_;class __ extends _e{create(n,a){return this._client.post("/batches",{body:n,...a})}retrieve(n,a){return this._client.get(ae`/batches/${n}`,a)}list(n={},a){return this._client.getAPIList("/batches",at,{query:n,...a})}cancel(n,a){return this._client.post(ae`/batches/${n}/cancel`,a)}}class v_ extends _e{create(n,a){return this._client.post("/assistants",{body:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}retrieve(n,a){return this._client.get(ae`/assistants/${n}`,{...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}update(n,a,r){return this._client.post(ae`/assistants/${n}`,{body:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n={},a){return this._client.getAPIList("/assistants",at,{query:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}delete(n,a){return this._client.delete(ae`/assistants/${n}`,{...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}}class S_ extends _e{create(n,a){return this._client.post("/realtime/sessions",{body:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}}class C_ extends _e{create(n,a){return this._client.post("/realtime/transcription_sessions",{body:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}}class Yo extends _e{constructor(){super(...arguments),this.sessions=new S_(this._client),this.transcriptionSessions=new C_(this._client)}}Yo.Sessions=S_;Yo.TranscriptionSessions=C_;class x_ extends _e{create(n,a,r){return this._client.post(ae`/threads/${n}/messages`,{body:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(n,a,r){const{thread_id:o}=a;return this._client.get(ae`/threads/${o}/messages/${n}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(n,a,r){const{thread_id:o,...c}=a;return this._client.post(ae`/threads/${o}/messages/${n}`,{body:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a={},r){return this._client.getAPIList(ae`/threads/${n}/messages`,at,{query:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(n,a,r){const{thread_id:o}=a;return this._client.delete(ae`/threads/${o}/messages/${n}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class T_ extends _e{retrieve(n,a,r){const{thread_id:o,run_id:c,...d}=a;return this._client.get(ae`/threads/${o}/runs/${c}/steps/${n}`,{query:d,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a,r){const{thread_id:o,...c}=a;return this._client.getAPIList(ae`/threads/${o}/runs/${n}/steps`,at,{query:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}const Z5=s=>{if(typeof Buffer<"u"){const n=Buffer.from(s,"base64");return Array.from(new Float32Array(n.buffer,n.byteOffset,n.length/Float32Array.BYTES_PER_ELEMENT))}else{const n=atob(s),a=n.length,r=new Uint8Array(a);for(let o=0;o<a;o++)r[o]=n.charCodeAt(o);return Array.from(new Float32Array(r.buffer))}};var J5={};const Gr=s=>{if(typeof globalThis.process<"u")return J5?.[s]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(s)?.trim()};var yt,Xa,Ed,Cn,ho,fn,Ia,Kr,Ga,ko,Qt,po,mo,yi,pi,mi,N1,k1,j1,B1,U1,z1,L1;class bi extends Zd{constructor(){super(...arguments),yt.add(this),Ed.set(this,[]),Cn.set(this,{}),ho.set(this,{}),fn.set(this,void 0),Ia.set(this,void 0),Kr.set(this,void 0),Ga.set(this,void 0),ko.set(this,void 0),Qt.set(this,void 0),po.set(this,void 0),mo.set(this,void 0),yi.set(this,void 0)}[(Ed=new WeakMap,Cn=new WeakMap,ho=new WeakMap,fn=new WeakMap,Ia=new WeakMap,Kr=new WeakMap,Ga=new WeakMap,ko=new WeakMap,Qt=new WeakMap,po=new WeakMap,mo=new WeakMap,yi=new WeakMap,yt=new WeakSet,Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("event",o=>{const c=a.shift();c?c.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const c of a)c.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const c of a)c.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((c,d)=>a.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(n){const a=new Xa;return a._run(()=>a._fromReadableStream(n)),a}async _fromReadableStream(n,a){const r=a?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=xn.fromReadableStream(n,this.controller);for await(const c of o)H(this,yt,"m",pi).call(this,c);if(o.controller.signal?.aborted)throw new rn;return this._addRun(H(this,yt,"m",mi).call(this))}toReadableStream(){return new xn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(n,a,r,o){const c=new Xa;return c._run(()=>c._runToolAssistantStream(n,a,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createToolAssistantStream(n,a,r,o){const c=o?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const d={...r,stream:!0},h=await n.submitToolOutputs(a,d,{...o,signal:this.controller.signal});this._connected();for await(const p of h)H(this,yt,"m",pi).call(this,p);if(h.controller.signal?.aborted)throw new rn;return this._addRun(H(this,yt,"m",mi).call(this))}static createThreadAssistantStream(n,a,r){const o=new Xa;return o._run(()=>o._threadAssistantStream(n,a,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(n,a,r,o){const c=new Xa;return c._run(()=>c._runAssistantStream(n,a,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),c}currentEvent(){return H(this,po,"f")}currentRun(){return H(this,mo,"f")}currentMessageSnapshot(){return H(this,fn,"f")}currentRunStepSnapshot(){return H(this,yi,"f")}async finalRunSteps(){return await this.done(),Object.values(H(this,Cn,"f"))}async finalMessages(){return await this.done(),Object.values(H(this,ho,"f"))}async finalRun(){if(await this.done(),!H(this,Ia,"f"))throw Error("Final run was not received.");return H(this,Ia,"f")}async _createThreadAssistantStream(n,a,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const c={...a,stream:!0},d=await n.createAndRun(c,{...r,signal:this.controller.signal});this._connected();for await(const h of d)H(this,yt,"m",pi).call(this,h);if(d.controller.signal?.aborted)throw new rn;return this._addRun(H(this,yt,"m",mi).call(this))}async _createAssistantStream(n,a,r,o){const c=o?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const d={...r,stream:!0},h=await n.create(a,d,{...o,signal:this.controller.signal});this._connected();for await(const p of h)H(this,yt,"m",pi).call(this,p);if(h.controller.signal?.aborted)throw new rn;return this._addRun(H(this,yt,"m",mi).call(this))}static accumulateDelta(n,a){for(const[r,o]of Object.entries(a)){if(!n.hasOwnProperty(r)){n[r]=o;continue}let c=n[r];if(c==null){n[r]=o;continue}if(r==="index"||r==="type"){n[r]=o;continue}if(typeof c=="string"&&typeof o=="string")c+=o;else if(typeof c=="number"&&typeof o=="number")c+=o;else if(Kf(c)&&Kf(o))c=this.accumulateDelta(c,o);else if(Array.isArray(c)&&Array.isArray(o)){if(c.every(d=>typeof d=="string"||typeof d=="number")){c.push(...o);continue}for(const d of o){if(!Kf(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const h=d.index;if(h==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof h!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${h}`);const p=c[h];p==null?c.push(d):c[h]=this.accumulateDelta(p,d)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${c}`);n[r]=c}return n}_addRun(n){return n}async _threadAssistantStream(n,a,r){return await this._createThreadAssistantStream(a,n,r)}async _runAssistantStream(n,a,r,o){return await this._createAssistantStream(a,n,r,o)}async _runToolAssistantStream(n,a,r,o){return await this._createToolAssistantStream(a,n,r,o)}}Xa=bi,pi=function(n){if(!this.ended)switch(ye(this,po,n),H(this,yt,"m",j1).call(this,n),n.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":H(this,yt,"m",L1).call(this,n);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":H(this,yt,"m",k1).call(this,n);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":H(this,yt,"m",N1).call(this,n);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},mi=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");if(!H(this,Ia,"f"))throw Error("Final run has not been received");return H(this,Ia,"f")},N1=function(n){const[a,r]=H(this,yt,"m",U1).call(this,n,H(this,fn,"f"));ye(this,fn,a),H(this,ho,"f")[a.id]=a;for(const o of r){const c=a.content[o.index];c?.type=="text"&&this._emit("textCreated",c.text)}switch(n.event){case"thread.message.created":this._emit("messageCreated",n.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",n.data.delta,a),n.data.delta.content)for(const o of n.data.delta.content){if(o.type=="text"&&o.text){let c=o.text,d=a.content[o.index];if(d&&d.type=="text")this._emit("textDelta",c,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=H(this,Kr,"f")){if(H(this,Ga,"f"))switch(H(this,Ga,"f").type){case"text":this._emit("textDone",H(this,Ga,"f").text,H(this,fn,"f"));break;case"image_file":this._emit("imageFileDone",H(this,Ga,"f").image_file,H(this,fn,"f"));break}ye(this,Kr,o.index)}ye(this,Ga,a.content[o.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(H(this,Kr,"f")!==void 0){const o=n.data.content[H(this,Kr,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,H(this,fn,"f"));break;case"text":this._emit("textDone",o.text,H(this,fn,"f"));break}}H(this,fn,"f")&&this._emit("messageDone",n.data),ye(this,fn,void 0)}},k1=function(n){const a=H(this,yt,"m",B1).call(this,n);switch(ye(this,yi,a),n.event){case"thread.run.step.created":this._emit("runStepCreated",n.data);break;case"thread.run.step.delta":const r=n.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const c of r.step_details.tool_calls)c.index==H(this,ko,"f")?this._emit("toolCallDelta",c,a.step_details.tool_calls[c.index]):(H(this,Qt,"f")&&this._emit("toolCallDone",H(this,Qt,"f")),ye(this,ko,c.index),ye(this,Qt,a.step_details.tool_calls[c.index]),H(this,Qt,"f")&&this._emit("toolCallCreated",H(this,Qt,"f")));this._emit("runStepDelta",n.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ye(this,yi,void 0),n.data.step_details.type=="tool_calls"&&H(this,Qt,"f")&&(this._emit("toolCallDone",H(this,Qt,"f")),ye(this,Qt,void 0)),this._emit("runStepDone",n.data,a);break}},j1=function(n){H(this,Ed,"f").push(n),this._emit("event",n)},B1=function(n){switch(n.event){case"thread.run.step.created":return H(this,Cn,"f")[n.data.id]=n.data,n.data;case"thread.run.step.delta":let a=H(this,Cn,"f")[n.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let r=n.data;if(r.delta){const o=Xa.accumulateDelta(a,r.delta);H(this,Cn,"f")[n.data.id]=o}return H(this,Cn,"f")[n.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":H(this,Cn,"f")[n.data.id]=n.data;break}if(H(this,Cn,"f")[n.data.id])return H(this,Cn,"f")[n.data.id];throw new Error("No snapshot available")},U1=function(n,a){let r=[];switch(n.event){case"thread.message.created":return[n.data,r];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=n.data;if(o.delta.content)for(const c of o.delta.content)if(c.index in a.content){let d=a.content[c.index];a.content[c.index]=H(this,yt,"m",z1).call(this,c,d)}else a.content[c.index]=c,r.push(c);return[a,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},z1=function(n,a){return Xa.accumulateDelta(a,n)},L1=function(n){switch(ye(this,mo,n.data),n.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ye(this,Ia,n.data),H(this,Qt,"f")&&(this._emit("toolCallDone",H(this,Qt,"f")),ye(this,Qt,void 0));break}};let eh=class extends _e{constructor(){super(...arguments),this.steps=new T_(this._client)}create(n,a,r){const{include:o,...c}=a;return this._client.post(ae`/threads/${n}/runs`,{query:{include:o},body:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:a.stream??!1})}retrieve(n,a,r){const{thread_id:o}=a;return this._client.get(ae`/threads/${o}/runs/${n}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(n,a,r){const{thread_id:o,...c}=a;return this._client.post(ae`/threads/${o}/runs/${n}`,{body:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a={},r){return this._client.getAPIList(ae`/threads/${n}/runs`,at,{query:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(n,a,r){const{thread_id:o}=a;return this._client.post(ae`/threads/${o}/runs/${n}/cancel`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a,r);return await this.poll(o.id,{thread_id:n},r)}createAndStream(n,a,r){return bi.createAssistantStream(n,this._client.beta.threads.runs,a,r)}async poll(n,a,r){const o=fe([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:c,response:d}=await this.retrieve(n,a,{...r,headers:{...r?.headers,...o}}).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let h=5e3;if(r?.pollIntervalMs)h=r.pollIntervalMs;else{const p=d.headers.get("openai-poll-after-ms");if(p){const m=parseInt(p);isNaN(m)||(h=m)}}await xi(h);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}}stream(n,a,r){return bi.createAssistantStream(n,this._client.beta.threads.runs,a,r)}submitToolOutputs(n,a,r){const{thread_id:o,...c}=a;return this._client.post(ae`/threads/${o}/runs/${n}/submit_tool_outputs`,{body:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:a.stream??!1})}async submitToolOutputsAndPoll(n,a,r){const o=await this.submitToolOutputs(n,a,r);return await this.poll(o.id,a,r)}submitToolOutputsStream(n,a,r){return bi.createToolAssistantStream(n,this._client.beta.threads.runs,a,r)}};eh.Steps=T_;class Go extends _e{constructor(){super(...arguments),this.runs=new eh(this._client),this.messages=new x_(this._client)}create(n={},a){return this._client.post("/threads",{body:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}retrieve(n,a){return this._client.get(ae`/threads/${n}`,{...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}update(n,a,r){return this._client.post(ae`/threads/${n}`,{body:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(n,a){return this._client.delete(ae`/threads/${n}`,{...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}createAndRun(n,a){return this._client.post("/threads/runs",{body:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers]),stream:n.stream??!1})}async createAndRunPoll(n,a){const r=await this.createAndRun(n,a);return await this.runs.poll(r.id,{thread_id:r.thread_id},a)}createAndRunStream(n,a){return bi.createThreadAssistantStream(n,this._client.beta.threads,a)}}Go.Runs=eh;Go.Messages=x_;class Ei extends _e{constructor(){super(...arguments),this.realtime=new Yo(this._client),this.assistants=new v_(this._client),this.threads=new Go(this._client)}}Ei.Realtime=Yo;Ei.Assistants=v_;Ei.Threads=Go;class R_ extends _e{create(n,a){return this._client.post("/completions",{body:n,...a,stream:n.stream??!1})}}class E_ extends _e{retrieve(n,a,r){const{container_id:o}=a;return this._client.get(ae`/containers/${o}/files/${n}/content`,{...r,headers:fe([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}let th=class extends _e{constructor(){super(...arguments),this.content=new E_(this._client)}create(n,a,r){return this._client.post(ae`/containers/${n}/files`,Qa({body:a,...r},this._client))}retrieve(n,a,r){const{container_id:o}=a;return this._client.get(ae`/containers/${o}/files/${n}`,r)}list(n,a={},r){return this._client.getAPIList(ae`/containers/${n}/files`,at,{query:a,...r})}delete(n,a,r){const{container_id:o}=a;return this._client.delete(ae`/containers/${o}/files/${n}`,{...r,headers:fe([{Accept:"*/*"},r?.headers])})}};th.Content=E_;class nh extends _e{constructor(){super(...arguments),this.files=new th(this._client)}create(n,a){return this._client.post("/containers",{body:n,...a})}retrieve(n,a){return this._client.get(ae`/containers/${n}`,a)}list(n={},a){return this._client.getAPIList("/containers",at,{query:n,...a})}delete(n,a){return this._client.delete(ae`/containers/${n}`,{...a,headers:fe([{Accept:"*/*"},a?.headers])})}}nh.Files=th;class A_ extends _e{create(n,a){const r=!!n.encoding_format;let o=r?n.encoding_format:"base64";r&&gt(this._client).debug("embeddings/user defined encoding_format:",n.encoding_format);const c=this._client.post("/embeddings",{body:{...n,encoding_format:o},...a});return r?c:(gt(this._client).debug("embeddings/decoding base64 embeddings from base64"),c._thenUnwrap(d=>(d&&d.data&&d.data.forEach(h=>{const p=h.embedding;h.embedding=Z5(p)}),d)))}}class w_ extends _e{retrieve(n,a,r){const{eval_id:o,run_id:c}=a;return this._client.get(ae`/evals/${o}/runs/${c}/output_items/${n}`,r)}list(n,a,r){const{eval_id:o,...c}=a;return this._client.getAPIList(ae`/evals/${o}/runs/${n}/output_items`,at,{query:c,...r})}}class ah extends _e{constructor(){super(...arguments),this.outputItems=new w_(this._client)}create(n,a,r){return this._client.post(ae`/evals/${n}/runs`,{body:a,...r})}retrieve(n,a,r){const{eval_id:o}=a;return this._client.get(ae`/evals/${o}/runs/${n}`,r)}list(n,a={},r){return this._client.getAPIList(ae`/evals/${n}/runs`,at,{query:a,...r})}delete(n,a,r){const{eval_id:o}=a;return this._client.delete(ae`/evals/${o}/runs/${n}`,r)}cancel(n,a,r){const{eval_id:o}=a;return this._client.post(ae`/evals/${o}/runs/${n}`,r)}}ah.OutputItems=w_;class rh extends _e{constructor(){super(...arguments),this.runs=new ah(this._client)}create(n,a){return this._client.post("/evals",{body:n,...a})}retrieve(n,a){return this._client.get(ae`/evals/${n}`,a)}update(n,a,r){return this._client.post(ae`/evals/${n}`,{body:a,...r})}list(n={},a){return this._client.getAPIList("/evals",at,{query:n,...a})}delete(n,a){return this._client.delete(ae`/evals/${n}`,a)}}rh.Runs=ah;let M_=class extends _e{create(n,a){return this._client.post("/files",Qa({body:n,...a},this._client))}retrieve(n,a){return this._client.get(ae`/files/${n}`,a)}list(n={},a){return this._client.getAPIList("/files",at,{query:n,...a})}delete(n,a){return this._client.delete(ae`/files/${n}`,a)}content(n,a){return this._client.get(ae`/files/${n}/content`,{...a,headers:fe([{Accept:"application/binary"},a?.headers]),__binaryResponse:!0})}async waitForProcessing(n,{pollInterval:a=5e3,maxWait:r=1800*1e3}={}){const o=new Set(["processed","error","deleted"]),c=Date.now();let d=await this.retrieve(n);for(;!d.status||!o.has(d.status);)if(await xi(a),d=await this.retrieve(n),Date.now()-c>r)throw new Id({message:`Giving up on waiting for file ${n} to finish processing after ${r} milliseconds.`});return d}};class O_ extends _e{}let D_=class extends _e{run(n,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:n,...a})}validate(n,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:n,...a})}};class sh extends _e{constructor(){super(...arguments),this.graders=new D_(this._client)}}sh.Graders=D_;class N_ extends _e{create(n,a,r){return this._client.getAPIList(ae`/fine_tuning/checkpoints/${n}/permissions`,Po,{body:a,method:"post",...r})}retrieve(n,a={},r){return this._client.get(ae`/fine_tuning/checkpoints/${n}/permissions`,{query:a,...r})}delete(n,a,r){const{fine_tuned_model_checkpoint:o}=a;return this._client.delete(ae`/fine_tuning/checkpoints/${o}/permissions/${n}`,r)}}let ih=class extends _e{constructor(){super(...arguments),this.permissions=new N_(this._client)}};ih.Permissions=N_;class k_ extends _e{list(n,a={},r){return this._client.getAPIList(ae`/fine_tuning/jobs/${n}/checkpoints`,at,{query:a,...r})}}class lh extends _e{constructor(){super(...arguments),this.checkpoints=new k_(this._client)}create(n,a){return this._client.post("/fine_tuning/jobs",{body:n,...a})}retrieve(n,a){return this._client.get(ae`/fine_tuning/jobs/${n}`,a)}list(n={},a){return this._client.getAPIList("/fine_tuning/jobs",at,{query:n,...a})}cancel(n,a){return this._client.post(ae`/fine_tuning/jobs/${n}/cancel`,a)}listEvents(n,a={},r){return this._client.getAPIList(ae`/fine_tuning/jobs/${n}/events`,at,{query:a,...r})}pause(n,a){return this._client.post(ae`/fine_tuning/jobs/${n}/pause`,a)}resume(n,a){return this._client.post(ae`/fine_tuning/jobs/${n}/resume`,a)}}lh.Checkpoints=k_;class as extends _e{constructor(){super(...arguments),this.methods=new O_(this._client),this.jobs=new lh(this._client),this.checkpoints=new ih(this._client),this.alpha=new sh(this._client)}}as.Methods=O_;as.Jobs=lh;as.Checkpoints=ih;as.Alpha=sh;class j_ extends _e{}class oh extends _e{constructor(){super(...arguments),this.graderModels=new j_(this._client)}}oh.GraderModels=j_;class B_ extends _e{createVariation(n,a){return this._client.post("/images/variations",Qa({body:n,...a},this._client))}edit(n,a){return this._client.post("/images/edits",Qa({body:n,...a,stream:n.stream??!1},this._client))}generate(n,a){return this._client.post("/images/generations",{body:n,...a,stream:n.stream??!1})}}class U_ extends _e{retrieve(n,a){return this._client.get(ae`/models/${n}`,a)}list(n){return this._client.getAPIList("/models",Po,n)}delete(n,a){return this._client.delete(ae`/models/${n}`,a)}}class z_ extends _e{create(n,a){return this._client.post("/moderations",{body:n,...a})}}function F5(s,n){return!n||!e6(n)?{...s,output_parsed:null,output:s.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(r=>({...r,parsed:null}))}:a)}:L_(s,n)}function L_(s,n){const a=s.output.map(o=>{if(o.type==="function_call")return{...o,parsed_arguments:a6(n,o)};if(o.type==="message"){const c=o.content.map(d=>d.type==="output_text"?{...d,parsed:W5(n,d.text)}:d);return{...o,content:c}}return o}),r=Object.assign({},s,{output:a});return Object.getOwnPropertyDescriptor(s,"output_text")||Ad(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const o of r.output)if(o.type==="message"){for(const c of o.content)if(c.type==="output_text"&&c.parsed!==null)return c.parsed}return null}}),r}function W5(s,n){return s.text?.format?.type!=="json_schema"?null:"$parseRaw"in s.text?.format?(s.text?.format).$parseRaw(n):JSON.parse(n)}function e6(s){return!!Qd(s.text?.format)}function t6(s){return s?.$brand==="auto-parseable-tool"}function n6(s,n){return s.find(a=>a.type==="function"&&a.name===n)}function a6(s,n){const a=n6(s.tools??[],n.name);return{...n,...n,parsed_arguments:t6(a)?a.$parseRaw(n.arguments):a?.strict?JSON.parse(n.arguments):null}}function Ad(s){const n=[];for(const a of s.output)if(a.type==="message")for(const r of a.content)r.type==="output_text"&&n.push(r.text);s.output_text=n.join("")}var Xr,Fl,ba,Wl,$1,q1,H1,P1;class ch extends Zd{constructor(n){super(),Xr.add(this),Fl.set(this,void 0),ba.set(this,void 0),Wl.set(this,void 0),ye(this,Fl,n)}static createResponse(n,a,r){const o=new ch(a);return o._run(()=>o._createOrRetrieveResponse(n,a,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createOrRetrieveResponse(n,a,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),H(this,Xr,"m",$1).call(this);let c,d=null;"response_id"in a?(c=await n.responses.retrieve(a.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),d=a.starting_after??null):c=await n.responses.create({...a,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const h of c)H(this,Xr,"m",q1).call(this,h,d);if(c.controller.signal?.aborted)throw new rn;return H(this,Xr,"m",H1).call(this)}[(Fl=new WeakMap,ba=new WeakMap,Wl=new WeakMap,Xr=new WeakSet,$1=function(){this.ended||ye(this,ba,void 0)},q1=function(a,r){if(this.ended)return;const o=(d,h)=>{(r==null||h.sequence_number>r)&&this._emit(d,h)},c=H(this,Xr,"m",P1).call(this,a);switch(o("event",a),a.type){case"response.output_text.delta":{const d=c.output[a.output_index];if(!d)throw new me(`missing output at index ${a.output_index}`);if(d.type==="message"){const h=d.content[a.content_index];if(!h)throw new me(`missing content at index ${a.content_index}`);if(h.type!=="output_text")throw new me(`expected content to be 'output_text', got ${h.type}`);o("response.output_text.delta",{...a,snapshot:h.text})}break}case"response.function_call_arguments.delta":{const d=c.output[a.output_index];if(!d)throw new me(`missing output at index ${a.output_index}`);d.type==="function_call"&&o("response.function_call_arguments.delta",{...a,snapshot:d.arguments});break}default:o(a.type,a);break}},H1=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");const a=H(this,ba,"f");if(!a)throw new me("request ended without sending any events");ye(this,ba,void 0);const r=r6(a,H(this,Fl,"f"));return ye(this,Wl,r),r},P1=function(a){let r=H(this,ba,"f");if(!r){if(a.type!=="response.created")throw new me(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return r=ye(this,ba,a.response),r}switch(a.type){case"response.output_item.added":{r.output.push(a.item);break}case"response.content_part.added":{const o=r.output[a.output_index];if(!o)throw new me(`missing output at index ${a.output_index}`);o.type==="message"&&o.content.push(a.part);break}case"response.output_text.delta":{const o=r.output[a.output_index];if(!o)throw new me(`missing output at index ${a.output_index}`);if(o.type==="message"){const c=o.content[a.content_index];if(!c)throw new me(`missing content at index ${a.content_index}`);if(c.type!=="output_text")throw new me(`expected content to be 'output_text', got ${c.type}`);c.text+=a.delta}break}case"response.function_call_arguments.delta":{const o=r.output[a.output_index];if(!o)throw new me(`missing output at index ${a.output_index}`);o.type==="function_call"&&(o.arguments+=a.delta);break}case"response.completed":{ye(this,ba,a.response);break}}return r},Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("event",o=>{const c=a.shift();c?c.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const c of a)c.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const c of a)c.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((c,d)=>a.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const n=H(this,Wl,"f");if(!n)throw new me("stream ended without producing a ChatCompletion");return n}}function r6(s,n){return F5(s,n)}class $_ extends _e{list(n,a={},r){return this._client.getAPIList(ae`/responses/${n}/input_items`,at,{query:a,...r})}}class uh extends _e{constructor(){super(...arguments),this.inputItems=new $_(this._client)}create(n,a){return this._client.post("/responses",{body:n,...a,stream:n.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Ad(r),r))}retrieve(n,a={},r){return this._client.get(ae`/responses/${n}`,{query:a,...r,stream:a?.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Ad(o),o))}delete(n,a){return this._client.delete(ae`/responses/${n}`,{...a,headers:fe([{Accept:"*/*"},a?.headers])})}parse(n,a){return this._client.responses.create(n,a)._thenUnwrap(r=>L_(r,n))}stream(n,a){return ch.createResponse(this._client,n,a)}cancel(n,a){return this._client.post(ae`/responses/${n}/cancel`,a)}}uh.InputItems=$_;class q_ extends _e{create(n,a,r){return this._client.post(ae`/uploads/${n}/parts`,Qa({body:a,...r},this._client))}}class fh extends _e{constructor(){super(...arguments),this.parts=new q_(this._client)}create(n,a){return this._client.post("/uploads",{body:n,...a})}cancel(n,a){return this._client.post(ae`/uploads/${n}/cancel`,a)}complete(n,a,r){return this._client.post(ae`/uploads/${n}/complete`,{body:a,...r})}}fh.Parts=q_;const s6=async s=>{const n=await Promise.allSettled(s),a=n.filter(o=>o.status==="rejected");if(a.length){for(const o of a)console.error(o.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const r=[];for(const o of n)o.status==="fulfilled"&&r.push(o.value);return r};class H_ extends _e{create(n,a,r){return this._client.post(ae`/vector_stores/${n}/file_batches`,{body:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(n,a,r){const{vector_store_id:o}=a;return this._client.get(ae`/vector_stores/${o}/file_batches/${n}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(n,a,r){const{vector_store_id:o}=a;return this._client.post(ae`/vector_stores/${o}/file_batches/${n}/cancel`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a);return await this.poll(n,o.id,r)}listFiles(n,a,r){const{vector_store_id:o,...c}=a;return this._client.getAPIList(ae`/vector_stores/${o}/file_batches/${n}/files`,at,{query:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(n,a,r){const o=fe([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:c,response:d}=await this.retrieve(a,{vector_store_id:n},{...r,headers:o}).withResponse();switch(c.status){case"in_progress":let h=5e3;if(r?.pollIntervalMs)h=r.pollIntervalMs;else{const p=d.headers.get("openai-poll-after-ms");if(p){const m=parseInt(p);isNaN(m)||(h=m)}}await xi(h);break;case"failed":case"cancelled":case"completed":return c}}}async uploadAndPoll(n,{files:a,fileIds:r=[]},o){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const c=o?.maxConcurrency??5,d=Math.min(c,a.length),h=this._client,p=a.values(),m=[...r];async function y(S){for(let _ of S){const C=await h.files.create({file:_,purpose:"assistants"},o);m.push(C.id)}}const b=Array(d).fill(p).map(y);return await s6(b),await this.createAndPoll(n,{file_ids:m})}}class P_ extends _e{create(n,a,r){return this._client.post(ae`/vector_stores/${n}/files`,{body:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(n,a,r){const{vector_store_id:o}=a;return this._client.get(ae`/vector_stores/${o}/files/${n}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(n,a,r){const{vector_store_id:o,...c}=a;return this._client.post(ae`/vector_stores/${o}/files/${n}`,{body:c,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a={},r){return this._client.getAPIList(ae`/vector_stores/${n}/files`,at,{query:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(n,a,r){const{vector_store_id:o}=a;return this._client.delete(ae`/vector_stores/${o}/files/${n}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a,r);return await this.poll(n,o.id,r)}async poll(n,a,r){const o=fe([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const c=await this.retrieve(a,{vector_store_id:n},{...r,headers:o}).withResponse(),d=c.data;switch(d.status){case"in_progress":let h=5e3;if(r?.pollIntervalMs)h=r.pollIntervalMs;else{const p=c.response.headers.get("openai-poll-after-ms");if(p){const m=parseInt(p);isNaN(m)||(h=m)}}await xi(h);break;case"failed":case"completed":return d}}}async upload(n,a,r){const o=await this._client.files.create({file:a,purpose:"assistants"},r);return this.create(n,{file_id:o.id},r)}async uploadAndPoll(n,a,r){const o=await this.upload(n,a,r);return await this.poll(n,o.id,r)}content(n,a,r){const{vector_store_id:o}=a;return this._client.getAPIList(ae`/vector_stores/${o}/files/${n}/content`,Po,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class Xo extends _e{constructor(){super(...arguments),this.files=new P_(this._client),this.fileBatches=new H_(this._client)}create(n,a){return this._client.post("/vector_stores",{body:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}retrieve(n,a){return this._client.get(ae`/vector_stores/${n}`,{...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}update(n,a,r){return this._client.post(ae`/vector_stores/${n}`,{body:a,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n={},a){return this._client.getAPIList("/vector_stores",at,{query:n,...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}delete(n,a){return this._client.delete(ae`/vector_stores/${n}`,{...a,headers:fe([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}search(n,a,r){return this._client.getAPIList(ae`/vector_stores/${n}/search`,Po,{body:a,method:"post",...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}Xo.Files=P_;Xo.FileBatches=H_;var Qr,Y_,go;class G_ extends _e{constructor(){super(...arguments),Qr.add(this)}async unwrap(n,a,r=this._client.webhookSecret,o=300){return await this.verifySignature(n,a,r,o),JSON.parse(n)}async verifySignature(n,a,r=this._client.webhookSecret,o=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");H(this,Qr,"m",Y_).call(this,r);const c=fe([a]).values,d=H(this,Qr,"m",go).call(this,c,"webhook-signature"),h=H(this,Qr,"m",go).call(this,c,"webhook-timestamp"),p=H(this,Qr,"m",go).call(this,c,"webhook-id"),m=parseInt(h,10);if(isNaN(m))throw new li("Invalid webhook timestamp format");const y=Math.floor(Date.now()/1e3);if(y-m>o)throw new li("Webhook timestamp is too old");if(m>y+o)throw new li("Webhook timestamp is too new");const b=d.split(" ").map(M=>M.startsWith("v1,")?M.substring(3):M),S=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),_=p?`${p}.${h}.${n}`:`${h}.${n}`,C=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const M of b)try{const U=Buffer.from(M,"base64");if(await crypto.subtle.verify("HMAC",C,U,new TextEncoder().encode(_)))return}catch{continue}throw new li("The given webhook signature does not match the expected signature")}}Qr=new WeakSet,Y_=function(n){if(typeof n!="string"||n.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},go=function(n,a){if(!n)throw new Error("Headers are required");const r=n.get(a);if(r==null)throw new Error(`Missing required header: ${a}`);return r};var wd,dh,yo,X_;class Oe{constructor({baseURL:n=Gr("OPENAI_BASE_URL"),apiKey:a=Gr("OPENAI_API_KEY"),organization:r=Gr("OPENAI_ORG_ID")??null,project:o=Gr("OPENAI_PROJECT_ID")??null,webhookSecret:c=Gr("OPENAI_WEBHOOK_SECRET")??null,...d}={}){if(wd.add(this),yo.set(this,void 0),this.completions=new R_(this),this.chat=new Wd(this),this.embeddings=new A_(this),this.files=new M_(this),this.images=new B_(this),this.audio=new Ri(this),this.moderations=new z_(this),this.models=new U_(this),this.fineTuning=new as(this),this.graders=new oh(this),this.vectorStores=new Xo(this),this.webhooks=new G_(this),this.beta=new Ei(this),this.batches=new __(this),this.uploads=new fh(this),this.responses=new uh(this),this.evals=new rh(this),this.containers=new nh(this),a===void 0)throw new me("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const h={apiKey:a,organization:r,project:o,webhookSecret:c,...d,baseURL:n||"https://api.openai.com/v1"};if(!h.dangerouslyAllowBrowser&&s5())throw new me(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=h.baseURL,this.timeout=h.timeout??dh.DEFAULT_TIMEOUT,this.logger=h.logger??console;const p="warn";this.logLevel=p,this.logLevel=E1(h.logLevel,"ClientOptions.logLevel",this)??E1(Gr("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=h.fetchOptions,this.maxRetries=h.maxRetries??2,this.fetch=h.fetch??u5(),ye(this,yo,d5),this._options=h,this.apiKey=a,this.organization=r,this.project=o,this.webhookSecret=c}withOptions(n){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...n})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:a}){}async authHeaders(n){return fe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(n){return b5(n,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ir}`}defaultIdempotencyKey(){return`stainless-node-retry-${Cb()}`}makeStatusError(n,a,r,o){return bt.generate(n,a,r,o)}buildURL(n,a,r){const o=!H(this,wd,"m",X_).call(this)&&r||this.baseURL,c=Wx(n)?new URL(n):new URL(o+(o.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),d=this.defaultQuery();return t5(d)||(a={...d,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(c.search=this.stringifyQuery(a)),c.toString()}async prepareOptions(n){}async prepareRequest(n,{url:a,options:r}){}get(n,a){return this.methodRequest("get",n,a)}post(n,a){return this.methodRequest("post",n,a)}patch(n,a){return this.methodRequest("patch",n,a)}put(n,a){return this.methodRequest("put",n,a)}delete(n,a){return this.methodRequest("delete",n,a)}methodRequest(n,a,r){return this.request(Promise.resolve(r).then(o=>({method:n,path:a,...o})))}request(n,a=null){return new Ho(this,this.makeRequest(n,a,void 0))}async makeRequest(n,a,r){const o=await n,c=o.maxRetries??this.maxRetries;a==null&&(a=c),await this.prepareOptions(o);const{req:d,url:h,timeout:p}=await this.buildRequest(o,{retryCount:c-a});await this.prepareRequest(d,{url:h,options:o});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(gt(this).debug(`[${m}] sending request`,Ya({retryOfRequestLogID:r,method:o.method,url:h,options:o,headers:d.headers})),o.signal?.aborted)throw new rn;const S=new AbortController,_=await this.fetchWithTimeout(h,d,p,S).catch(yd),C=Date.now();if(_ instanceof Error){const A=`retrying, ${a} attempts remaining`;if(o.signal?.aborted)throw new rn;const R=gd(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(a)return gt(this).info(`[${m}] connection ${R?"timed out":"failed"} - ${A}`),gt(this).debug(`[${m}] connection ${R?"timed out":"failed"} (${A})`,Ya({retryOfRequestLogID:r,url:h,durationMs:C-b,message:_.message})),this.retryRequest(o,a,r??m);throw gt(this).info(`[${m}] connection ${R?"timed out":"failed"} - error; no more retries left`),gt(this).debug(`[${m}] connection ${R?"timed out":"failed"} (error; no more retries left)`,Ya({retryOfRequestLogID:r,url:h,durationMs:C-b,message:_.message})),R?new Id:new $o({cause:_})}const M=[..._.headers.entries()].filter(([A])=>A==="x-request-id").map(([A,R])=>", "+A+": "+JSON.stringify(R)).join(""),U=`[${m}${y}${M}] ${d.method} ${h} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${C-b}ms`;if(!_.ok){const A=await this.shouldRetry(_);if(a&&A){const T=`retrying, ${a} attempts remaining`;return await f5(_.body),gt(this).info(`${U} - ${T}`),gt(this).debug(`[${m}] response error (${T})`,Ya({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:C-b})),this.retryRequest(o,a,r??m,_.headers)}const R=A?"error; no more retries left":"error; not retryable";gt(this).info(`${U} - ${R}`);const B=await _.text().catch(T=>yd(T).message),I=r5(B),$=I?void 0:B;throw gt(this).debug(`[${m}] response error (${R})`,Ya({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:$,durationMs:Date.now()-b})),this.makeStatusError(_.status,I,$,_.headers)}return gt(this).info(U),gt(this).debug(`[${m}] response start`,Ya({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:C-b})),{response:_,options:o,controller:S,requestLogID:m,retryOfRequestLogID:r,startTime:b}}getAPIList(n,a,r){return this.requestAPIList(a,{method:"get",path:n,...r})}requestAPIList(n,a){const r=this.makeRequest(a,null,void 0);return new A5(this,r,n)}async fetchWithTimeout(n,a,r,o){const{signal:c,method:d,...h}=a||{};c&&c.addEventListener("abort",()=>o.abort());const p=setTimeout(()=>o.abort(),r),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y={signal:o.signal,...m?{duplex:"half"}:{},method:"GET",...h};d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,n,y)}finally{clearTimeout(p)}}async shouldRetry(n){const a=n.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,a,r,o){let c;const d=o?.get("retry-after-ms");if(d){const p=parseFloat(d);Number.isNaN(p)||(c=p)}const h=o?.get("retry-after");if(h&&!c){const p=parseFloat(h);Number.isNaN(p)?c=Date.parse(h)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=n.maxRetries??this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(a,p)}return await xi(c),this.makeRequest(n,a-1,r)}calculateDefaultRetryTimeoutMillis(n,a){const c=a-n,d=Math.min(.5*Math.pow(2,c),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(n,{retryCount:a=0}={}){const r={...n},{method:o,path:c,query:d,defaultBaseURL:h}=r,p=this.buildURL(c,d,h);"timeout"in r&&a5("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:r}),b=await this.buildHeaders({options:n,method:o,bodyHeaders:m,retryCount:a});return{req:{method:o,headers:b,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"},...y&&{body:y},...this.fetchOptions??{},...r.fetchOptions??{}},url:p,timeout:r.timeout}}async buildHeaders({options:n,method:a,bodyHeaders:r,retryCount:o}){let c={};this.idempotencyHeader&&a!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=n.idempotencyKey);const d=fe([c,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{},...c5(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(n),this._options.defaultHeaders,r,n.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:n,headers:a}}){if(!n)return{bodyHeaders:void 0,body:void 0};const r=fe([a]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||n instanceof Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:jb(n)}:H(this,yo,"f").call(this,{body:n,headers:r})}}dh=Oe,yo=new WeakMap,wd=new WeakSet,X_=function(){return this.baseURL!=="https://api.openai.com/v1"};Oe.OpenAI=dh;Oe.DEFAULT_TIMEOUT=6e5;Oe.OpenAIError=me;Oe.APIError=bt;Oe.APIConnectionError=$o;Oe.APIConnectionTimeoutError=Id;Oe.APIUserAbortError=rn;Oe.NotFoundError=Eb;Oe.ConflictError=Ab;Oe.RateLimitError=Mb;Oe.BadRequestError=xb;Oe.AuthenticationError=Tb;Oe.InternalServerError=Ob;Oe.PermissionDeniedError=Rb;Oe.UnprocessableEntityError=wb;Oe.InvalidWebhookSignatureError=li;Oe.toFile=k5;Oe.Completions=R_;Oe.Chat=Wd;Oe.Embeddings=A_;Oe.Files=M_;Oe.Images=B_;Oe.Audio=Ri;Oe.Moderations=z_;Oe.Models=U_;Oe.FineTuning=as;Oe.Graders=oh;Oe.VectorStores=Xo;Oe.Webhooks=G_;Oe.Beta=Ei;Oe.Batches=__;Oe.Uploads=fh;Oe.Responses=uh;Oe.Evals=rh;Oe.Containers=nh;const i6=({showSettings:s,dice:n,keepDice:a,textRef:r})=>{const[o,c]=ie.useState(`You are a Yamb assistant.

Rules:
- The player has up to 3 rolls each turn (rollNumber 1 to 3).
- After each roll (except the last), the player can keep any dice they want and reroll the rest.
- "dice" includes all dice currently held and just rolled.
- On rolls 1 and 2, respond with dice to roll again.
- On roll 3, YOU MUST respond with the scoring category to select, OR ELSE YOU WILL BE TERMINATED.
- Use the provided "availableCells" list; "score" values are final scores, do NOT recalculate them. They are the current value, not the maximum possible value.
- Respond ONLY in JSON matching this format:
- Whenn keeping dice, all other dice are rolled again.

No extra text, no markdown, no explanations outside JSON.
`),d=`If choosing dice to keep (roll 1 or 2):
{
	"action": "keep",
	"diceToKeep": [array of integers],
	"reason": "short explanation"
}`,h=`If selecting a scoring category (roll 3):
{
	"action": "score",
	"category": { "row": string, "col": string },
	"reason": "short explanation"
}`,[p,m]=ie.useState("You are a Yamb assistant. Always respond only with strict JSON, as the user defines. Do not perform any calculations based on dice values. The values shown in availableCells are already final, pre-calculated totals. You must not recalculate them or second-guess them."),[y,b]=ie.useState("gpt-4o-mini"),{tabela:S,updateTabela:_}=ie.useContext(Uo),{gameState:C,setGameState:M}=ie.useContext(Bo),{broadcastMessage:U,sendMessageToNextPlayer:A}=Ci(),[R,B]=ie.useState(-1),I=()=>{let D={};D.game="Yamb",D.turn={dice:n,rollNumber:C.roundIndex},D.availableCells=[];for(let T=0;T<16;T++)for(let N=0;N<8;N++){if(!md(S,T,N,C)||T===W.Suma1||T===W.Suma2||T===W.Suma3)continue;const L=C.value[T]===-1?0:C.value[T];D.availableCells.push({row:OS[T],col:DS[N],score:L})}return D.instruction=o,console.log(JSON.stringify(D)),D},$=async()=>{if(C.roundIndex==R){if(!r)return;r.hidden=!1,r.style.top="525px",r.innerHTML="🎲 You’ve already made your move! Roll the dice again to continue.";return}B(C.roundIndex);const D=[{role:"system",content:p},{role:"user",content:JSON.stringify(I())+(C.roundIndex<=2?d:"")+(C.roundIndex<=3?h:"")}];console.log(D);const N=(await o6.chat.completions.create({model:y,messages:D,response_format:{type:"json_object"}})).choices[0].message.content;if(N){const q=JSON.parse(N);if(console.log("✅ AI Response:",q),q.action==="keep"&&a(q.diceToKeep),q.reason!=null&&r&&(r.hidden=!1,r.style.top="525px",q.action==="score"&&(r.style.top="725px"),r.innerHTML="☝️🤖 "+q.reason),q.action==="score"){let L=NS[q.category.row],P=kS[q.category.col];Sb({rowIndex:L,colIndex:P,gameState:C,isActive:md(S,L,P,C),tabela:S,updateTabela:_,setGameState:M,broadcastMessage:U,sendMessageToNextPlayer:A})}return q}else throw new Error("No response from AI")};return k.jsxs("button",{className:"relative h-[50px] w-[50px] rounded-md border-2 border-main-600 bg-main-900 p-1",children:[k.jsx("img",{src:"assets/robot-antennas (1).svg",onClick:()=>{$()}}),s&&k.jsxs(k.Fragment,{children:[k.jsx("textarea",{rows:16,cols:60,value:o,onChange:D=>c(D.target.value),className:"absolute left-[-515px] top-[-775px] rounded-xl border-4 bg-main-50 pl-2"}),k.jsx("textarea",{rows:5,cols:60,value:p,onChange:D=>m(D.target.value),className:"absolute left-[-515px] top-[-375px] rounded-xl border-4 bg-main-50 pl-2"}),k.jsx("textarea",{rows:1,cols:60,value:y,onChange:D=>b(D.target.value),className:"absolute left-[-515px] top-[-225px] rounded-xl border-4 bg-main-50 pl-2"})]})]})},l6=localStorage.getItem("openai-key"),o6=new Oe({apiKey:l6??"",dangerouslyAllowBrowser:!0}),c6=new URLSearchParams(window.location.search),u6=c6.get("game"),Y1=localStorage.getItem(u6+"-dice"),ad=Y1?JSON.parse(Y1):void 0,f6=({showSettings:s,textRef:n,gameId:a})=>{const[r,o]=ie.useState(ad?.rolledDice??[]),[c,d]=ie.useState(ad?.chosenDice??[]),[h,p]=ie.useState(ad?.numChosenDice??0),{gameState:m,setGameState:y}=ie.useContext(Bo);ie.useEffect(()=>{m.roundIndex==0&&!m.isMyMove&&(p(0),d([]),o([]))},[m.roundIndex]),ie.useEffect(()=>{let _=Array.from({length:16},()=>-1),C=Array.from({length:7},()=>0),M=[];for(let R=0;R<c.length;R++)C[c[R]]++,M.push(c[R]);for(let R=0;R<r.length;R++)C[r[R]]++,M.push(r[R]);if(M.length==0){y(R=>({...R,value:[]}));return}for(let R=0;R<6;R++)C[R]=Math.min(C[R],5);M.sort();for(let R=1;R<=6;R++)C[R]>=3&&(_[W.Triling]=Math.max(_[W.Triling],3*R+20)),C[R]>=4&&(_[W.Kare]=Math.max(_[W.Kare],4*R+40)),C[R]>=5&&(_[W.Yamb]=Math.max(_[W.Yamb],5*R+50));C[2]>=1&&C[3]>=1&&C[4]>=1&&C[5]>=1&&(C[1]>=1||C[6]>=1)&&(_[W.Kenta]=Math.max(_[W.Kenta],66-10*(m.roundIndex-1))),_[W.Jedinice]=Math.max(_[W.Jedinice],C[1]*1),_[W.Dvojke]=Math.max(_[W.Dvojke],C[2]*2),_[W.Trojke]=Math.max(_[W.Trojke],C[3]*3),_[W.Cetvorke]=Math.max(_[W.Cetvorke],C[4]*4),_[W.Petice]=Math.max(_[W.Petice],C[5]*5),_[W.Sestice]=Math.max(_[W.Sestice],C[6]*6);for(let R=1;R<=6;R++)for(let B=1;B<=6;B++)R!=B&&C[R]>=3&&C[B]>=2&&(_[W.Ful]=Math.max(_[W.Ful],3*R+2*B+30));let U=0,A=0;for(let R=0;R<5;R++)U+=M[R],A+=M[M.length-1-R];_[W.Minimum]=Math.max(_[W.Minimum],U),_[W.Maksimum]=Math.max(_[W.Maksimum],A),y(R=>({...R,value:_}))},[r]),ie.useEffect(()=>{localStorage.setItem(a+"-dice",JSON.stringify({chosenDice:c,rolledDice:r,numChosenDice:h}))},[c,r,h]);const b=()=>{if(!(m.roundIndex>=3)){y(_=>({..._,roundIndex:_.roundIndex+1})),o([]);for(let _=0;_<6-h;_++){const C=Math.ceil(Math.random()*6);o(M=>[...M,C])}}},S=_=>{o(C=>[...c,...C]),d([]);for(let C=0;C<_.length;C++){const M=_[C];d(U=>[...U,M]),o(U=>{let A=[...U];const R=A.indexOf(M);return A.splice(R,1),A})}p(_.length)};return m.isMyMove&&k.jsxs("div",{className:"flex flex-row items-center justify-center gap-6",children:[k.jsxs("div",{className:"f-full rounded-md border-4 border-main-600",children:[k.jsx("div",{className:"flex min-h-[82px] w-[412px] flex-wrap gap-4 bg-main-500 p-4",children:c.map((_,C)=>k.jsx("img",{className:"rounded-md bg-black",src:G1[_],alt:`Dice ${_}`,width:50,height:50,onClick:()=>{d(M=>M.filter((U,A)=>A!==C)),p(M=>M-1),o(M=>[...M,_])}},C))}),k.jsx("div",{className:"flex min-h-[82px] w-[412px] flex-wrap gap-4 bg-main-200 p-4",children:r.map((_,C)=>k.jsx("img",{className:"rounded-md bg-black",src:G1[_],alt:`Dice ${_}`,width:50,height:50,onClick:()=>{d(M=>[...M,_]),p(M=>M+1),o(M=>M.filter((U,A)=>A!==C))}},C))})]}),k.jsxs("div",{className:"flex flex-col items-center justify-around gap-4",children:[k.jsx("div",{className:"text-center",children:k.jsx("p",{className:"text-xl font-bold",children:m.roundIndex==0?"":"Round "+m.roundIndex+"/3"})}),k.jsx("button",{onClick:b,className:"h-[50px] w-[50px] text-xl font-bold",children:k.jsx("img",{src:"assets/rolling-dices.svg",alt:"Roll",width:50,height:50,className:"rounded-md border-2 border-main-600 bg-main-900"})}),k.jsx(i6,{showSettings:s,dice:[...c,...r],keepDice:S,textRef:n})]})]})},G1=[null,"assets/dice-six-faces-one.svg","assets/dice-six-faces-two.svg","assets/dice-six-faces-three.svg","assets/dice-six-faces-four.svg","assets/dice-six-faces-five.svg","assets/dice-six-faces-six.svg"],d6=new URLSearchParams(window.location.search),h6=d6.get("game"),X1=localStorage.getItem(h6+"-data");let I1=X1?JSON.parse(X1):void 0;const p6=({gameId:s,hostId:n})=>{const[a,r]=ie.useState(I1?.gameState??{roundIndex:0,value:[],isMyMove:!1}),{peerData:o}=ie.useContext(Ud),{peerId:c,registerDataCallback:d}=Ci(),[h,p]=ie.useState(1),{tabela:m,updateTabela:y}=ie.useContext(Uo),[b,S]=ie.useState(!1),_=ie.useRef(null),C=ie.useRef(null),[M,U]=ie.useState(null),[A,R]=ie.useState(I1?.color??"#50a2ff");ie.useEffect(()=>{o.length>0&&n==c&&r($=>({...$,isMyMove:!0}))},[]),ie.useEffect(()=>{let $={};$.peerData=o,$.peerData=$.peerData.map(D=>D.id===c?{...D,tabela:m}:D),$.tabela=m,$.peerId=c,$.gameState=a,$.color=A,$.date=new Date().getTime(),localStorage.setItem(s+"-data",JSON.stringify($)),localStorage.setItem(s+"-peerId",c)},[a,m,o,A]);const B=($,D,T)=>{r(N=>({...N,isMyMove:!0}))},I=($,D,T)=>{r(N=>({...N,dirigovana:T.data}))};return ie.useEffect(()=>{d("najava",I),d("next-player",B)},[]),ie.useEffect(()=>{const $=()=>{const D=window.innerWidth;let T=D>=600?1:.9*D/600;p(T)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),ie.useEffect(()=>{try{Vx(m,_,A)}catch($){console.error("Failed to export tabela image:",$)}},[m,A]),ie.useEffect(()=>{const $=C.current;if(!$)return;const D=()=>{const T=$.value;T&&R(T)};return $.addEventListener("change",D),()=>{$.removeEventListener("change",D)}},[]),ie.useEffect(()=>{Ix(A)},[A]),k.jsx("div",{className:"relative",children:k.jsx(Bo.Provider,{value:{gameState:a,setGameState:r},children:k.jsxs("div",{className:"absolute top-0 flex w-screen flex-col items-center justify-center pb-4 pt-4",children:[k.jsx("div",{className:"relative z-10 flex flex-row",children:k.jsx("canvas",{ref:_,className:"absolute h-[1px] translate-x-[-50%]"})}),k.jsxs("div",{style:{transform:`scale(${h})`,transformOrigin:"top"},className:"relative",children:[k.jsx(Jx,{tabela:m,updateTabela:y}),k.jsx("div",{className:"absolute m-6 rounded-md border-4 bg-main-200 p-2 text-3xl",style:{top:"525px"},onClick:$=>{$.target.hidden=!0},hidden:!0,ref:U,children:"☝️🤖"}),k.jsxs("div",{className:"mt-6 flex flex-row items-center justify-center gap-6",children:[k.jsxs("div",{className:"mb-2 flex flex-col items-center justify-around gap-4",children:[k.jsxs("button",{className:"relative h-[50px] w-[50px] rounded-md border-2 border-main-600 bg-main-900 p-1",children:[k.jsx("img",{src:"assets/large-paint-brush.svg"}),k.jsx("input",{type:"color",defaultValue:"#eb6434",ref:C,className:"absolute left-0 top-0 h-12 w-12 opacity-0"})]}),a.isMyMove&&a.roundIndex>0&&k.jsx(k.Fragment,{children:k.jsx("button",{className:"h-[50px] w-[50px] rounded-md border-2 border-main-600 bg-main-900 p-1",onClick:()=>r($=>({...$,blackout:!0})),children:k.jsx("img",{src:"assets/interdiction.svg"})})}),a.roundIndex>0&&k.jsx("button",{className:"h-[50px] w-[50px] rounded-md border-2 border-main-600 bg-main-900 p-1",onClick:()=>{S(!b)},children:k.jsx("img",{src:"assets/cog.svg"})})]}),k.jsx(f6,{showSettings:b,textRef:M,gameId:s})]})]})]})})})},m6=new URLSearchParams(window.location.search),bo=m6.get("game"),V1=localStorage.getItem(bo+"-data");let Q1=V1?JSON.parse(V1):void 0;const g6=()=>{const[s,n]=ie.useState(!!bo),[a,r]=ie.useState(Q1?.tabela??mg()),[o,c]=ie.useState(bo||""),[d,h]=ie.useState(Q1?.peerData??[]),{connectToAllPeers:p,registerCallback:m,registerDataCallback:y}=Ci(),b=(A,R,B)=>{if(!A){console.log(`Received peer data: ${B.data}`);const I=B.data.map($=>$.id);console.log("Peers: ",I),I.length&&p(I),h(B.data)}},S=(A,R,B)=>{A&&h(I=>I.map($=>$.id===R.peer?{...$,name:B.name}:$))},_=(A,R,B)=>{h(T=>T.map(N=>N.id===R.peer&&N.tabela==null?{...N,tabela:mg()}:N)),B=B.data;let I=B.rowIndex,$=B.colIndex,D=B.value;h(T=>T.map(N=>N.id===R.peer&&N.tabela!=null?{...N,tabela:N.tabela.map((q,L)=>L==I?q.map((P,X)=>X==$?{...P,value:D}:P):q)}:N))};ie.useEffect(()=>{m("open",A=>{d.length==0&&h([{id:A,name:"",index:0}]),console.log("CALLING OPEN"),console.log("MY ID IS: ",A),console.log("PEER DATA IS: ",d.map(R=>R.id)),p(d.map(R=>R.id))}),m("connection",A=>{console.log(`Incoming connection from FROM APP ${A.peer}`),h(R=>R.find(B=>B.id===A.peer)?R:[...R,{id:A.peer,name:"",index:R.length}])}),y("peer-data",b),y("name",S),y("move",_)},[]);const[C,M]=ie.useState(""),U=(A,R,B)=>{r(I=>{const $=I.map(L=>[...L]);$[A][R]=B;const D=L=>{if(!$[W.Suma1][L]?.value){let P=0,X=0;for(let F=0;F<6;F++)$[F][L]?.value!=null&&(P++,X+=$[F][L]?.value??0);X>60&&(X+=30),P==6&&($[W.Suma1][L]={value:X,isAvailable:!1})}},T=L=>{if(!$[W.Suma2][L]?.value){let P=$[W.Maksimum][L]?.value,X=$[W.Minimum][L]?.value,F=$[W.Jedinice][L]?.value;if(P!=null&&X!=null&&F!=null){let re=Math.max(P-X,0)*F;$[W.Suma2][L]={value:re,isAvailable:!1}}}},N=L=>{if(!$[W.Suma3][L]?.value){let P=0;for(let X=W.Kenta;X<=W.Yamb;X++){if($[X][L]?.value==null)return;P+=$[X][L]?.value??0}$[W.Suma3][L]={value:P,isAvailable:!1}}},q=L=>{if($[L][ve.Yamb]?.value==null){let P=0;for(let X=0;X<10;X++){if($[L][X]?.value==null)return;P+=$[L][X]?.value??0}$[L][ve.Yamb]={value:P,isAvailable:!1}}};return A>=W.Jedinice&&A<=W.Sestice&&D(R),(A==W.Maksimum||A==W.Minimum||A==W.Jedinice)&&T(R),A>=W.Kenta&&A<=W.Yamb&&N(R),(A==W.Suma1||A==W.Suma2||A==W.Suma3)&&q(A),$})};return ie.useEffect(()=>{const A=new URLSearchParams(window.location.search);A.get("game")&&n(!0);const B=A.get("host");B&&(M(B),console.log(`Host ID loaded from URL: ${B}`),window.history.replaceState({},"",window.location.pathname))},[]),ie.useEffect(()=>{if(o){const A=new URLSearchParams(window.location.search);A.set("game",o),window.history.replaceState({},"",window.location.pathname+"?"+A.toString())}},[o]),k.jsx("div",{children:k.jsx(Uo.Provider,{value:{tabela:a,setTabela:r,updateTabela:U},children:k.jsx(Ud.Provider,{value:{peerData:d,setPeerData:h},children:s?k.jsx(p6,{gameId:o,hostId:C}):k.jsx($3,{setHasStarted:n,setGameId:c,hostId:C,setHostId:M})})})})};TS.createRoot(document.getElementById("root")).render(k.jsx(s3,{children:k.jsx(g6,{})}));
